function $A(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function AE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zm={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function KA(){if(b0)return nc;b0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:r,type:i,key:u,ref:o!==void 0?o:null,props:c}}return nc.Fragment=e,nc.jsx=t,nc.jsxs=t,nc}var E0;function YA(){return E0||(E0=1,zm.exports=KA()),zm.exports}var p=YA(),Bm={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function QA(){if(w0)return ke;w0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,C={};function k(j,ee,ue){this.props=j,this.context=ee,this.refs=C,this.updater=ue||I}k.prototype.isReactComponent={},k.prototype.setState=function(j,ee){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ee,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function L(){}L.prototype=k.prototype;function K(j,ee,ue){this.props=j,this.context=ee,this.refs=C,this.updater=ue||I}var z=K.prototype=new L;z.constructor=K,V(z,k.prototype),z.isPureReactComponent=!0;var X=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function D(j,ee,ue,re,he,xe){return ue=xe.ref,{$$typeof:r,type:j,key:ee,ref:ue!==void 0?ue:null,props:xe}}function A(j,ee){return D(j.type,ee,void 0,void 0,void 0,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function M(j){var ee={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return ee[ue]})}var U=/\/+/g;function F(j,ee){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):ee.toString(36)}function P(){}function Je(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(P,P):(j.status="pending",j.then(function(ee){j.status==="pending"&&(j.status="fulfilled",j.value=ee)},function(ee){j.status==="pending"&&(j.status="rejected",j.reason=ee)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Ge(j,ee,ue,re,he){var xe=typeof j;(xe==="undefined"||xe==="boolean")&&(j=null);var Ee=!1;if(j===null)Ee=!0;else switch(xe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(j.$$typeof){case r:case e:Ee=!0;break;case _:return Ee=j._init,Ge(Ee(j._payload),ee,ue,re,he)}}if(Ee)return he=he(j),Ee=re===""?"."+F(j,0):re,X(he)?(ue="",Ee!=null&&(ue=Ee.replace(U,"$&/")+"/"),Ge(he,ee,ue,"",function(mn){return mn})):he!=null&&(N(he)&&(he=A(he,ue+(he.key==null||j&&j.key===he.key?"":(""+he.key).replace(U,"$&/")+"/")+Ee)),ee.push(he)),1;Ee=0;var De=re===""?".":re+":";if(X(j))for(var et=0;et<j.length;et++)re=j[et],xe=De+F(re,et),Ee+=Ge(re,ee,ue,xe,he);else if(et=x(j),typeof et=="function")for(j=et.call(j),et=0;!(re=j.next()).done;)re=re.value,xe=De+F(re,et++),Ee+=Ge(re,ee,ue,xe,he);else if(xe==="object"){if(typeof j.then=="function")return Ge(Je(j),ee,ue,re,he);throw ee=String(j),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Z(j,ee,ue){if(j==null)return j;var re=[],he=0;return Ge(j,re,"","",function(xe){return ee.call(ue,xe,he++)}),re}function ie(j){if(j._status===-1){var ee=j._result;ee=ee(),ee.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=ee)}if(j._status===1)return j._result.default;throw j._result}var te=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ve(){}return ke.Children={map:Z,forEach:function(j,ee,ue){Z(j,function(){ee.apply(this,arguments)},ue)},count:function(j){var ee=0;return Z(j,function(){ee++}),ee},toArray:function(j){return Z(j,function(ee){return ee})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ke.Component=k,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=K,ke.StrictMode=i,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ke.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Y.H.useMemoCache(j)}},ke.cache=function(j){return function(){return j.apply(null,arguments)}},ke.cloneElement=function(j,ee,ue){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var re=V({},j.props),he=j.key,xe=void 0;if(ee!=null)for(Ee in ee.ref!==void 0&&(xe=void 0),ee.key!==void 0&&(he=""+ee.key),ee)!se.call(ee,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ee.ref===void 0||(re[Ee]=ee[Ee]);var Ee=arguments.length-2;if(Ee===1)re.children=ue;else if(1<Ee){for(var De=Array(Ee),et=0;et<Ee;et++)De[et]=arguments[et+2];re.children=De}return D(j.type,he,void 0,void 0,xe,re)},ke.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},ke.createElement=function(j,ee,ue){var re,he={},xe=null;if(ee!=null)for(re in ee.key!==void 0&&(xe=""+ee.key),ee)se.call(ee,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(he[re]=ee[re]);var Ee=arguments.length-2;if(Ee===1)he.children=ue;else if(1<Ee){for(var De=Array(Ee),et=0;et<Ee;et++)De[et]=arguments[et+2];he.children=De}if(j&&j.defaultProps)for(re in Ee=j.defaultProps,Ee)he[re]===void 0&&(he[re]=Ee[re]);return D(j,xe,void 0,void 0,null,he)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(j){return{$$typeof:f,render:j}},ke.isValidElement=N,ke.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:ie}},ke.memo=function(j,ee){return{$$typeof:y,type:j,compare:ee===void 0?null:ee}},ke.startTransition=function(j){var ee=Y.T,ue={};Y.T=ue;try{var re=j(),he=Y.S;he!==null&&he(ue,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ve,te)}catch(xe){te(xe)}finally{Y.T=ee}},ke.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ke.use=function(j){return Y.H.use(j)},ke.useActionState=function(j,ee,ue){return Y.H.useActionState(j,ee,ue)},ke.useCallback=function(j,ee){return Y.H.useCallback(j,ee)},ke.useContext=function(j){return Y.H.useContext(j)},ke.useDebugValue=function(){},ke.useDeferredValue=function(j,ee){return Y.H.useDeferredValue(j,ee)},ke.useEffect=function(j,ee,ue){var re=Y.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(j,ee)},ke.useId=function(){return Y.H.useId()},ke.useImperativeHandle=function(j,ee,ue){return Y.H.useImperativeHandle(j,ee,ue)},ke.useInsertionEffect=function(j,ee){return Y.H.useInsertionEffect(j,ee)},ke.useLayoutEffect=function(j,ee){return Y.H.useLayoutEffect(j,ee)},ke.useMemo=function(j,ee){return Y.H.useMemo(j,ee)},ke.useOptimistic=function(j,ee){return Y.H.useOptimistic(j,ee)},ke.useReducer=function(j,ee,ue){return Y.H.useReducer(j,ee,ue)},ke.useRef=function(j){return Y.H.useRef(j)},ke.useState=function(j){return Y.H.useState(j)},ke.useSyncExternalStore=function(j,ee,ue){return Y.H.useSyncExternalStore(j,ee,ue)},ke.useTransition=function(){return Y.H.useTransition()},ke.version="19.1.1",ke}var x0;function Wg(){return x0||(x0=1,Bm.exports=QA()),Bm.exports}var T=Wg();const hs=AE(T),RE=$A({__proto__:null,default:hs},[T]);var Fm={exports:{}},rc={},qm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function XA(){return T0||(T0=1,(function(r){function e(Z,ie){var te=Z.length;Z.push(ie);e:for(;0<te;){var ve=te-1>>>1,j=Z[ve];if(0<o(j,ie))Z[ve]=ie,Z[te]=j,te=ve;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ie=Z[0],te=Z.pop();if(te!==ie){Z[0]=te;e:for(var ve=0,j=Z.length,ee=j>>>1;ve<ee;){var ue=2*(ve+1)-1,re=Z[ue],he=ue+1,xe=Z[he];if(0>o(re,te))he<j&&0>o(xe,re)?(Z[ve]=xe,Z[he]=te,ve=he):(Z[ve]=re,Z[ue]=te,ve=ue);else if(he<j&&0>o(xe,te))Z[ve]=xe,Z[he]=te,ve=he;else break e}}return ie}function o(Z,ie){var te=Z.sortIndex-ie.sortIndex;return te!==0?te:Z.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var g=[],y=[],_=1,w=null,x=3,I=!1,V=!1,C=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function X(Z){for(var ie=t(y);ie!==null;){if(ie.callback===null)i(y);else if(ie.startTime<=Z)i(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=t(y)}}function Y(Z){if(C=!1,X(Z),!V)if(t(g)!==null)V=!0,se||(se=!0,F());else{var ie=t(y);ie!==null&&Ge(Y,ie.startTime-Z)}}var se=!1,D=-1,A=5,N=-1;function M(){return k?!0:!(r.unstable_now()-N<A)}function U(){if(k=!1,se){var Z=r.unstable_now();N=Z;var ie=!0;try{e:{V=!1,C&&(C=!1,K(D),D=-1),I=!0;var te=x;try{t:{for(X(Z),w=t(g);w!==null&&!(w.expirationTime>Z&&M());){var ve=w.callback;if(typeof ve=="function"){w.callback=null,x=w.priorityLevel;var j=ve(w.expirationTime<=Z);if(Z=r.unstable_now(),typeof j=="function"){w.callback=j,X(Z),ie=!0;break t}w===t(g)&&i(g),X(Z)}else i(g);w=t(g)}if(w!==null)ie=!0;else{var ee=t(y);ee!==null&&Ge(Y,ee.startTime-Z),ie=!1}}break e}finally{w=null,x=te,I=!1}ie=void 0}}finally{ie?F():se=!1}}}var F;if(typeof z=="function")F=function(){z(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Je=P.port2;P.port1.onmessage=U,F=function(){Je.postMessage(null)}}else F=function(){L(U,0)};function Ge(Z,ie){D=L(function(){Z(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var te=x;x=ie;try{return Z()}finally{x=te}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=x;x=Z;try{return ie()}finally{x=te}},r.unstable_scheduleCallback=function(Z,ie,te){var ve=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ve+te:ve):te=ve,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=te+j,Z={id:_++,callback:ie,priorityLevel:Z,startTime:te,expirationTime:j,sortIndex:-1},te>ve?(Z.sortIndex=te,e(y,Z),t(g)===null&&Z===t(y)&&(C?(K(D),D=-1):C=!0,Ge(Y,te-ve))):(Z.sortIndex=j,e(g,Z),V||I||(V=!0,se||(se=!0,F()))),Z},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Z){var ie=x;return function(){var te=x;x=ie;try{return Z.apply(this,arguments)}finally{x=te}}}})(Hm)),Hm}var S0;function WA(){return S0||(S0=1,qm.exports=XA()),qm.exports}var Gm={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function ZA(){if(A0)return on;A0=1;var r=Wg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:_}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},on.flushSync=function(g){var y=u.T,_=i.p;try{if(u.T=null,i.p=2,g)return g()}finally{u.T=y,i.p=_,i.d.f()}},on.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},on.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},on.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,w=f(_,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:I}):_==="script"&&i.d.X(g,{crossOrigin:w,integrity:x,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=f(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},on.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,w=f(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=f(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},on.requestFormReset=function(g){i.d.r(g)},on.unstable_batchedUpdates=function(g,y){return g(y)},on.useFormState=function(g,y,_){return u.H.useFormState(g,y,_)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.1.1",on}var R0;function NE(){if(R0)return Gm.exports;R0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=ZA(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function JA(){if(N0)return rc;N0=1;var r=WA(),e=Wg(),t=NE();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(c(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,l=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return f(h),n;if(m===l)return f(h),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=m;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=m;break}if(S===l){E=!0,l=h,a=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===a){E=!0,a=m,l=h;break}if(S===l){E=!0,l=m,a=h;break}S=S.sibling}if(!E)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var P=Symbol.for("react.client.reference");function Je(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===P?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case Y:return"Suspense";case se:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case z:return(n.displayName||"Context")+".Provider";case K:return(n._context.displayName||"Context")+".Consumer";case X:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:Je(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return Je(n(s))}catch{}}return null}var Ge=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ve=[],j=-1;function ee(n){return{current:n}}function ue(n){0>j||(n.current=ve[j],ve[j]=null,j--)}function re(n,s){j++,ve[j]=n.current,n.current=s}var he=ee(null),xe=ee(null),Ee=ee(null),De=ee(null);function et(n,s){switch(re(Ee,s),re(xe,n),re(he,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Y_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Y_(s),n=Q_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(he),re(he,n)}function mn(){ue(he),ue(xe),ue(Ee)}function An(n){n.memoizedState!==null&&re(De,n);var s=he.current,a=Q_(s,n.type);s!==a&&(re(xe,n),re(he,a))}function Rn(n){xe.current===n&&(ue(he),ue(xe)),De.current===n&&(ue(De),Wl._currentValue=te)}var zn=Object.prototype.hasOwnProperty,bi=r.unstable_scheduleCallback,Ei=r.unstable_cancelCallback,Yo=r.unstable_shouldYield,Qc=r.unstable_requestPaint,Bn=r.unstable_now,Uh=r.unstable_getCurrentPriorityLevel,Qo=r.unstable_ImmediatePriority,_a=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,zh=r.unstable_LowPriority,ba=r.unstable_IdlePriority,Xo=r.log,Xc=r.unstable_setDisableYieldValue,bt=null,tt=null;function Nn(n){if(typeof Xo=="function"&&Xc(n),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(bt,n)}catch{}}var sn=Math.clz32?Math.clz32:xi,Wc=Math.log,Bh=Math.LN2;function xi(n){return n>>>=0,n===0?32:31-(Wc(n)/Bh|0)|0}var Ti=256,Si=4194304;function er(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ea(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?h=er(l):(E&=S,E!==0?h=er(E):a||(a=S&~n,a!==0&&(h=er(a))))):(S=l&~m,S!==0?h=er(S):E!==0?h=er(E):a||(a=l&~n,a!==0&&(h=er(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Ai(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Wo(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var n=Ti;return Ti<<=1,(Ti&4194048)===0&&(Ti=256),n}function Jo(){var n=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),n}function zr(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Br(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function el(n,s,a,l,h,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,O=n.expirationTimes,$=n.hiddenUpdates;for(a=E&~a;0<a;){var ne=31-sn(a),oe=1<<ne;S[ne]=0,O[ne]=-1;var Q=$[ne];if(Q!==null)for($[ne]=null,ne=0;ne<Q.length;ne++){var W=Q[ne];W!==null&&(W.lane&=-536870913)}a&=~oe}l!==0&&fr(n,l,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~s))}function fr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-sn(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function tl(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-sn(a),h=1<<l;h&s|n[l]&s&&(n[l]|=s),a&=~h}}function As(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function wa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Rs(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:m0(n.type))}function Zc(n,s){var a=ie.p;try{return ie.p=n,s()}finally{ie.p=a}}var ft=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ft,Rt="__reactProps$"+ft,Fn="__reactContainer$"+ft,nl="__reactEvents$"+ft,Fh="__reactListeners$"+ft,Ns="__reactHandles$"+ft,Jc="__reactResources$"+ft,Ri="__reactMarker$"+ft;function Cs(n){delete n[Ot],delete n[Rt],delete n[nl],delete n[Fh],delete n[Ns]}function Fr(n){var s=n[Ot];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Fn]||a[Ot]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=J_(n);n!==null;){if(a=n[Ot])return a;n=J_(n)}return s}n=a,a=n.parentNode}return null}function mr(n){if(n=n[Ot]||n[Fn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function gr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function gn(n){var s=n[Jc];return s||(s=n[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(n){n[Ri]=!0}var rl=new Set,xa={};function tr(n,s){qr(n,s),qr(n+"Capture",s)}function qr(n,s){for(xa[n]=s,n=0;n<s.length;n++)rl.add(s[n])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},Ni={};function nu(n){return zn.call(Ni,n)?!0:zn.call(tu,n)?!1:eu.test(n)?Ni[n]=!0:(tu[n]=!0,!1)}function Is(n,s,a){if(nu(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function pr(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Kt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Ci,ru;function Hr(n){if(Ci===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ci=s&&s[1]||"",ru=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ci+n+ru}var Ta=!1;function Sa(n,s){if(!n||Ta)return"";Ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var Q=W}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(W){Q=W}n.call(oe.prototype)}}else{try{throw Error()}catch(W){Q=W}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],S=m[1];if(E&&S){var O=E.split(`
`),$=S.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===$.length)for(l=O.length-1,h=$.length-1;1<=l&&0<=h&&O[l]!==$[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==$[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==$[h]){var ne=`
`+O[l].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=l&&0<=h);break}}}finally{Ta=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Hr(a):""}function sl(n){switch(n.tag){case 26:case 27:case 5:return Hr(n.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 15:return Sa(n.type,!1);case 11:return Sa(n.type.render,!1);case 1:return Sa(n.type,!0);case 31:return Hr("Activity");default:return""}}function Aa(n){try{var s="";do s+=sl(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function il(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qh(n){var s=il(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ra(n){n._valueTracker||(n._valueTracker=qh(n))}function al(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=il(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Ii(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hh=/[\n"\\]/g;function Nt(n){return n.replace(Hh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Cn(n,s,a,l,h,m,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+pn(s)):n.value!==""+pn(s)&&(n.value=""+pn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?ks(n,E,pn(s)):a!=null?ks(n,E,pn(a)):l!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+pn(S):n.removeAttribute("name")}function ki(n,s,a,l,h,m,E,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+pn(a):"",s=s!=null?""+pn(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function ks(n,s,a){s==="number"&&Ii(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Gr(n,s,a,l){if(n=n.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=s.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+pn(a),s=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function it(n,s,a){if(s!=null&&(s=""+pn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+pn(a):""}function Di(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(Ge(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=pn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function qn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Oi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function su(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||Oi.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function ol(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&su(n,h,l)}else for(var m in s)s.hasOwnProperty(m)&&su(n,m,s[m])}function ll(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(n){return $h.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var $r=null;function Hn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Kr=null,Yr=null;function cl(n){var s=mr(n);if(s&&(n=s.stateNode)){var a=n[Rt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Cn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var h=l[Rt]||null;if(!h)throw Error(i(90));Cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&al(l)}break e;case"textarea":it(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Gr(n,!!a.multiple,s,!1)}}}var yr=!1;function iu(n,s,a){if(yr)return n(s,a);yr=!0;try{var l=n(s);return l}finally{if(yr=!1,(Kr!==null||Yr!==null)&&(Zu(),Kr&&(s=Kr,n=Yr,Yr=Kr=null,cl(s),n)))for(s=0;s<n.length;s++)cl(n[s])}}function Pi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Rt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(nr)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Gn=!1}var vr=null,Ds=null,Qr=null;function ul(){if(Qr)return Qr;var n,s=Ds,a=s.length,l,h="value"in vr?vr.value:vr.textContent,m=h.length;for(n=0;n<a&&s[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&s[a-l]===h[m-l];l++);return Qr=h.slice(n,1<l?1-l:void 0)}function _r(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function br(){return!0}function dl(){return!1}function zt(n){function s(a,l,h,m,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?br:dl,this.isPropagationStopped=dl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),s}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=zt(Ze),ji=_({},Ze,{view:0,detail:0}),au=zt(ji),Ia,ka,Er,Vi=_({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Er&&(Er&&n.type==="mousemove"?(Ia=n.screenX-Er.screenX,ka=n.screenY-Er.screenY):ka=Ia=0,Er=n),Ia)},movementY:function(n){return"movementY"in n?n.movementY:ka}}),$n=zt(Vi),ou=_({},Vi,{dataTransfer:0}),Kh=zt(ou),Li=_({},ji,{relatedTarget:0}),Da=zt(Li),hl=_({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=zt(hl),lu=_({},Ze,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Pa=zt(lu),Yh=_({},Ze,{data:0}),fl=zt(Yh),Ui={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=uu[n])?!!s[n]:!1}function zi(){return ml}var du=_({},ji,{key:function(n){if(n.key){var s=Ui[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=_r(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(n){return n.type==="keypress"?_r(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_r(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ma=zt(du),hu=_({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=zt(hu),Xr=_({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),fu=zt(Xr),mu=_({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=zt(mu),pu=_({},Vi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=zt(pu),yn=_({},Ze,{newState:0,oldState:0}),yu=zt(yn),vu=[9,13,27,32],wr=nr&&"CompositionEvent"in window,d=null;nr&&"documentMode"in document&&(d=document.documentMode);var v=nr&&"TextEvent"in window&&!d,b=nr&&(!wr||d&&8<d&&11>=d),R=" ",H=!1;function J(n,s){switch(n){case"keyup":return vu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function Pt(n,s){switch(n){case"compositionend":return de(s);case"keypress":return s.which!==32?null:(H=!0,R);case"textInput":return n=s.data,n===R&&H?null:n;default:return null}}function Fe(n,s){if(Be)return n==="compositionend"||!wr&&J(n,s)?(n=ul(),Qr=Ds=vr=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Bt[n.type]:s==="textarea"}function Wr(n,s,a,l){Kr?Yr?Yr.push(l):Yr=[l]:Kr=l,s=sd(s,"onChange"),0<s.length&&(a=new Ca("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Yt=null,xr=null;function pl(n){q_(n,0)}function _u(n){var s=gr(n);if(al(s))return n}function uy(n,s){if(n==="change")return s}var dy=!1;if(nr){var Qh;if(nr){var Xh="oninput"in document;if(!Xh){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Xh=typeof hy.oninput=="function"}Qh=Xh}else Qh=!1;dy=Qh&&(!document.documentMode||9<document.documentMode)}function fy(){Yt&&(Yt.detachEvent("onpropertychange",my),xr=Yt=null)}function my(n){if(n.propertyName==="value"&&_u(xr)){var s=[];Wr(s,xr,n,Hn(n)),iu(pl,s)}}function wS(n,s,a){n==="focusin"?(fy(),Yt=s,xr=a,Yt.attachEvent("onpropertychange",my)):n==="focusout"&&fy()}function xS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _u(xr)}function TS(n,s){if(n==="click")return _u(s)}function SS(n,s){if(n==="input"||n==="change")return _u(s)}function AS(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var In=typeof Object.is=="function"?Object.is:AS;function yl(n,s){if(In(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!zn.call(s,h)||!In(n[h],s[h]))return!1}return!0}function gy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function py(n,s){var a=gy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gy(a)}}function yy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?yy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function vy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ii(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ii(n.document)}return s}function Wh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var RS=nr&&"documentMode"in document&&11>=document.documentMode,Va=null,Zh=null,vl=null,Jh=!1;function _y(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||Va==null||Va!==Ii(l)||(l=Va,"selectionStart"in l&&Wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&yl(vl,l)||(vl=l,l=sd(Zh,"onSelect"),0<l.length&&(s=new Ca("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Va)))}function Bi(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var La={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},ef={},by={};nr&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Fi(n){if(ef[n])return ef[n];if(!La[n])return n;var s=La[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in by)return ef[n]=s[a];return n}var Ey=Fi("animationend"),wy=Fi("animationiteration"),xy=Fi("animationstart"),NS=Fi("transitionrun"),CS=Fi("transitionstart"),IS=Fi("transitioncancel"),Ty=Fi("transitionend"),Sy=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function rr(n,s){Sy.set(n,s),tr(s,[n])}var Ay=new WeakMap;function Kn(n,s){if(typeof n=="object"&&n!==null){var a=Ay.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Aa(s)},Ay.set(n,s),s)}return{value:n,source:s,stack:Aa(s)}}var Yn=[],Ua=0,nf=0;function bu(){for(var n=Ua,s=nf=Ua=0;s<n;){var a=Yn[s];Yn[s++]=null;var l=Yn[s];Yn[s++]=null;var h=Yn[s];Yn[s++]=null;var m=Yn[s];if(Yn[s++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}m!==0&&Ry(a,h,m)}}function Eu(n,s,a,l){Yn[Ua++]=n,Yn[Ua++]=s,Yn[Ua++]=a,Yn[Ua++]=l,nf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function rf(n,s,a,l){return Eu(n,s,a,l),wu(n)}function za(n,s){return Eu(n,null,null,s),wu(n)}function Ry(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&s!==null&&(h=31-sn(a),n=m.hiddenUpdates,l=n[h],l===null?n[h]=[s]:l.push(s),s.lane=a|536870912),m):null}function wu(n){if(50<ql)throw ql=0,um=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ba={};function kS(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,s,a,l){return new kS(n,s,a,l)}function sf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Zr(n,s){var a=n.alternate;return a===null?(a=kn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ny(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function xu(n,s,a,l,h,m){var E=0;if(l=n,typeof n=="function")sf(n)&&(E=1);else if(typeof n=="string")E=OA(n,a,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=kn(31,a,s,h),n.elementType=N,n.lanes=m,n;case V:return qi(a.children,h,m,s);case C:E=8,h|=24;break;case k:return n=kn(12,a,s,h|2),n.elementType=k,n.lanes=m,n;case Y:return n=kn(13,a,s,h),n.elementType=Y,n.lanes=m,n;case se:return n=kn(19,a,s,h),n.elementType=se,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:case z:E=10;break e;case K:E=9;break e;case X:E=11;break e;case D:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(i(130,n===null?"null":typeof n,"")),l=null}return s=kn(E,a,s,h),s.elementType=n,s.type=l,s.lanes=m,s}function qi(n,s,a,l){return n=kn(7,n,l,s),n.lanes=a,n}function af(n,s,a){return n=kn(6,n,null,s),n.lanes=a,n}function of(n,s,a){return s=kn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Fa=[],qa=0,Tu=null,Su=0,Qn=[],Xn=0,Hi=null,Jr=1,es="";function Gi(n,s){Fa[qa++]=Su,Fa[qa++]=Tu,Tu=n,Su=s}function Cy(n,s,a){Qn[Xn++]=Jr,Qn[Xn++]=es,Qn[Xn++]=Hi,Hi=n;var l=Jr;n=es;var h=32-sn(l)-1;l&=~(1<<h),a+=1;var m=32-sn(s)+h;if(30<m){var E=h-h%5;m=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Jr=1<<32-sn(s)+h|a<<h|l,es=m+n}else Jr=1<<m|a<<h|l,es=n}function lf(n){n.return!==null&&(Gi(n,1),Cy(n,1,0))}function cf(n){for(;n===Tu;)Tu=Fa[--qa],Fa[qa]=null,Su=Fa[--qa],Fa[qa]=null;for(;n===Hi;)Hi=Qn[--Xn],Qn[Xn]=null,es=Qn[--Xn],Qn[Xn]=null,Jr=Qn[--Xn],Qn[Xn]=null}var vn=null,Et=null,Xe=!1,$i=null,Tr=!1,uf=Error(i(519));function Ki(n){var s=Error(i(418,""));throw El(Kn(s,n)),uf}function Iy(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Ot]=n,s[Rt]=l,a){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Le(Gl[a],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),ki(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),Di(s,l.value,l.defaultValue,l.children),Ra(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||K_(s.textContent,a)?(l.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),l.onScroll!=null&&Le("scroll",s),l.onScrollEnd!=null&&Le("scrollend",s),l.onClick!=null&&(s.onclick=id),s=!0):s=!1,s||Ki(n)}function ky(n){for(vn=n.return;vn;)switch(vn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:vn=vn.return}}function _l(n){if(n!==vn)return!1;if(!Xe)return ky(n),Xe=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Am(n.type,n.memoizedProps)),a=!a),a&&Et&&Ki(n),ky(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){Et=ir(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}Et=null}}else s===27?(s=Et,Ys(n.type)?(n=Im,Im=null,Et=n):Et=s):Et=vn?ir(n.stateNode.nextSibling):null;return!0}function bl(){Et=vn=null,Xe=!1}function Dy(){var n=$i;return n!==null&&(En===null?En=n:En.push.apply(En,n),$i=null),n}function El(n){$i===null?$i=[n]:$i.push(n)}var df=ee(null),Yi=null,ts=null;function Os(n,s,a){re(df,s._currentValue),s._currentValue=a}function ns(n){n._currentValue=df.current,ue(df)}function hf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function ff(n,s,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var O=0;O<s.length;O++)if(S.context===s[O]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),hf(m.return,a,n),l||(E=null);break e}m=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),hf(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function wl(n,s,a,l){n=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=h.type;In(h.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(h===De.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Wl):n=[Wl])}h=h.return}n!==null&&ff(s,n,a,l),s.flags|=262144}function Au(n){for(n=n.firstContext;n!==null;){if(!In(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qi(n){Yi=n,ts=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function an(n){return Oy(Yi,n)}function Ru(n,s){return Yi===null&&Qi(n),Oy(n,s)}function Oy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ts===null){if(n===null)throw Error(i(308));ts=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ts=ts.next=s;return a}var DS=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},OS=r.unstable_scheduleCallback,PS=r.unstable_NormalPriority,jt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new DS,data:new Map,refCount:0}}function xl(n){n.refCount--,n.refCount===0&&OS(PS,function(){n.controller.abort()})}var Tl=null,gf=0,Ha=0,Ga=null;function MS(n,s){if(Tl===null){var a=Tl=[];gf=0,Ha=ym(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gf++,s.then(Py,Py),s}function Py(){if(--gf===0&&Tl!==null){Ga!==null&&(Ga.status="fulfilled");var n=Tl;Tl=null,Ha=0,Ga=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function jS(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var My=Z.S;Z.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&MS(n,s),My!==null&&My(n,s)};var Xi=ee(null);function pf(){var n=Xi.current;return n!==null?n:dt.pooledCache}function Nu(n,s){s===null?re(Xi,Xi.current):re(Xi,s.pool)}function jy(){var n=pf();return n===null?null:{parent:jt._currentValue,pool:n}}var Sl=Error(i(460)),Vy=Error(i(474)),Cu=Error(i(542)),yf={then:function(){}};function Ly(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Iu(){}function Uy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Iu,Iu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,By(n),n;default:if(typeof s.status=="string")s.then(Iu,Iu);else{if(n=dt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,By(n),n}throw Al=s,Sl}}var Al=null;function zy(){if(Al===null)throw Error(i(459));var n=Al;return Al=null,n}function By(n){if(n===Sl||n===Cu)throw Error(i(483))}var Ps=!1;function vf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ms(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function js(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=wu(n),Ry(n,null,a),s}return Eu(n,l,s,a),wu(n)}function Rl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,tl(n,a)}}function bf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Ef=!1;function Nl(){if(Ef){var n=Ga;if(n!==null)throw n}}function Cl(n,s,a,l){Ef=!1;var h=n.updateQueue;Ps=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,$=O.next;O.next=null,E===null?m=$:E.next=$,E=O;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==E&&(S===null?ne.firstBaseUpdate=$:S.next=$,ne.lastBaseUpdate=O))}if(m!==null){var oe=h.baseState;E=0,ne=$=O=null,S=m;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(qe&Q)===Q:(l&Q)===Q){Q!==0&&Q===Ha&&(Ef=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Se=n,we=S;Q=s;var lt=a;switch(we.tag){case 1:if(Se=we.payload,typeof Se=="function"){oe=Se.call(lt,oe,Q);break e}oe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=we.payload,Q=typeof Se=="function"?Se.call(lt,oe,Q):Se,Q==null)break e;oe=_({},oe,Q);break e;case 2:Ps=!0}}Q=S.callback,Q!==null&&(n.flags|=64,W&&(n.flags|=8192),W=h.callbacks,W===null?h.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?($=ne=W,O=oe):ne=ne.next=W,E|=Q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;W=S,S=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ne===null&&(O=oe),h.baseState=O,h.firstBaseUpdate=$,h.lastBaseUpdate=ne,m===null&&(h.shared.lanes=0),Hs|=E,n.lanes=E,n.memoizedState=oe}}function Fy(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function qy(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Fy(a[n],s)}var $a=ee(null),ku=ee(0);function Hy(n,s){n=cs,re(ku,n),re($a,s),cs=n|s.baseLanes}function wf(){re(ku,cs),re($a,$a.current)}function xf(){cs=ku.current,ue($a),ue(ku)}var Vs=0,Oe=null,at=null,Ct=null,Du=!1,Ka=!1,Wi=!1,Ou=0,Il=0,Ya=null,VS=0;function Tt(){throw Error(i(321))}function Tf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!In(n[a],s[a]))return!1;return!0}function Sf(n,s,a,l,h,m){return Vs=m,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=n===null||n.memoizedState===null?Rv:Nv,Wi=!1,m=a(l,h),Wi=!1,Ka&&(m=$y(s,a,l,h)),Gy(n),m}function Gy(n){Z.H=Uu;var s=at!==null&&at.next!==null;if(Vs=0,Ct=at=Oe=null,Du=!1,Il=0,Ya=null,s)throw Error(i(300));n===null||Ft||(n=n.dependencies,n!==null&&Au(n)&&(Ft=!0))}function $y(n,s,a,l){Oe=n;var h=0;do{if(Ka&&(Ya=null),Il=0,Ka=!1,25<=h)throw Error(i(301));if(h+=1,Ct=at=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=HS,m=s(a,l)}while(Ka);return m}function LS(){var n=Z.H,s=n.useState()[0];return s=typeof s.then=="function"?kl(s):s,n=n.useState()[0],(at!==null?at.memoizedState:null)!==n&&(Oe.flags|=1024),s}function Af(){var n=Ou!==0;return Ou=0,n}function Rf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Nf(n){if(Du){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Du=!1}Vs=0,Ct=at=Oe=null,Ka=!1,Il=Ou=0,Ya=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Oe.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function It(){if(at===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var s=Ct===null?Oe.memoizedState:Ct.next;if(s!==null)Ct=s,at=n;else{if(n===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ct===null?Oe.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(n){var s=Il;return Il+=1,Ya===null&&(Ya=[]),n=Uy(Ya,n,s),s=Oe,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?Rv:Nv),n}function Pu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return kl(n);if(n.$$typeof===z)return an(n)}throw Error(i(438,String(n)))}function If(n){var s=null,a=Oe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Cf(),Oe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=M;return s.index++,a}function rs(n,s){return typeof s=="function"?s(n):s}function Mu(n){var s=It();return kf(s,at,n)}function kf(n,s,a){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=n.baseQueue,m=l.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}s.baseQueue=h=m,l.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{s=h.next;var S=E=null,O=null,$=s,ne=!1;do{var oe=$.lane&-536870913;if(oe!==$.lane?(qe&oe)===oe:(Vs&oe)===oe){var Q=$.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),oe===Ha&&(ne=!0);else if((Vs&Q)===Q){$=$.next,Q===Ha&&(ne=!0);continue}else oe={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=oe,E=m):O=O.next=oe,Oe.lanes|=Q,Hs|=Q;oe=$.action,Wi&&a(m,oe),m=$.hasEagerState?$.eagerState:a(m,oe)}else Q={lane:oe,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=Q,E=m):O=O.next=Q,Oe.lanes|=oe,Hs|=oe;$=$.next}while($!==null&&$!==s);if(O===null?E=m:O.next=S,!In(m,n.memoizedState)&&(Ft=!0,ne&&(a=Ga,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=O,l.lastRenderedState=m}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Df(n){var s=It(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do m=n(m,E.action),E=E.next;while(E!==h);In(m,s.memoizedState)||(Ft=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Ky(n,s,a){var l=Oe,h=It(),m=Xe;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var E=!In((at||h).memoizedState,a);E&&(h.memoizedState=a,Ft=!0),h=h.queue;var S=Xy.bind(null,l,h,n);if(Dl(2048,8,S,[n]),h.getSnapshot!==s||E||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Qa(9,ju(),Qy.bind(null,l,h,a,s),null),dt===null)throw Error(i(349));m||(Vs&124)!==0||Yy(l,s,a)}return a}function Yy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Oe.updateQueue,s===null?(s=Cf(),Oe.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Qy(n,s,a,l){s.value=a,s.getSnapshot=l,Wy(s)&&Zy(n)}function Xy(n,s,a){return a(function(){Wy(s)&&Zy(n)})}function Wy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!In(n,a)}catch{return!0}}function Zy(n){var s=za(n,2);s!==null&&jn(s,n,2)}function Of(n){var s=_n();if(typeof n=="function"){var a=n;if(n=a(),Wi){Nn(!0);try{a()}finally{Nn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:n},s}function Jy(n,s,a,l){return n.baseState=a,kf(n,at,typeof l=="function"?l:rs)}function US(n,s,a,l,h){if(Lu(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};Z.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,ev(s,m)):(m.next=a.next,s.pending=a.next=m)}}function ev(n,s){var a=s.action,l=s.payload,h=n.state;if(s.isTransition){var m=Z.T,E={};Z.T=E;try{var S=a(h,l),O=Z.S;O!==null&&O(E,S),tv(n,s,S)}catch($){Pf(n,s,$)}finally{Z.T=m}}else try{m=a(h,l),tv(n,s,m)}catch($){Pf(n,s,$)}}function tv(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){nv(n,s,l)},function(l){return Pf(n,s,l)}):nv(n,s,a)}function nv(n,s,a){s.status="fulfilled",s.value=a,rv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,ev(n,a)))}function Pf(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,rv(s),s=s.next;while(s!==l)}n.action=null}function rv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function sv(n,s){return s}function iv(n,s){if(Xe){var a=dt.formState;if(a!==null){e:{var l=Oe;if(Xe){if(Et){t:{for(var h=Et,m=Tr;h.nodeType!==8;){if(!m){h=null;break t}if(h=ir(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Et=ir(h.nextSibling),l=h.data==="F!";break e}}Ki(l)}l=!1}l&&(s=a[0])}}return a=_n(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sv,lastRenderedState:s},a.queue=l,a=Tv.bind(null,Oe,l),l.dispatch=a,l=Of(!1),m=Uf.bind(null,Oe,!1,l.queue),l=_n(),h={state:s,dispatch:null,action:n,pending:null},l.queue=h,a=US.bind(null,Oe,h,m,a),h.dispatch=a,l.memoizedState=n,[s,a,!1]}function av(n){var s=It();return ov(s,at,n)}function ov(n,s,a){if(s=kf(n,s,sv)[0],n=Mu(rs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=kl(s)}catch(E){throw E===Sl?Cu:E}else l=s;s=It();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(Oe.flags|=2048,Qa(9,ju(),zS.bind(null,h,a),null)),[l,m,n]}function zS(n,s){n.action=s}function lv(n){var s=It(),a=at;if(a!==null)return ov(s,a,n);It(),s=s.memoizedState,a=It();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Qa(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=Cf(),Oe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function ju(){return{destroy:void 0,resource:void 0}}function cv(){return It().memoizedState}function Vu(n,s,a,l){var h=_n();l=l===void 0?null:l,Oe.flags|=n,h.memoizedState=Qa(1|s,ju(),a,l)}function Dl(n,s,a,l){var h=It();l=l===void 0?null:l;var m=h.memoizedState.inst;at!==null&&l!==null&&Tf(l,at.memoizedState.deps)?h.memoizedState=Qa(s,m,a,l):(Oe.flags|=n,h.memoizedState=Qa(1|s,m,a,l))}function uv(n,s){Vu(8390656,8,n,s)}function dv(n,s){Dl(2048,8,n,s)}function hv(n,s){return Dl(4,2,n,s)}function fv(n,s){return Dl(4,4,n,s)}function mv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function gv(n,s,a){a=a!=null?a.concat([n]):null,Dl(4,4,mv.bind(null,s,n),a)}function Mf(){}function pv(n,s){var a=It();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Tf(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function yv(n,s){var a=It();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Tf(s,l[1]))return l[0];if(l=n(),Wi){Nn(!0);try{n()}finally{Nn(!1)}}return a.memoizedState=[l,s],l}function jf(n,s,a){return a===void 0||(Vs&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=b_(),Oe.lanes|=n,Hs|=n,a)}function vv(n,s,a,l){return In(a,s)?a:$a.current!==null?(n=jf(n,a,l),In(n,s)||(Ft=!0),n):(Vs&42)===0?(Ft=!0,n.memoizedState=a):(n=b_(),Oe.lanes|=n,Hs|=n,s)}function _v(n,s,a,l,h){var m=ie.p;ie.p=m!==0&&8>m?m:8;var E=Z.T,S={};Z.T=S,Uf(n,!1,s,a);try{var O=h(),$=Z.S;if($!==null&&$(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=jS(O,l);Ol(n,s,ne,Mn(n))}else Ol(n,s,l,Mn(n))}catch(oe){Ol(n,s,{then:function(){},status:"rejected",reason:oe},Mn())}finally{ie.p=m,Z.T=E}}function BS(){}function Vf(n,s,a,l){if(n.tag!==5)throw Error(i(476));var h=bv(n).queue;_v(n,h,s,te,a===null?BS:function(){return Ev(n),a(l)})}function bv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:te},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Ev(n){var s=bv(n).next.queue;Ol(n,s,{},Mn())}function Lf(){return an(Wl)}function wv(){return It().memoizedState}function xv(){return It().memoizedState}function FS(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Mn();n=Ms(a);var l=js(s,n,a);l!==null&&(jn(l,s,a),Rl(l,s,a)),s={cache:mf()},n.payload=s;return}s=s.return}}function qS(n,s,a){var l=Mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(n)?Sv(s,a):(a=rf(n,s,a,l),a!==null&&(jn(a,n,l),Av(a,s,l)))}function Tv(n,s,a){var l=Mn();Ol(n,s,a,l)}function Ol(n,s,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(n))Sv(s,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,S=m(E,a);if(h.hasEagerState=!0,h.eagerState=S,In(S,E))return Eu(n,s,h,0),dt===null&&bu(),!1}catch{}finally{}if(a=rf(n,s,h,l),a!==null)return jn(a,n,l),Av(a,s,l),!0}return!1}function Uf(n,s,a,l){if(l={lane:2,revertLane:ym(),action:l,hasEagerState:!1,eagerState:null,next:null},Lu(n)){if(s)throw Error(i(479))}else s=rf(n,a,l,2),s!==null&&jn(s,n,2)}function Lu(n){var s=n.alternate;return n===Oe||s!==null&&s===Oe}function Sv(n,s){Ka=Du=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Av(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,tl(n,a)}}var Uu={readContext:an,use:Pu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Rv={readContext:an,use:Pu,useCallback:function(n,s){return _n().memoizedState=[n,s===void 0?null:s],n},useContext:an,useEffect:uv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Vu(4194308,4,mv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Vu(4194308,4,n,s)},useInsertionEffect:function(n,s){Vu(4,2,n,s)},useMemo:function(n,s){var a=_n();s=s===void 0?null:s;var l=n();if(Wi){Nn(!0);try{n()}finally{Nn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=_n();if(a!==void 0){var h=a(s);if(Wi){Nn(!0);try{a(s)}finally{Nn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=qS.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var s=_n();return n={current:n},s.memoizedState=n},useState:function(n){n=Of(n);var s=n.queue,a=Tv.bind(null,Oe,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(n,s){var a=_n();return jf(a,n,s)},useTransition:function(){var n=Of(!1);return n=_v.bind(null,Oe,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Oe,h=_n();if(Xe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),dt===null)throw Error(i(349));(qe&124)!==0||Yy(l,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,uv(Xy.bind(null,l,m,n),[n]),l.flags|=2048,Qa(9,ju(),Qy.bind(null,l,m,a,s),null),a},useId:function(){var n=_n(),s=dt.identifierPrefix;if(Xe){var a=es,l=Jr;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,s=""+s+"R"+a,a=Ou++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=VS++,s=""+s+"r"+a.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Lf,useFormState:iv,useActionState:iv,useOptimistic:function(n){var s=_n();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Uf.bind(null,Oe,!0,a),a.dispatch=s,[n,s]},useMemoCache:If,useCacheRefresh:function(){return _n().memoizedState=FS.bind(null,Oe)}},Nv={readContext:an,use:Pu,useCallback:pv,useContext:an,useEffect:dv,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:yv,useReducer:Mu,useRef:cv,useState:function(){return Mu(rs)},useDebugValue:Mf,useDeferredValue:function(n,s){var a=It();return vv(a,at.memoizedState,n,s)},useTransition:function(){var n=Mu(rs)[0],s=It().memoizedState;return[typeof n=="boolean"?n:kl(n),s]},useSyncExternalStore:Ky,useId:wv,useHostTransitionStatus:Lf,useFormState:av,useActionState:av,useOptimistic:function(n,s){var a=It();return Jy(a,at,n,s)},useMemoCache:If,useCacheRefresh:xv},HS={readContext:an,use:Pu,useCallback:pv,useContext:an,useEffect:dv,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:yv,useReducer:Df,useRef:cv,useState:function(){return Df(rs)},useDebugValue:Mf,useDeferredValue:function(n,s){var a=It();return at===null?jf(a,n,s):vv(a,at.memoizedState,n,s)},useTransition:function(){var n=Df(rs)[0],s=It().memoizedState;return[typeof n=="boolean"?n:kl(n),s]},useSyncExternalStore:Ky,useId:wv,useHostTransitionStatus:Lf,useFormState:lv,useActionState:lv,useOptimistic:function(n,s){var a=It();return at!==null?Jy(a,at,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:xv},Xa=null,Pl=0;function zu(n){var s=Pl;return Pl+=1,Xa===null&&(Xa=[]),Uy(Xa,n,s)}function Ml(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Bu(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Cv(n){var s=n._init;return s(n._payload)}function Iv(n){function s(q,B){if(n){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function a(q,B){if(!n)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function l(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function h(q,B){return q=Zr(q,B),q.index=0,q.sibling=null,q}function m(q,B,G){return q.index=G,n?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=67108866,B):G):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function E(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function S(q,B,G,ae){return B===null||B.tag!==6?(B=af(G,q.mode,ae),B.return=q,B):(B=h(B,G),B.return=q,B)}function O(q,B,G,ae){var me=G.type;return me===V?ne(q,B,G.props.children,ae,G.key):B!==null&&(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Cv(me)===B.type)?(B=h(B,G.props),Ml(B,G),B.return=q,B):(B=xu(G.type,G.key,G.props,null,q.mode,ae),Ml(B,G),B.return=q,B)}function $(q,B,G,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=of(G,q.mode,ae),B.return=q,B):(B=h(B,G.children||[]),B.return=q,B)}function ne(q,B,G,ae,me){return B===null||B.tag!==7?(B=qi(G,q.mode,ae,me),B.return=q,B):(B=h(B,G),B.return=q,B)}function oe(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=af(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return G=xu(B.type,B.key,B.props,null,q.mode,G),Ml(G,B),G.return=q,G;case I:return B=of(B,q.mode,G),B.return=q,B;case A:var ae=B._init;return B=ae(B._payload),oe(q,B,G)}if(Ge(B)||F(B))return B=qi(B,q.mode,G,null),B.return=q,B;if(typeof B.then=="function")return oe(q,zu(B),G);if(B.$$typeof===z)return oe(q,Ru(q,B),G);Bu(q,B)}return null}function Q(q,B,G,ae){var me=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return me!==null?null:S(q,B,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return G.key===me?O(q,B,G,ae):null;case I:return G.key===me?$(q,B,G,ae):null;case A:return me=G._init,G=me(G._payload),Q(q,B,G,ae)}if(Ge(G)||F(G))return me!==null?null:ne(q,B,G,ae,null);if(typeof G.then=="function")return Q(q,B,zu(G),ae);if(G.$$typeof===z)return Q(q,B,Ru(q,G),ae);Bu(q,G)}return null}function W(q,B,G,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return q=q.get(G)||null,S(B,q,""+ae,me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return q=q.get(ae.key===null?G:ae.key)||null,O(B,q,ae,me);case I:return q=q.get(ae.key===null?G:ae.key)||null,$(B,q,ae,me);case A:var je=ae._init;return ae=je(ae._payload),W(q,B,G,ae,me)}if(Ge(ae)||F(ae))return q=q.get(G)||null,ne(B,q,ae,me,null);if(typeof ae.then=="function")return W(q,B,G,zu(ae),me);if(ae.$$typeof===z)return W(q,B,G,Ru(B,ae),me);Bu(B,ae)}return null}function Se(q,B,G,ae){for(var me=null,je=null,_e=B,Te=B=0,Ht=null;_e!==null&&Te<G.length;Te++){_e.index>Te?(Ht=_e,_e=null):Ht=_e.sibling;var Ke=Q(q,_e,G[Te],ae);if(Ke===null){_e===null&&(_e=Ht);break}n&&_e&&Ke.alternate===null&&s(q,_e),B=m(Ke,B,Te),je===null?me=Ke:je.sibling=Ke,je=Ke,_e=Ht}if(Te===G.length)return a(q,_e),Xe&&Gi(q,Te),me;if(_e===null){for(;Te<G.length;Te++)_e=oe(q,G[Te],ae),_e!==null&&(B=m(_e,B,Te),je===null?me=_e:je.sibling=_e,je=_e);return Xe&&Gi(q,Te),me}for(_e=l(_e);Te<G.length;Te++)Ht=W(_e,q,Te,G[Te],ae),Ht!==null&&(n&&Ht.alternate!==null&&_e.delete(Ht.key===null?Te:Ht.key),B=m(Ht,B,Te),je===null?me=Ht:je.sibling=Ht,je=Ht);return n&&_e.forEach(function(Js){return s(q,Js)}),Xe&&Gi(q,Te),me}function we(q,B,G,ae){if(G==null)throw Error(i(151));for(var me=null,je=null,_e=B,Te=B=0,Ht=null,Ke=G.next();_e!==null&&!Ke.done;Te++,Ke=G.next()){_e.index>Te?(Ht=_e,_e=null):Ht=_e.sibling;var Js=Q(q,_e,Ke.value,ae);if(Js===null){_e===null&&(_e=Ht);break}n&&_e&&Js.alternate===null&&s(q,_e),B=m(Js,B,Te),je===null?me=Js:je.sibling=Js,je=Js,_e=Ht}if(Ke.done)return a(q,_e),Xe&&Gi(q,Te),me;if(_e===null){for(;!Ke.done;Te++,Ke=G.next())Ke=oe(q,Ke.value,ae),Ke!==null&&(B=m(Ke,B,Te),je===null?me=Ke:je.sibling=Ke,je=Ke);return Xe&&Gi(q,Te),me}for(_e=l(_e);!Ke.done;Te++,Ke=G.next())Ke=W(_e,q,Te,Ke.value,ae),Ke!==null&&(n&&Ke.alternate!==null&&_e.delete(Ke.key===null?Te:Ke.key),B=m(Ke,B,Te),je===null?me=Ke:je.sibling=Ke,je=Ke);return n&&_e.forEach(function(GA){return s(q,GA)}),Xe&&Gi(q,Te),me}function lt(q,B,G,ae){if(typeof G=="object"&&G!==null&&G.type===V&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case x:e:{for(var me=G.key;B!==null;){if(B.key===me){if(me=G.type,me===V){if(B.tag===7){a(q,B.sibling),ae=h(B,G.props.children),ae.return=q,q=ae;break e}}else if(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Cv(me)===B.type){a(q,B.sibling),ae=h(B,G.props),Ml(ae,G),ae.return=q,q=ae;break e}a(q,B);break}else s(q,B);B=B.sibling}G.type===V?(ae=qi(G.props.children,q.mode,ae,G.key),ae.return=q,q=ae):(ae=xu(G.type,G.key,G.props,null,q.mode,ae),Ml(ae,G),ae.return=q,q=ae)}return E(q);case I:e:{for(me=G.key;B!==null;){if(B.key===me)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){a(q,B.sibling),ae=h(B,G.children||[]),ae.return=q,q=ae;break e}else{a(q,B);break}else s(q,B);B=B.sibling}ae=of(G,q.mode,ae),ae.return=q,q=ae}return E(q);case A:return me=G._init,G=me(G._payload),lt(q,B,G,ae)}if(Ge(G))return Se(q,B,G,ae);if(F(G)){if(me=F(G),typeof me!="function")throw Error(i(150));return G=me.call(G),we(q,B,G,ae)}if(typeof G.then=="function")return lt(q,B,zu(G),ae);if(G.$$typeof===z)return lt(q,B,Ru(q,G),ae);Bu(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(a(q,B.sibling),ae=h(B,G),ae.return=q,q=ae):(a(q,B),ae=af(G,q.mode,ae),ae.return=q,q=ae),E(q)):a(q,B)}return function(q,B,G,ae){try{Pl=0;var me=lt(q,B,G,ae);return Xa=null,me}catch(_e){if(_e===Sl||_e===Cu)throw _e;var je=kn(29,_e,null,q.mode);return je.lanes=ae,je.return=q,je}finally{}}}var Wa=Iv(!0),kv=Iv(!1),Wn=ee(null),Sr=null;function Ls(n){var s=n.alternate;re(Vt,Vt.current&1),re(Wn,n),Sr===null&&(s===null||$a.current!==null||s.memoizedState!==null)&&(Sr=n)}function Dv(n){if(n.tag===22){if(re(Vt,Vt.current),re(Wn,n),Sr===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Sr=n)}}else Us()}function Us(){re(Vt,Vt.current),re(Wn,Wn.current)}function ss(n){ue(Wn),Sr===n&&(Sr=null),ue(Vt)}var Vt=ee(0);function Fu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cm(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function zf(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:_({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Bf={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Mn(),h=Ms(l);h.payload=s,a!=null&&(h.callback=a),s=js(n,h,l),s!==null&&(jn(s,n,l),Rl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Mn(),h=Ms(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=js(n,h,l),s!==null&&(jn(s,n,l),Rl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Mn(),l=Ms(a);l.tag=2,s!=null&&(l.callback=s),s=js(n,l,a),s!==null&&(jn(s,n,a),Rl(s,n,a))}};function Ov(n,s,a,l,h,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):s.prototype&&s.prototype.isPureReactComponent?!yl(a,l)||!yl(h,m):!0}function Pv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Bf.enqueueReplaceState(s,s.state,null)}function Zi(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=_({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var qu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Mv(n){qu(n)}function jv(n){console.error(n)}function Vv(n){qu(n)}function Hu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Lv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(n,s,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(n,s)},a}function Uv(n){return n=Ms(n),n.tag=3,n}function zv(n,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;n.payload=function(){return h(m)},n.callback=function(){Lv(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Lv(s,a,l),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function GS(n,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&wl(s,a,h,!0),a=Wn.current,a!==null){switch(a.tag){case 13:return Sr===null?hm():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===yf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),mm(n,l,h)),!1;case 22:return a.flags|=65536,l===yf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),mm(n,l,h)),!1}throw Error(i(435,a.tag))}return mm(n,l,h),hm(),!1}if(Xe)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==uf&&(n=Error(i(422),{cause:l}),El(Kn(n,a)))):(l!==uf&&(s=Error(i(423),{cause:l}),El(Kn(s,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Kn(l,a),h=Ff(n.stateNode,l,h),bf(n,h),wt!==4&&(wt=2)),!1;var m=Error(i(520),{cause:l});if(m=Kn(m,a),Fl===null?Fl=[m]:Fl.push(m),wt!==4&&(wt=2),s===null)return!0;l=Kn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Ff(a.stateNode,l,n),bf(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gs===null||!Gs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Uv(h),zv(h,n,a,l),bf(a,h),!1}a=a.return}while(a!==null);return!1}var Bv=Error(i(461)),Ft=!1;function Qt(n,s,a,l){s.child=n===null?kv(s,null,a,l):Wa(s,n.child,a,l)}function Fv(n,s,a,l,h){a=a.render;var m=s.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Qi(s),l=Sf(n,s,a,E,m,h),S=Af(),n!==null&&!Ft?(Rf(n,s,h),is(n,s,h)):(Xe&&S&&lf(s),s.flags|=1,Qt(n,s,l,h),s.child)}function qv(n,s,a,l,h){if(n===null){var m=a.type;return typeof m=="function"&&!sf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Hv(n,s,m,l,h)):(n=xu(a.type,null,l,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Xf(n,h)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(E,l)&&n.ref===s.ref)return is(n,s,h)}return s.flags|=1,n=Zr(m,l),n.ref=s.ref,n.return=s,s.child=n}function Hv(n,s,a,l,h){if(n!==null){var m=n.memoizedProps;if(yl(m,l)&&n.ref===s.ref)if(Ft=!1,s.pendingProps=l=m,Xf(n,h))(n.flags&131072)!==0&&(Ft=!0);else return s.lanes=n.lanes,is(n,s,h)}return qf(n,s,a,l,h)}function Gv(n,s,a){var l=s.pendingProps,h=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(h=s.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return $v(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nu(s,m!==null?m.cachePool:null),m!==null?Hy(s,m):wf(),Dv(s);else return s.lanes=s.childLanes=536870912,$v(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Nu(s,m.cachePool),Hy(s,m),Us(),s.memoizedState=null):(n!==null&&Nu(s,null),wf(),Us());return Qt(n,s,h,a),s.child}function $v(n,s,a,l){var h=pf();return h=h===null?null:{parent:jt._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},n!==null&&Nu(s,null),wf(),Dv(s),n!==null&&wl(n,s,l,!0),null}function Gu(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function qf(n,s,a,l,h){return Qi(s),a=Sf(n,s,a,l,void 0,h),l=Af(),n!==null&&!Ft?(Rf(n,s,h),is(n,s,h)):(Xe&&l&&lf(s),s.flags|=1,Qt(n,s,a,h),s.child)}function Kv(n,s,a,l,h,m){return Qi(s),s.updateQueue=null,a=$y(s,l,a,h),Gy(n),l=Af(),n!==null&&!Ft?(Rf(n,s,m),is(n,s,m)):(Xe&&l&&lf(s),s.flags|=1,Qt(n,s,a,m),s.child)}function Yv(n,s,a,l,h){if(Qi(s),s.stateNode===null){var m=Ba,E=a.contextType;typeof E=="object"&&E!==null&&(m=an(E)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Bf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},vf(s),E=a.contextType,m.context=typeof E=="object"&&E!==null?an(E):Ba,m.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(zf(s,a,E,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Bf.enqueueReplaceState(m,m.state,null),Cl(s,l,m,h),Nl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var S=s.memoizedProps,O=Zi(a,S);m.props=O;var $=m.context,ne=a.contextType;E=Ba,typeof ne=="object"&&ne!==null&&(E=an(ne));var oe=a.getDerivedStateFromProps;ne=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||$!==E)&&Pv(s,m,l,E),Ps=!1;var Q=s.memoizedState;m.state=Q,Cl(s,l,m,h),Nl(),$=s.memoizedState,S||Q!==$||Ps?(typeof oe=="function"&&(zf(s,a,oe,l),$=s.memoizedState),(O=Ps||Ov(s,a,O,l,Q,$,E))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=$),m.props=l,m.state=$,m.context=E,l=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,_f(n,s),E=s.memoizedProps,ne=Zi(a,E),m.props=ne,oe=s.pendingProps,Q=m.context,$=a.contextType,O=Ba,typeof $=="object"&&$!==null&&(O=an($)),S=a.getDerivedStateFromProps,($=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==oe||Q!==O)&&Pv(s,m,l,O),Ps=!1,Q=s.memoizedState,m.state=Q,Cl(s,l,m,h),Nl();var W=s.memoizedState;E!==oe||Q!==W||Ps||n!==null&&n.dependencies!==null&&Au(n.dependencies)?(typeof S=="function"&&(zf(s,a,S,l),W=s.memoizedState),(ne=Ps||Ov(s,a,ne,l,Q,W,O)||n!==null&&n.dependencies!==null&&Au(n.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,W,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,W,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=W),m.props=l,m.state=W,m.context=O,l=ne):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,Gu(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=Wa(s,n.child,null,h),s.child=Wa(s,null,a,h)):Qt(n,s,a,h),s.memoizedState=m.state,n=s.child):n=is(n,s,h),n}function Qv(n,s,a,l){return bl(),s.flags|=256,Qt(n,s,a,l),s.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(n){return{baseLanes:n,cachePool:jy()}}function $f(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Zn),n}function Xv(n,s,a){var l=s.pendingProps,h=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Vt.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Xe){if(h?Ls(s):Us(),Xe){var S=Et,O;if(O=S){e:{for(O=S,S=Tr;O.nodeType!==8;){if(!S){S=null;break e}if(O=ir(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(s.memoizedState={dehydrated:S,treeContext:Hi!==null?{id:Jr,overflow:es}:null,retryLane:536870912,hydrationErrors:null},O=kn(18,null,null,0),O.stateNode=S,O.return=s,s.child=O,vn=s,Et=null,O=!0):O=!1}O||Ki(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Cm(S)?s.lanes=32:s.lanes=536870912,null;ss(s)}return S=l.children,l=l.fallback,h?(Us(),h=s.mode,S=$u({mode:"hidden",children:S},h),l=qi(l,h,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,h=s.child,h.memoizedState=Gf(a),h.childLanes=$f(n,E,a),s.memoizedState=Hf,l):(Ls(s),Kf(s,S))}if(O=n.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(m)s.flags&256?(Ls(s),s.flags&=-257,s=Yf(n,s,a)):s.memoizedState!==null?(Us(),s.child=n.child,s.flags|=128,s=null):(Us(),h=l.fallback,S=s.mode,l=$u({mode:"visible",children:l.children},S),h=qi(h,S,a,null),h.flags|=2,l.return=s,h.return=s,l.sibling=h,s.child=l,Wa(s,n.child,null,a),l=s.child,l.memoizedState=Gf(a),l.childLanes=$f(n,E,a),s.memoizedState=Hf,s=h);else if(Ls(s),Cm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var $=E.dgst;E=$,l=Error(i(419)),l.stack="",l.digest=E,El({value:l,source:null,stack:null}),s=Yf(n,s,a)}else if(Ft||wl(n,s,a,!1),E=(a&n.childLanes)!==0,Ft||E){if(E=dt,E!==null&&(l=a&-a,l=(l&42)!==0?1:As(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,za(n,l),jn(E,n,l),Bv;S.data==="$?"||hm(),s=Yf(n,s,a)}else S.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,Et=ir(S.nextSibling),vn=s,Xe=!0,$i=null,Tr=!1,n!==null&&(Qn[Xn++]=Jr,Qn[Xn++]=es,Qn[Xn++]=Hi,Jr=n.id,es=n.overflow,Hi=s),s=Kf(s,l.children),s.flags|=4096);return s}return h?(Us(),h=l.fallback,S=s.mode,O=n.child,$=O.sibling,l=Zr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,$!==null?h=Zr($,h):(h=qi(h,S,a,null),h.flags|=2),h.return=s,l.return=s,l.sibling=h,s.child=l,l=h,h=s.child,S=n.child.memoizedState,S===null?S=Gf(a):(O=S.cachePool,O!==null?($=jt._currentValue,O=O.parent!==$?{parent:$,pool:$}:O):O=jy(),S={baseLanes:S.baseLanes|a,cachePool:O}),h.memoizedState=S,h.childLanes=$f(n,E,a),s.memoizedState=Hf,l):(Ls(s),a=n.child,n=a.sibling,a=Zr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function Kf(n,s){return s=$u({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function $u(n,s){return n=kn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Yf(n,s,a){return Wa(s,n.child,null,a),n=Kf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Wv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),hf(n.return,s,a)}function Qf(n,s,a,l,h){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Zv(n,s,a){var l=s.pendingProps,h=l.revealOrder,m=l.tail;if(Qt(n,s,l.children,a),l=Vt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wv(n,a,s);else if(n.tag===19)Wv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(re(Vt,l),h){case"forwards":for(a=s.child,h=null;a!==null;)n=a.alternate,n!==null&&Fu(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Qf(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&Fu(n)===null){s.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Qf(s,!0,a,null,m);break;case"together":Qf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function is(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Hs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(wl(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=Zr(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Zr(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Xf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Au(n)))}function $S(n,s,a){switch(s.tag){case 3:et(s,s.stateNode.containerInfo),Os(s,jt,n.memoizedState.cache),bl();break;case 27:case 5:An(s);break;case 4:et(s,s.stateNode.containerInfo);break;case 10:Os(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Xv(n,s,a):(Ls(s),n=is(n,s,a),n!==null?n.sibling:null);Ls(s);break;case 19:var h=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(wl(n,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return Zv(n,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Vt,Vt.current),l)break;return null;case 22:case 23:return s.lanes=0,Gv(n,s,a);case 24:Os(s,jt,n.memoizedState.cache)}return is(n,s,a)}function Jv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ft=!0;else{if(!Xf(n,a)&&(s.flags&128)===0)return Ft=!1,$S(n,s,a);Ft=(n.flags&131072)!==0}else Ft=!1,Xe&&(s.flags&1048576)!==0&&Cy(s,Su,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,h=l._init;if(l=h(l._payload),s.type=l,typeof l=="function")sf(l)?(n=Zi(l,n),s.tag=1,s=Yv(null,s,l,n,a)):(s.tag=0,s=qf(null,s,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===X){s.tag=11,s=Fv(null,s,l,n,a);break e}else if(h===D){s.tag=14,s=qv(null,s,l,n,a);break e}}throw s=Je(l)||l,Error(i(306,s,""))}}return s;case 0:return qf(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=Zi(l,s.pendingProps),Yv(n,s,l,h,a);case 3:e:{if(et(s,s.stateNode.containerInfo),n===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;h=m.element,_f(n,s),Cl(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Os(s,jt,l),l!==m.cache&&ff(s,[jt],a,!0),Nl(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Qv(n,s,l,a);break e}else if(l!==h){h=Kn(Error(i(424)),s),El(h),s=Qv(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Et=ir(n.firstChild),vn=s,Xe=!0,$i=null,Tr=!0,a=kv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bl(),l===h){s=is(n,s,a);break e}Qt(n,s,l,a)}s=s.child}return s;case 26:return Gu(n,s),n===null?(a=r0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Xe||(a=s.type,n=s.pendingProps,l=ad(Ee.current).createElement(a),l[Ot]=s,l[Rt]=n,Wt(l,a,n),xt(l),s.stateNode=l):s.memoizedState=r0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return An(s),n===null&&Xe&&(l=s.stateNode=e0(s.type,s.pendingProps,Ee.current),vn=s,Tr=!0,h=Et,Ys(s.type)?(Im=h,Et=ir(l.firstChild)):Et=h),Qt(n,s,s.pendingProps.children,a),Gu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Xe&&((h=l=Et)&&(l=bA(l,s.type,s.pendingProps,Tr),l!==null?(s.stateNode=l,vn=s,Et=ir(l.firstChild),Tr=!1,h=!0):h=!1),h||Ki(s)),An(s),h=s.type,m=s.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,Am(h,m)?l=null:E!==null&&Am(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=Sf(n,s,LS,null,null,a),Wl._currentValue=h),Gu(n,s),Qt(n,s,l,a),s.child;case 6:return n===null&&Xe&&((n=a=Et)&&(a=EA(a,s.pendingProps,Tr),a!==null?(s.stateNode=a,vn=s,Et=null,n=!0):n=!1),n||Ki(s)),null;case 13:return Xv(n,s,a);case 4:return et(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Wa(s,null,l,a):Qt(n,s,l,a),s.child;case 11:return Fv(n,s,s.type,s.pendingProps,a);case 7:return Qt(n,s,s.pendingProps,a),s.child;case 8:return Qt(n,s,s.pendingProps.children,a),s.child;case 12:return Qt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Os(s,s.type,l.value),Qt(n,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,Qi(s),h=an(h),l=l(h),s.flags|=1,Qt(n,s,l,a),s.child;case 14:return qv(n,s,s.type,s.pendingProps,a);case 15:return Hv(n,s,s.type,s.pendingProps,a);case 19:return Zv(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=$u(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Zr(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Gv(n,s,a);case 24:return Qi(s),l=an(jt),n===null?(h=pf(),h===null&&(h=dt,m=mf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:l,cache:h},vf(s),Os(s,jt,h)):((n.lanes&a)!==0&&(_f(n,s),Cl(s,null,null,a),Nl()),h=n.memoizedState,m=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Os(s,jt,l)):(l=m.cache,Os(s,jt,l),l!==h.cache&&ff(s,[jt],a,!0))),Qt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function as(n){n.flags|=4}function e_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!l0(s)){if(s=Wn.current,s!==null&&((qe&4194048)===qe?Sr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||s!==Sr))throw Al=yf,Vy;n.flags|=8192}}function Ku(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Jo():536870912,n.lanes|=s,to|=s)}function jl(n,s){if(!Xe)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function vt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function KS(n,s,a){var l=s.pendingProps;switch(cf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ns(jt),mn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(_l(s)?as(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dy())),vt(s),null;case 26:return a=s.memoizedState,n===null?(as(s),a!==null?(vt(s),e_(s,a)):(vt(s),s.flags&=-16777217)):a?a!==n.memoizedState?(as(s),vt(s),e_(s,a)):(vt(s),s.flags&=-16777217):(n.memoizedProps!==l&&as(s),vt(s),s.flags&=-16777217),null;case 27:Rn(s),a=Ee.current;var h=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return vt(s),null}n=he.current,_l(s)?Iy(s):(n=e0(h,l,a),s.stateNode=n,as(s))}return vt(s),null;case 5:if(Rn(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return vt(s),null}if(n=he.current,_l(s))Iy(s);else{switch(h=ad(Ee.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Ot]=s,n[Rt]=l;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=n;e:switch(Wt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&as(s)}}return vt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&as(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(n=Ee.current,_l(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,h=vn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Ot]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(n.nodeValue,a)),n||Ki(s)}else n=ad(n).createTextNode(l),n[Ot]=s,s.stateNode=n}return vt(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=_l(s),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Ot]=s}else bl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),h=!1}else h=Dy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(ss(s),s):(ss(s),null)}if(ss(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Ku(s,s.updateQueue),vt(s),null;case 4:return mn(),n===null&&Em(s.stateNode.containerInfo),vt(s),null;case 10:return ns(s.type),vt(s),null;case 19:if(ue(Vt),h=s.memoizedState,h===null)return vt(s),null;if(l=(s.flags&128)!==0,m=h.rendering,m===null)if(l)jl(h,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Fu(n),m!==null){for(s.flags|=128,jl(h,!1),n=m.updateQueue,s.updateQueue=n,Ku(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Ny(a,n),a=a.sibling;return re(Vt,Vt.current&1|2),s.child}n=n.sibling}h.tail!==null&&Bn()>Xu&&(s.flags|=128,l=!0,jl(h,!1),s.lanes=4194304)}else{if(!l)if(n=Fu(m),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Ku(s,n),jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Xe)return vt(s),null}else 2*Bn()-h.renderingStartTime>Xu&&a!==536870912&&(s.flags|=128,l=!0,jl(h,!1),s.lanes=4194304);h.isBackwards?(m.sibling=s.child,s.child=m):(n=h.last,n!==null?n.sibling=m:s.child=m,h.last=m)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Bn(),s.sibling=null,n=Vt.current,re(Vt,l?n&1|2:n&1),s):(vt(s),null);case 22:case 23:return ss(s),xf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),a=s.updateQueue,a!==null&&Ku(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ue(Xi),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ns(jt),vt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function YS(n,s){switch(cf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ns(jt),mn(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Rn(s),null;case 13:if(ss(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));bl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ue(Vt),null;case 4:return mn(),null;case 10:return ns(s.type),null;case 22:case 23:return ss(s),xf(),n!==null&&ue(Xi),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ns(jt),null;case 25:return null;default:return null}}function t_(n,s){switch(cf(s),s.tag){case 3:ns(jt),mn();break;case 26:case 27:case 5:Rn(s);break;case 4:mn();break;case 13:ss(s);break;case 19:ue(Vt);break;case 10:ns(s.type);break;case 22:case 23:ss(s),xf(),n!==null&&ue(Xi);break;case 24:ns(jt)}}function Vl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){ct(s,s.return,S)}}function zs(n,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&n)===n){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=s;var O=a,$=S;try{$()}catch(ne){ct(h,O,ne)}}}l=l.next}while(l!==m)}}catch(ne){ct(s,s.return,ne)}}function n_(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{qy(s,a)}catch(l){ct(n,n.return,l)}}}function r_(n,s,a){a.props=Zi(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ct(n,s,l)}}function Ll(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){ct(n,s,h)}}function Ar(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ct(n,s,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ct(n,s,h)}else a.current=null}function s_(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ct(n,n.return,h)}}function Wf(n,s,a){try{var l=n.stateNode;gA(l,n.type,a,s),l[Rt]=s}catch(h){ct(n,n.return,h)}}function i_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ys(n.type)||n.tag===4}function Zf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||i_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ys(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jf(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=id));else if(l!==4&&(l===27&&Ys(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Jf(n,s,a),n=n.sibling;n!==null;)Jf(n,s,a),n=n.sibling}function Yu(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Ys(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Yu(n,s,a),n=n.sibling;n!==null;)Yu(n,s,a),n=n.sibling}function a_(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Wt(s,l,a),s[Ot]=n,s[Rt]=a}catch(m){ct(n,n.return,m)}}var os=!1,St=!1,em=!1,o_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function QS(n,s){if(n=n.containerInfo,Tm=hd,n=vy(n),Wh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,S=-1,O=-1,$=0,ne=0,oe=n,Q=null;t:for(;;){for(var W;oe!==a||h!==0&&oe.nodeType!==3||(S=E+h),oe!==m||l!==0&&oe.nodeType!==3||(O=E+l),oe.nodeType===3&&(E+=oe.nodeValue.length),(W=oe.firstChild)!==null;)Q=oe,oe=W;for(;;){if(oe===n)break t;if(Q===a&&++$===h&&(S=E),Q===m&&++ne===l&&(O=E),(W=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=W}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sm={focusedElem:n,selectionRange:a},hd=!1,qt=s;qt!==null;)if(s=qt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,qt=n;else for(;qt!==null;){switch(s=qt,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Se=Zi(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(we){ct(a,a.return,we)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Nm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Nm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,qt=n;break}qt=s.return}}function l_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bs(n,a),l&4&&Vl(5,a);break;case 1:if(Bs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){ct(a,a.return,E)}else{var h=Zi(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(h,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ct(a,a.return,E)}}l&64&&n_(a),l&512&&Ll(a,a.return);break;case 3:if(Bs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{qy(n,s)}catch(E){ct(a,a.return,E)}}break;case 27:s===null&&l&4&&a_(a);case 26:case 5:Bs(n,a),s===null&&l&4&&s_(a),l&512&&Ll(a,a.return);break;case 12:Bs(n,a);break;case 13:Bs(n,a),l&4&&d_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=sA.bind(null,a),wA(n,a))));break;case 22:if(l=a.memoizedState!==null||os,!l){s=s!==null&&s.memoizedState!==null||St,h=os;var m=St;os=l,(St=s)&&!m?Fs(n,a,(a.subtreeFlags&8772)!==0):Bs(n,a),os=h,St=m}break;case 30:break;default:Bs(n,a)}}function c_(n){var s=n.alternate;s!==null&&(n.alternate=null,c_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Cs(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,bn=!1;function ls(n,s,a){for(a=a.child;a!==null;)u_(n,s,a),a=a.sibling}function u_(n,s,a){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(bt,a)}catch{}switch(a.tag){case 26:St||Ar(a,s),ls(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Ar(a,s);var l=mt,h=bn;Ys(a.type)&&(mt=a.stateNode,bn=!1),ls(n,s,a),Kl(a.stateNode),mt=l,bn=h;break;case 5:St||Ar(a,s);case 6:if(l=mt,h=bn,mt=null,ls(n,s,a),mt=l,bn=h,mt!==null)if(bn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(m){ct(a,s,m)}else try{mt.removeChild(a.stateNode)}catch(m){ct(a,s,m)}break;case 18:mt!==null&&(bn?(n=mt,Z_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),tc(n)):Z_(mt,a.stateNode));break;case 4:l=mt,h=bn,mt=a.stateNode.containerInfo,bn=!0,ls(n,s,a),mt=l,bn=h;break;case 0:case 11:case 14:case 15:St||zs(2,a,s),St||zs(4,a,s),ls(n,s,a);break;case 1:St||(Ar(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&r_(a,s,l)),ls(n,s,a);break;case 21:ls(n,s,a);break;case 22:St=(l=St)||a.memoizedState!==null,ls(n,s,a),St=l;break;default:ls(n,s,a)}}function d_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{tc(n)}catch(a){ct(s,s.return,a)}}function XS(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new o_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new o_),s;default:throw Error(i(435,n.tag))}}function tm(n,s){var a=XS(n);s.forEach(function(l){var h=iA.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=n,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Ys(S.type)){mt=S.stateNode,bn=!1;break e}break;case 5:mt=S.stateNode,bn=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,bn=!0;break e}S=S.return}if(mt===null)throw Error(i(160));u_(m,E,h),mt=null,bn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)h_(s,n),s=s.sibling}var sr=null;function h_(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(s,n),On(n),l&4&&(zs(3,n,n.return),Vl(3,n),zs(5,n,n.return));break;case 1:Dn(s,n),On(n),l&512&&(St||a===null||Ar(a,a.return)),l&64&&os&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=sr;if(Dn(s,n),On(n),l&512&&(St||a===null||Ar(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ri]||m[Ot]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Wt(m,l,a),m[Ot]=n,xt(m),l=m;break e;case"link":var E=a0("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(m=E[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}m=h.createElement(l),Wt(m,l,a),h.head.appendChild(m);break;case"meta":if(E=a0("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(m=E[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}m=h.createElement(l),Wt(m,l,a),h.head.appendChild(m);break;default:throw Error(i(468,l))}m[Ot]=n,xt(m),l=m}n.stateNode=l}else o0(h,n.type,n.stateNode);else n.stateNode=i0(h,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?o0(h,n.type,n.stateNode):i0(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Wf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Dn(s,n),On(n),l&512&&(St||a===null||Ar(a,a.return)),a!==null&&l&4&&Wf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Dn(s,n),On(n),l&512&&(St||a===null||Ar(a,a.return)),n.flags&32){h=n.stateNode;try{qn(h,"")}catch(W){ct(n,n.return,W)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Wf(n,h,a!==null?a.memoizedProps:h)),l&1024&&(em=!0);break;case 6:if(Dn(s,n),On(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(W){ct(n,n.return,W)}}break;case 3:if(cd=null,h=sr,sr=od(s.containerInfo),Dn(s,n),sr=h,On(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{tc(s.containerInfo)}catch(W){ct(n,n.return,W)}em&&(em=!1,f_(n));break;case 4:l=sr,sr=od(n.stateNode.containerInfo),Dn(s,n),On(n),sr=l;break;case 12:Dn(s,n),On(n);break;case 13:Dn(s,n),On(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(om=Bn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,tm(n,l)));break;case 22:h=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,$=os,ne=St;if(os=$||h,St=ne||O,Dn(s,n),St=ne,os=$,On(n),l&8192)e:for(s=n.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||O||os||St||Ji(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(m=O.stateNode,h)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=O.stateNode;var oe=O.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(W){ct(O,O.return,W)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(W){ct(O,O.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tm(n,a))));break;case 19:Dn(s,n),On(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,tm(n,l)));break;case 30:break;case 21:break;default:Dn(s,n),On(n)}}function On(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(i_(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,m=Zf(n);Yu(n,m,h);break;case 5:var E=a.stateNode;a.flags&32&&(qn(E,""),a.flags&=-33);var S=Zf(n);Yu(n,S,E);break;case 3:case 4:var O=a.stateNode.containerInfo,$=Zf(n);Jf(n,$,O);break;default:throw Error(i(161))}}catch(ne){ct(n,n.return,ne)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function f_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;f_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Bs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)l_(n,s.alternate,s),s=s.sibling}function Ji(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:zs(4,s,s.return),Ji(s);break;case 1:Ar(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&r_(s,s.return,a),Ji(s);break;case 27:Kl(s.stateNode);case 26:case 5:Ar(s,s.return),Ji(s);break;case 22:s.memoizedState===null&&Ji(s);break;case 30:Ji(s);break;default:Ji(s)}n=n.sibling}}function Fs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=n,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:Fs(h,m,a),Vl(4,m);break;case 1:if(Fs(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){ct(l,l.return,$)}if(l=m,h=l.updateQueue,h!==null){var S=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Fy(O[h],S)}catch($){ct(l,l.return,$)}}a&&E&64&&n_(m),Ll(m,m.return);break;case 27:a_(m);case 26:case 5:Fs(h,m,a),a&&l===null&&E&4&&s_(m),Ll(m,m.return);break;case 12:Fs(h,m,a);break;case 13:Fs(h,m,a),a&&E&4&&d_(h,m);break;case 22:m.memoizedState===null&&Fs(h,m,a),Ll(m,m.return);break;case 30:break;default:Fs(h,m,a)}s=s.sibling}}function nm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&xl(a))}function rm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&xl(n))}function Rr(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m_(n,s,a,l),s=s.sibling}function m_(n,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Rr(n,s,a,l),h&2048&&Vl(9,s);break;case 1:Rr(n,s,a,l);break;case 3:Rr(n,s,a,l),h&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&xl(n)));break;case 12:if(h&2048){Rr(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,E=m.id,S=m.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){ct(s,s.return,O)}}else Rr(n,s,a,l);break;case 13:Rr(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?Rr(n,s,a,l):Ul(n,s):m._visibility&2?Rr(n,s,a,l):(m._visibility|=2,Za(n,s,a,l,(s.subtreeFlags&10256)!==0)),h&2048&&nm(E,s);break;case 24:Rr(n,s,a,l),h&2048&&rm(s.alternate,s);break;default:Rr(n,s,a,l)}}function Za(n,s,a,l,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,E=s,S=a,O=l,$=E.flags;switch(E.tag){case 0:case 11:case 15:Za(m,E,S,O,h),Vl(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?Za(m,E,S,O,h):Ul(m,E):(ne._visibility|=2,Za(m,E,S,O,h)),h&&$&2048&&nm(E.alternate,E);break;case 24:Za(m,E,S,O,h),h&&$&2048&&rm(E.alternate,E);break;default:Za(m,E,S,O,h)}s=s.sibling}}function Ul(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,h=l.flags;switch(l.tag){case 22:Ul(a,l),h&2048&&nm(l.alternate,l);break;case 24:Ul(a,l),h&2048&&rm(l.alternate,l);break;default:Ul(a,l)}s=s.sibling}}var zl=8192;function Ja(n){if(n.subtreeFlags&zl)for(n=n.child;n!==null;)g_(n),n=n.sibling}function g_(n){switch(n.tag){case 26:Ja(n),n.flags&zl&&n.memoizedState!==null&&MA(sr,n.memoizedState,n.memoizedProps);break;case 5:Ja(n);break;case 3:case 4:var s=sr;sr=od(n.stateNode.containerInfo),Ja(n),sr=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=zl,zl=16777216,Ja(n),zl=s):Ja(n));break;default:Ja(n)}}function p_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Bl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qt=l,v_(l,n)}p_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)y_(n),n=n.sibling}function y_(n){switch(n.tag){case 0:case 11:case 15:Bl(n),n.flags&2048&&zs(9,n,n.return);break;case 3:Bl(n);break;case 12:Bl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Qu(n)):Bl(n);break;default:Bl(n)}}function Qu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qt=l,v_(l,n)}p_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:zs(8,s,s.return),Qu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Qu(s));break;default:Qu(s)}n=n.sibling}}function v_(n,s){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:zs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=n;qt!==null;){l=qt;var h=l.sibling,m=l.return;if(c_(l),l===a){qt=null;break e}if(h!==null){h.return=m,qt=h;break e}qt=m}}}var WS={getCacheForType:function(n){var s=an(jt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},ZS=typeof WeakMap=="function"?WeakMap:Map,nt=0,dt=null,Ve=null,qe=0,rt=0,Pn=null,qs=!1,eo=!1,sm=!1,cs=0,wt=0,Hs=0,ea=0,im=0,Zn=0,to=0,Fl=null,En=null,am=!1,om=0,Xu=1/0,Wu=null,Gs=null,Xt=0,$s=null,no=null,ro=0,lm=0,cm=null,__=null,ql=0,um=null;function Mn(){if((nt&2)!==0&&qe!==0)return qe&-qe;if(Z.T!==null){var n=Ha;return n!==0?n:ym()}return Rs()}function b_(){Zn===0&&(Zn=(qe&536870912)===0||Xe?Zo():536870912);var n=Wn.current;return n!==null&&(n.flags|=32),Zn}function jn(n,s,a){(n===dt&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(so(n,0),Ks(n,qe,Zn,!1)),Br(n,a),((nt&2)===0||n!==dt)&&(n===dt&&((nt&2)===0&&(ea|=a),wt===4&&Ks(n,qe,Zn,!1)),Nr(n))}function E_(n,s,a){if((nt&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||Ai(n,s),h=l?tA(n,s):fm(n,s,!0),m=l;do{if(h===0){eo&&!l&&Ks(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!JS(a)){h=fm(n,s,!1),m=!1;continue}if(h===2){if(m=s,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=n;h=Fl;var O=S.current.memoizedState.isDehydrated;if(O&&(so(S,E).flags|=256),E=fm(S,E,!1),E!==2){if(sm&&!O){S.errorRecoveryDisabledLanes|=m,ea|=m,h=4;break e}m=En,En=h,m!==null&&(En===null?En=m:En.push.apply(En,m))}h=E}if(m=!1,h!==2)continue}}if(h===1){so(n,0),Ks(n,s,0,!0);break}e:{switch(l=n,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ks(l,s,Zn,!qs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=om+300-Bn(),10<h)){if(Ks(l,s,Zn,!qs),Ea(l,0,!0)!==0)break e;l.timeoutHandle=X_(w_.bind(null,l,a,En,Wu,am,s,Zn,ea,to,qs,m,2,-0,0),h);break e}w_(l,a,En,Wu,am,s,Zn,ea,to,qs,m,0,-0,0)}}break}while(!0);Nr(n)}function w_(n,s,a,l,h,m,E,S,O,$,ne,oe,Q,W){if(n.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:PA},g_(s),oe=jA(),oe!==null)){n.cancelPendingCommit=oe(C_.bind(null,n,s,m,a,l,h,E,S,O,ne,1,Q,W)),Ks(n,m,E,!$);return}C_(n,s,m,a,l,h,E,S,O)}function JS(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!In(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ks(n,s,a,l){s&=~im,s&=~ea,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var h=s;0<h;){var m=31-sn(h),E=1<<m;l[m]=-1,h&=~E}a!==0&&fr(n,a,s)}function Zu(){return(nt&6)===0?(Hl(0),!1):!0}function dm(){if(Ve!==null){if(rt===0)var n=Ve.return;else n=Ve,ts=Yi=null,Nf(n),Xa=null,Pl=0,n=Ve;for(;n!==null;)t_(n.alternate,n),n=n.return;Ve=null}}function so(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,yA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),dm(),dt=n,Ve=a=Zr(n.current,null),qe=s,rt=0,Pn=null,qs=!1,eo=Ai(n,s),sm=!1,to=Zn=im=ea=Hs=wt=0,En=Fl=null,am=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var h=31-sn(l),m=1<<h;s|=n[h],l&=~m}return cs=s,bu(),a}function x_(n,s){Oe=null,Z.H=Uu,s===Sl||s===Cu?(s=zy(),rt=3):s===Vy?(s=zy(),rt=4):rt=s===Bv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,Ve===null&&(wt=1,Hu(n,Kn(s,n.current)))}function T_(){var n=Z.H;return Z.H=Uu,n===null?Uu:n}function S_(){var n=Z.A;return Z.A=WS,n}function hm(){wt=4,qs||(qe&4194048)!==qe&&Wn.current!==null||(eo=!0),(Hs&134217727)===0&&(ea&134217727)===0||dt===null||Ks(dt,qe,Zn,!1)}function fm(n,s,a){var l=nt;nt|=2;var h=T_(),m=S_();(dt!==n||qe!==s)&&(Wu=null,so(n,s)),s=!1;var E=wt;e:do try{if(rt!==0&&Ve!==null){var S=Ve,O=Pn;switch(rt){case 8:dm(),E=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var $=rt;if(rt=0,Pn=null,io(n,S,O,$),a&&eo){E=0;break e}break;default:$=rt,rt=0,Pn=null,io(n,S,O,$)}}eA(),E=wt;break}catch(ne){x_(n,ne)}while(!0);return s&&n.shellSuspendCounter++,ts=Yi=null,nt=l,Z.H=h,Z.A=m,Ve===null&&(dt=null,qe=0,bu()),E}function eA(){for(;Ve!==null;)A_(Ve)}function tA(n,s){var a=nt;nt|=2;var l=T_(),h=S_();dt!==n||qe!==s?(Wu=null,Xu=Bn()+500,so(n,s)):eo=Ai(n,s);e:do try{if(rt!==0&&Ve!==null){s=Ve;var m=Pn;t:switch(rt){case 1:rt=0,Pn=null,io(n,s,m,1);break;case 2:case 9:if(Ly(m)){rt=0,Pn=null,R_(s);break}s=function(){rt!==2&&rt!==9||dt!==n||(rt=7),Nr(n)},m.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Ly(m)?(rt=0,Pn=null,R_(s)):(rt=0,Pn=null,io(n,s,m,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var S=Ve;if(!E||l0(E)){rt=0,Pn=null;var O=S.sibling;if(O!==null)Ve=O;else{var $=S.return;$!==null?(Ve=$,Ju($)):Ve=null}break t}}rt=0,Pn=null,io(n,s,m,5);break;case 6:rt=0,Pn=null,io(n,s,m,6);break;case 8:dm(),wt=6;break e;default:throw Error(i(462))}}nA();break}catch(ne){x_(n,ne)}while(!0);return ts=Yi=null,Z.H=l,Z.A=h,nt=a,Ve!==null?0:(dt=null,qe=0,bu(),wt)}function nA(){for(;Ve!==null&&!Yo();)A_(Ve)}function A_(n){var s=Jv(n.alternate,n,cs);n.memoizedProps=n.pendingProps,s===null?Ju(n):Ve=s}function R_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Kv(a,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=Kv(a,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:Nf(s);default:t_(a,s),s=Ve=Ny(s,cs),s=Jv(a,s,cs)}n.memoizedProps=n.pendingProps,s===null?Ju(n):Ve=s}function io(n,s,a,l){ts=Yi=null,Nf(s),Xa=null,Pl=0;var h=s.return;try{if(GS(n,h,s,a,qe)){wt=1,Hu(n,Kn(a,n.current)),Ve=null;return}}catch(m){if(h!==null)throw Ve=h,m;wt=1,Hu(n,Kn(a,n.current)),Ve=null;return}s.flags&32768?(Xe||l===1?n=!0:eo||(qe&536870912)!==0?n=!1:(qs=n=!0,(l===2||l===9||l===3||l===6)&&(l=Wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),N_(s,n)):Ju(s)}function Ju(n){var s=n;do{if((s.flags&32768)!==0){N_(s,qs);return}n=s.return;var a=KS(s.alternate,s,cs);if(a!==null){Ve=a;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=n}while(s!==null);wt===0&&(wt=5)}function N_(n,s){do{var a=YS(n.alternate,n);if(a!==null){a.flags&=32767,Ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=a}while(n!==null);wt=6,Ve=null}function C_(n,s,a,l,h,m,E,S,O){n.cancelPendingCommit=null;do ed();while(Xt!==0);if((nt&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=nf,el(n,a,m,E,S,O),n===dt&&(Ve=dt=null,qe=0),no=s,$s=n,ro=a,lm=m,cm=h,__=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,aA(wi,function(){return P_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,h=ie.p,ie.p=2,E=nt,nt|=4;try{QS(n,s,a)}finally{nt=E,ie.p=h,Z.T=l}}Xt=1,I_(),k_(),D_()}}function I_(){if(Xt===1){Xt=0;var n=$s,s=no,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=ie.p;ie.p=2;var h=nt;nt|=4;try{h_(s,n);var m=Sm,E=vy(n.containerInfo),S=m.focusedElem,O=m.selectionRange;if(E!==S&&S&&S.ownerDocument&&yy(S.ownerDocument.documentElement,S)){if(O!==null&&Wh(S)){var $=O.start,ne=O.end;if(ne===void 0&&(ne=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(ne,S.value.length);else{var oe=S.ownerDocument||document,Q=oe&&oe.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),Se=S.textContent.length,we=Math.min(O.start,Se),lt=O.end===void 0?we:Math.min(O.end,Se);!W.extend&&we>lt&&(E=lt,lt=we,we=E);var q=py(S,we),B=py(S,lt);if(q&&B&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var G=oe.createRange();G.setStart(q.node,q.offset),W.removeAllRanges(),we>lt?(W.addRange(G),W.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),W.addRange(G))}}}}for(oe=[],W=S;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var ae=oe[S];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}hd=!!Tm,Sm=Tm=null}finally{nt=h,ie.p=l,Z.T=a}}n.current=s,Xt=2}}function k_(){if(Xt===2){Xt=0;var n=$s,s=no,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=ie.p;ie.p=2;var h=nt;nt|=4;try{l_(n,s.alternate,s)}finally{nt=h,ie.p=l,Z.T=a}}Xt=3}}function D_(){if(Xt===4||Xt===3){Xt=0,Qc();var n=$s,s=no,a=ro,l=__;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xt=5:(Xt=0,no=$s=null,O_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Gs=null),wa(a),s=s.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(bt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Z.T,h=ie.p,ie.p=2,Z.T=null;try{for(var m=n.onRecoverableError,E=0;E<l.length;E++){var S=l[E];m(S.value,{componentStack:S.stack})}}finally{Z.T=s,ie.p=h}}(ro&3)!==0&&ed(),Nr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===um?ql++:(ql=0,um=n):ql=0,Hl(0)}}function O_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,xl(s)))}function ed(n){return I_(),k_(),D_(),P_()}function P_(){if(Xt!==5)return!1;var n=$s,s=lm;lm=0;var a=wa(ro),l=Z.T,h=ie.p;try{ie.p=32>a?32:a,Z.T=null,a=cm,cm=null;var m=$s,E=ro;if(Xt=0,no=$s=null,ro=0,(nt&6)!==0)throw Error(i(331));var S=nt;if(nt|=4,y_(m.current),m_(m,m.current,E,a),nt=S,Hl(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(bt,m)}catch{}return!0}finally{ie.p=h,Z.T=l,O_(n,s)}}function M_(n,s,a){s=Kn(a,s),s=Ff(n.stateNode,s,2),n=js(n,s,2),n!==null&&(Br(n,2),Nr(n))}function ct(n,s,a){if(n.tag===3)M_(n,n,a);else for(;s!==null;){if(s.tag===3){M_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gs===null||!Gs.has(l))){n=Kn(a,n),a=Uv(2),l=js(s,a,2),l!==null&&(zv(a,l,s,n),Br(l,2),Nr(l));break}}s=s.return}}function mm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new ZS;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(sm=!0,h.add(a),n=rA.bind(null,n,s,a),s.then(n,n))}function rA(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,dt===n&&(qe&a)===a&&(wt===4||wt===3&&(qe&62914560)===qe&&300>Bn()-om?(nt&2)===0&&so(n,0):im|=a,to===qe&&(to=0)),Nr(n)}function j_(n,s){s===0&&(s=Jo()),n=za(n,s),n!==null&&(Br(n,s),Nr(n))}function sA(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),j_(n,a)}function iA(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),j_(n,a)}function aA(n,s){return bi(n,s)}var td=null,ao=null,gm=!1,nd=!1,pm=!1,ta=0;function Nr(n){n!==ao&&n.next===null&&(ao===null?td=ao=n:ao=ao.next=n),nd=!0,gm||(gm=!0,lA())}function Hl(n,s){if(!pm&&nd){pm=!0;do for(var a=!1,l=td;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var E=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-sn(42|n)+1)-1,m&=h&~(E&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,z_(l,m))}else m=qe,m=Ea(l,l===dt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ai(l,m)||(a=!0,z_(l,m));l=l.next}while(a);pm=!1}}function oA(){V_()}function V_(){nd=gm=!1;var n=0;ta!==0&&(pA()&&(n=ta),ta=0);for(var s=Bn(),a=null,l=td;l!==null;){var h=l.next,m=L_(l,s);m===0?(l.next=null,a===null?td=h:a.next=h,h===null&&(ao=a)):(a=l,(n!==0||(m&3)!==0)&&(nd=!0)),l=h}Hl(n)}function L_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-sn(m),S=1<<E,O=h[E];O===-1?((S&a)===0||(S&l)!==0)&&(h[E]=Wo(S,s)):O<=s&&(n.expiredLanes|=S),m&=~S}if(s=dt,a=qe,a=Ea(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ei(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ai(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Ei(l),wa(a)){case 2:case 8:a=_a;break;case 32:a=wi;break;case 268435456:a=ba;break;default:a=wi}return l=U_.bind(null,n),a=bi(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Ei(l),n.callbackPriority=2,n.callbackNode=null,2}function U_(n,s){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(ed()&&n.callbackNode!==a)return null;var l=qe;return l=Ea(n,n===dt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(E_(n,l,s),L_(n,Bn()),n.callbackNode!=null&&n.callbackNode===a?U_.bind(null,n):null)}function z_(n,s){if(ed())return null;E_(n,s,!0)}function lA(){vA(function(){(nt&6)!==0?bi(Qo,oA):V_()})}function ym(){return ta===0&&(ta=Zo()),ta}function B_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Na(""+n)}function F_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function cA(n,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var m=B_((h[Rt]||null).action),E=l.submitter;E&&(s=(s=E[Rt]||null)?B_(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var S=new Ca("action","action",null,l,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var O=E?F_(h,E):new FormData(h);Vf(a,{pending:!0,data:O,method:h.method,action:m},null,O)}}else typeof m=="function"&&(S.preventDefault(),O=E?F_(h,E):new FormData(h),Vf(a,{pending:!0,data:O,method:h.method,action:m},m,O))},currentTarget:h}]})}}for(var vm=0;vm<tf.length;vm++){var _m=tf[vm],uA=_m.toLowerCase(),dA=_m[0].toUpperCase()+_m.slice(1);rr(uA,"on"+dA)}rr(Ey,"onAnimationEnd"),rr(wy,"onAnimationIteration"),rr(xy,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(NS,"onTransitionRun"),rr(CS,"onTransitionStart"),rr(IS,"onTransitionCancel"),rr(Ty,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function q_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var E=l.length-1;0<=E;E--){var S=l[E],O=S.instance,$=S.currentTarget;if(S=S.listener,O!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(ne){qu(ne)}h.currentTarget=null,m=O}else for(E=0;E<l.length;E++){if(S=l[E],O=S.instance,$=S.currentTarget,S=S.listener,O!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=$;try{m(h)}catch(ne){qu(ne)}h.currentTarget=null,m=O}}}}function Le(n,s){var a=s[nl];a===void 0&&(a=s[nl]=new Set);var l=n+"__bubble";a.has(l)||(H_(s,n,2,!1),a.add(l))}function bm(n,s,a){var l=0;s&&(l|=4),H_(a,n,l,s)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Em(n){if(!n[rd]){n[rd]=!0,rl.forEach(function(a){a!=="selectionchange"&&(hA.has(a)||bm(a,!1,n),bm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[rd]||(s[rd]=!0,bm("selectionchange",!1,s))}}function H_(n,s,a,l){switch(m0(s)){case 2:var h=UA;break;case 8:h=zA;break;default:h=Mm}a=h.bind(null,s,a,n),h=void 0,!Gn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(s,a,{capture:!0,passive:h}):n.addEventListener(s,a,!0):h!==void 0?n.addEventListener(s,a,{passive:h}):n.addEventListener(s,a,!1)}function wm(n,s,a,l,h){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Fr(S),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=m=E;continue e}S=S.parentNode}}l=l.return}iu(function(){var $=m,ne=Hn(a),oe=[];e:{var Q=Sy.get(n);if(Q!==void 0){var W=Ca,Se=n;switch(n){case"keypress":if(_r(a)===0)break e;case"keydown":case"keyup":W=Ma;break;case"focusin":Se="focus",W=Da;break;case"focusout":Se="blur",W=Da;break;case"beforeblur":case"afterblur":W=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=fu;break;case Ey:case wy:case xy:W=Oa;break;case Ty:W=gu;break;case"scroll":case"scrollend":W=au;break;case"wheel":W=ja;break;case"copy":case"cut":case"paste":W=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=gl;break;case"toggle":case"beforetoggle":W=yu}var we=(s&4)!==0,lt=!we&&(n==="scroll"||n==="scrollend"),q=we?Q!==null?Q+"Capture":null:Q;we=[];for(var B=$,G;B!==null;){var ae=B;if(G=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||G===null||q===null||(ae=Pi(B,q),ae!=null&&we.push($l(B,ae,G))),lt)break;B=B.return}0<we.length&&(Q=new W(Q,Se,null,a,ne),oe.push({event:Q,listeners:we}))}}if((s&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",Q&&a!==$r&&(Se=a.relatedTarget||a.fromElement)&&(Fr(Se)||Se[Fn]))break e;if((W||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(Se=a.relatedTarget||a.toElement,W=$,Se=Se?Fr(Se):null,Se!==null&&(lt=c(Se),we=Se.tag,Se!==lt||we!==5&&we!==27&&we!==6)&&(Se=null)):(W=null,Se=$),W!==Se)){if(we=$n,ae="onMouseLeave",q="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(we=gl,ae="onPointerLeave",q="onPointerEnter",B="pointer"),lt=W==null?Q:gr(W),G=Se==null?Q:gr(Se),Q=new we(ae,B+"leave",W,a,ne),Q.target=lt,Q.relatedTarget=G,ae=null,Fr(ne)===$&&(we=new we(q,B+"enter",Se,a,ne),we.target=G,we.relatedTarget=lt,ae=we),lt=ae,W&&Se)t:{for(we=W,q=Se,B=0,G=we;G;G=oo(G))B++;for(G=0,ae=q;ae;ae=oo(ae))G++;for(;0<B-G;)we=oo(we),B--;for(;0<G-B;)q=oo(q),G--;for(;B--;){if(we===q||q!==null&&we===q.alternate)break t;we=oo(we),q=oo(q)}we=null}else we=null;W!==null&&G_(oe,Q,W,we,!1),Se!==null&&lt!==null&&G_(oe,lt,Se,we,!0)}}e:{if(Q=$?gr($):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var me=uy;else if(Mt(Q))if(dy)me=SS;else{me=xS;var je=wS}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&ll($.elementType)&&(me=uy):me=TS;if(me&&(me=me(n,$))){Wr(oe,me,a,ne);break e}je&&je(n,Q,$),n==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&ks(Q,"number",Q.value)}switch(je=$?gr($):window,n){case"focusin":(Mt(je)||je.contentEditable==="true")&&(Va=je,Zh=$,vl=null);break;case"focusout":vl=Zh=Va=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,_y(oe,a,ne);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":_y(oe,a,ne)}var _e;if(wr)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Be?J(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(b&&a.locale!=="ko"&&(Be||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Be&&(_e=ul()):(vr=ne,Ds="value"in vr?vr.value:vr.textContent,Be=!0)),je=sd($,Te),0<je.length&&(Te=new fl(Te,n,null,a,ne),oe.push({event:Te,listeners:je}),_e?Te.data=_e:(_e=de(a),_e!==null&&(Te.data=_e)))),(_e=v?Pt(n,a):Fe(n,a))&&(Te=sd($,"onBeforeInput"),0<Te.length&&(je=new fl("onBeforeInput","beforeinput",null,a,ne),oe.push({event:je,listeners:Te}),je.data=_e)),cA(oe,n,$,a,ne)}q_(oe,s)})}function $l(n,s,a){return{instance:n,listener:s,currentTarget:a}}function sd(n,s){for(var a=s+"Capture",l=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Pi(n,a),h!=null&&l.unshift($l(n,h,m)),h=Pi(n,s),h!=null&&l.push($l(n,h,m))),n.tag===3)return l;n=n.return}return[]}function oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function G_(n,s,a,l,h){for(var m=s._reactName,E=[];a!==null&&a!==l;){var S=a,O=S.alternate,$=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||$===null||(O=$,h?($=Pi(a,m),$!=null&&E.unshift($l(a,$,O))):h||($=Pi(a,m),$!=null&&E.push($l(a,$,O)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var fA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function $_(n){return(typeof n=="string"?n:""+n).replace(fA,`
`).replace(mA,"")}function K_(n,s){return s=$_(s),$_(n)===s}function id(){}function ot(n,s,a,l,h,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||qn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&qn(n,""+l);break;case"className":pr(n,"class",l);break;case"tabIndex":pr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(n,a,l);break;case"style":ol(n,l,m);break;case"data":if(s!=="object"){pr(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Na(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&ot(n,s,"name",h.name,h,null),ot(n,s,"formEncType",h.formEncType,h,null),ot(n,s,"formMethod",h.formMethod,h,null),ot(n,s,"formTarget",h.formTarget,h,null)):(ot(n,s,"encType",h.encType,h,null),ot(n,s,"method",h.method,h,null),ot(n,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Na(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=id);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Na(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Is(n,"popover",l);break;case"xlinkActuate":Kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Is(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gh.get(a)||a,Is(n,a,l))}}function xm(n,s,a,l,h,m){switch(a){case"style":ol(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof l=="string"?qn(n,l):(typeof l=="number"||typeof l=="bigint")&&qn(n,""+l);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"onClick":l!=null&&(n.onclick=id);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=n[Rt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Is(n,a,l)}}}function Wt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(n,s,m,E,a,null)}}h&&ot(n,s,"srcSet",a.srcSet,a,null),l&&ot(n,s,"src",a.src,a,null);return;case"input":Le("invalid",n);var S=m=E=h=null,O=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":h=ne;break;case"type":E=ne;break;case"checked":O=ne;break;case"defaultChecked":$=ne;break;case"value":m=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ot(n,s,l,ne,a,null)}}ki(n,m,S,O,$,E,h,!1),Ra(n);return;case"select":Le("invalid",n),l=E=m=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:ot(n,s,h,S,a,null)}s=m,a=E,n.multiple=!!l,s!=null?Gr(n,!!l,s,!1):a!=null&&Gr(n,!!l,a,!0);return;case"textarea":Le("invalid",n),m=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ot(n,s,E,S,a,null)}Di(n,l,h,m),Ra(n);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ot(n,s,O,l,a,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Le(Gl[l],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(n,s,$,l,a,null)}return;default:if(ll(s)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&xm(n,s,ne,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ot(n,s,S,l,a,null))}function gA(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,S=null,O=null,$=null,ne=null;for(W in a){var oe=a[W];if(a.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=oe;default:l.hasOwnProperty(W)||ot(n,s,W,null,l,oe)}}for(var Q in l){var W=l[Q];if(oe=a[Q],l.hasOwnProperty(Q)&&(W!=null||oe!=null))switch(Q){case"type":m=W;break;case"name":h=W;break;case"checked":$=W;break;case"defaultChecked":ne=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==oe&&ot(n,s,Q,W,l,oe)}}Cn(n,E,S,O,$,ne,m,h);return;case"select":W=E=S=Q=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":W=O;default:l.hasOwnProperty(m)||ot(n,s,m,null,l,O)}for(h in l)if(m=l[h],O=a[h],l.hasOwnProperty(h)&&(m!=null||O!=null))switch(h){case"value":Q=m;break;case"defaultValue":S=m;break;case"multiple":E=m;default:m!==O&&ot(n,s,h,m,l,O)}s=S,a=E,l=W,Q!=null?Gr(n,!!a,Q,!1):!!l!=!!a&&(s!=null?Gr(n,!!a,s,!0):Gr(n,!!a,a?[]:"",!1));return;case"textarea":W=Q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ot(n,s,S,null,l,h)}for(E in l)if(h=l[E],m=a[E],l.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":Q=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&ot(n,s,E,h,l,m)}it(n,Q,W);return;case"option":for(var Se in a)if(Q=a[Se],a.hasOwnProperty(Se)&&Q!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:ot(n,s,Se,null,l,Q)}for(O in l)if(Q=l[O],W=a[O],l.hasOwnProperty(O)&&Q!==W&&(Q!=null||W!=null))switch(O){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ot(n,s,O,Q,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)Q=a[we],a.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we)&&ot(n,s,we,null,l,Q);for($ in l)if(Q=l[$],W=a[$],l.hasOwnProperty($)&&Q!==W&&(Q!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:ot(n,s,$,Q,l,W)}return;default:if(ll(s)){for(var lt in a)Q=a[lt],a.hasOwnProperty(lt)&&Q!==void 0&&!l.hasOwnProperty(lt)&&xm(n,s,lt,void 0,l,Q);for(ne in l)Q=l[ne],W=a[ne],!l.hasOwnProperty(ne)||Q===W||Q===void 0&&W===void 0||xm(n,s,ne,Q,l,W);return}}for(var q in a)Q=a[q],a.hasOwnProperty(q)&&Q!=null&&!l.hasOwnProperty(q)&&ot(n,s,q,null,l,Q);for(oe in l)Q=l[oe],W=a[oe],!l.hasOwnProperty(oe)||Q===W||Q==null&&W==null||ot(n,s,oe,Q,l,W)}var Tm=null,Sm=null;function ad(n){return n.nodeType===9?n:n.ownerDocument}function Y_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Am(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rm=null;function pA(){var n=window.event;return n&&n.type==="popstate"?n===Rm?!1:(Rm=n,!0):(Rm=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,vA=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(n){return W_.resolve(null).then(n).catch(_A)}:X_;function _A(n){setTimeout(function(){throw n})}function Ys(n){return n==="head"}function Z_(n,s){var a=s,l=0,h=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Kl(E.documentElement),a&2&&Kl(E.body),a&4)for(a=E.head,Kl(a),E=a.firstChild;E;){var S=E.nextSibling,O=E.nodeName;E[Ri]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(h===0){n.removeChild(m),tc(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);tc(s)}function Nm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nm(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function bA(n,s,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ri])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ir(n.nextSibling),n===null)break}return null}function EA(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ir(n.nextSibling),n===null))return null;return n}function Cm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function wA(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ir(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Im=null;function J_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function e0(n,s,a){switch(s=ad(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Kl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Cs(n)}var Jn=new Map,t0=new Set;function od(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var us=ie.d;ie.d={f:xA,r:TA,D:SA,C:AA,L:RA,m:NA,X:IA,S:CA,M:kA};function xA(){var n=us.f(),s=Zu();return n||s}function TA(n){var s=mr(n);s!==null&&s.tag===5&&s.type==="form"?Ev(s):us.r(n)}var lo=typeof document>"u"?null:document;function n0(n,s,a){var l=lo;if(l&&typeof s=="string"&&s){var h=Nt(s);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),t0.has(h)||(t0.add(h),n={rel:n,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),Wt(s,"link",n),xt(s),l.head.appendChild(s)))}}function SA(n){us.D(n),n0("dns-prefetch",n,null)}function AA(n,s){us.C(n,s),n0("preconnect",n,s)}function RA(n,s,a){us.L(n,s,a);var l=lo;if(l&&n&&s){var h='link[rel="preload"][as="'+Nt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nt(a.imageSizes)+'"]')):h+='[href="'+Nt(n)+'"]';var m=h;switch(s){case"style":m=co(n);break;case"script":m=uo(n)}Jn.has(m)||(n=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Jn.set(m,n),l.querySelector(h)!==null||s==="style"&&l.querySelector(Yl(m))||s==="script"&&l.querySelector(Ql(m))||(s=l.createElement("link"),Wt(s,"link",n),xt(s),l.head.appendChild(s)))}}function NA(n,s){us.m(n,s);var a=lo;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(n)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=uo(n)}if(!Jn.has(m)&&(n=_({rel:"modulepreload",href:n},s),Jn.set(m,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(m)))return}l=a.createElement("link"),Wt(l,"link",n),xt(l),a.head.appendChild(l)}}}function CA(n,s,a){us.S(n,s,a);var l=lo;if(l&&n){var h=gn(l).hoistableStyles,m=co(n);s=s||"default";var E=h.get(m);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(Yl(m)))S.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Jn.get(m))&&km(n,a);var O=E=l.createElement("link");xt(O),Wt(O,"link",n),O._p=new Promise(function($,ne){O.onload=$,O.onerror=ne}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ld(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(m,E)}}}function IA(n,s){us.X(n,s);var a=lo;if(a&&n){var l=gn(a).hoistableScripts,h=uo(n),m=l.get(h);m||(m=a.querySelector(Ql(h)),m||(n=_({src:n,async:!0},s),(s=Jn.get(h))&&Dm(n,s),m=a.createElement("script"),xt(m),Wt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function kA(n,s){us.M(n,s);var a=lo;if(a&&n){var l=gn(a).hoistableScripts,h=uo(n),m=l.get(h);m||(m=a.querySelector(Ql(h)),m||(n=_({src:n,async:!0,type:"module"},s),(s=Jn.get(h))&&Dm(n,s),m=a.createElement("script"),xt(m),Wt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function r0(n,s,a,l){var h=(h=Ee.current)?od(h):null;if(!h)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=co(a.href),a=gn(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=co(a.href);var m=gn(h).hoistableStyles,E=m.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=h.querySelector(Yl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(n,a),m||DA(h,n,a,E.state))),s&&l===null)throw Error(i(528,""));return E}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=uo(a),a=gn(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function co(n){return'href="'+Nt(n)+'"'}function Yl(n){return'link[rel="stylesheet"]['+n+"]"}function s0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function DA(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Wt(s,"link",a),xt(s),n.head.appendChild(s))}function uo(n){return'[src="'+Nt(n)+'"]'}function Ql(n){return"script[async]"+n}function i0(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return s.instance=l,xt(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),xt(l),Wt(l,"style",h),ld(l,a.precedence,n),s.instance=l;case"stylesheet":h=co(a.href);var m=n.querySelector(Yl(h));if(m)return s.state.loading|=4,s.instance=m,xt(m),m;l=s0(a),(h=Jn.get(h))&&km(l,h),m=(n.ownerDocument||n).createElement("link"),xt(m);var E=m;return E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),Wt(m,"link",l),s.state.loading|=4,ld(m,a.precedence,n),s.instance=m;case"script":return m=uo(a.src),(h=n.querySelector(Ql(m)))?(s.instance=h,xt(h),h):(l=a,(h=Jn.get(m))&&(l=_({},a),Dm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),xt(h),Wt(h,"link",l),n.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ld(l,a.precedence,n));return s.instance}function ld(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===s)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function km(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Dm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var cd=null;function a0(n,s,a){if(cd===null){var l=new Map,h=cd=new Map;h.set(a,l)}else h=cd,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[Ri]||m[Ot]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=n+E;var S=l.get(E);S?S.push(m):l.set(E,[m])}}return l}function o0(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function OA(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function l0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Xl=null;function PA(){}function MA(n,s,a){if(Xl===null)throw Error(i(475));var l=Xl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=co(a.href),m=n.querySelector(Yl(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=ud.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=m,xt(m);return}m=n.ownerDocument||n,a=s0(a),(h=Jn.get(h))&&km(a,h),m=m.createElement("link"),xt(m);var E=m;E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),Wt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=ud.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function jA(){if(Xl===null)throw Error(i(475));var n=Xl;return n.stylesheets&&n.count===0&&Om(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Om(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function ud(){if(this.count--,this.count===0){if(this.stylesheets)Om(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var dd=null;function Om(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,dd=new Map,s.forEach(VA,n),dd=null,ud.call(n))}function VA(n,s){if(!(s.state.loading&4)){var a=dd.get(n);if(a)var l=a.get(null);else{a=new Map,dd.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=s.instance,E=h.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,h),a.set(E,h),this.count++,l=ud.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),s.state.loading|=4}}var Wl={$$typeof:z,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function LA(n,s,a,l,h,m,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.hiddenUpdates=zr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function c0(n,s,a,l,h,m,E,S,O,$,ne,oe){return n=new LA(n,s,a,E,S,O,$,oe),s=1,m===!0&&(s|=24),m=kn(3,null,null,s),n.current=m,m.stateNode=n,s=mf(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},vf(m),n}function u0(n){return n?(n=Ba,n):Ba}function d0(n,s,a,l,h,m){h=u0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ms(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=js(n,l,s),a!==null&&(jn(a,n,s),Rl(a,n,s))}function h0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Pm(n,s){h0(n,s),(n=n.alternate)&&h0(n,s)}function f0(n){if(n.tag===13){var s=za(n,67108864);s!==null&&jn(s,n,67108864),Pm(n,67108864)}}var hd=!0;function UA(n,s,a,l){var h=Z.T;Z.T=null;var m=ie.p;try{ie.p=2,Mm(n,s,a,l)}finally{ie.p=m,Z.T=h}}function zA(n,s,a,l){var h=Z.T;Z.T=null;var m=ie.p;try{ie.p=8,Mm(n,s,a,l)}finally{ie.p=m,Z.T=h}}function Mm(n,s,a,l){if(hd){var h=jm(l);if(h===null)wm(n,s,l,fd,a),g0(n,l);else if(FA(h,n,s,a,l))l.stopPropagation();else if(g0(n,l),s&4&&-1<BA.indexOf(n)){for(;h!==null;){var m=mr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=er(m.pendingLanes);if(E!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var O=1<<31-sn(E);S.entanglements[1]|=O,E&=~O}Nr(m),(nt&6)===0&&(Xu=Bn()+500,Hl(0))}}break;case 13:S=za(m,2),S!==null&&jn(S,m,2),Zu(),Pm(m,2)}if(m=jm(l),m===null&&wm(n,s,l,fd,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else wm(n,s,l,null,a)}}function jm(n){return n=Hn(n),Vm(n)}var fd=null;function Vm(n){if(fd=null,n=Fr(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return fd=n,null}function m0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uh()){case Qo:return 2;case _a:return 8;case wi:case zh:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Lm=!1,Qs=null,Xs=null,Ws=null,Zl=new Map,Jl=new Map,Zs=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g0(n,s){switch(n){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Zl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(s.pointerId)}}function ec(n,s,a,l,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},s!==null&&(s=mr(s),s!==null&&f0(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function FA(n,s,a,l,h){switch(s){case"focusin":return Qs=ec(Qs,n,s,a,l,h),!0;case"dragenter":return Xs=ec(Xs,n,s,a,l,h),!0;case"mouseover":return Ws=ec(Ws,n,s,a,l,h),!0;case"pointerover":var m=h.pointerId;return Zl.set(m,ec(Zl.get(m)||null,n,s,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Jl.set(m,ec(Jl.get(m)||null,n,s,a,l,h)),!0}return!1}function p0(n){var s=Fr(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,Zc(n.priority,function(){if(a.tag===13){var l=Mn();l=As(l);var h=za(a,l);h!==null&&jn(h,a,l),Pm(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function md(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=jm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);$r=l,a.target.dispatchEvent(l),$r=null}else return s=mr(a),s!==null&&f0(s),n.blockedOn=a,!1;s.shift()}return!0}function y0(n,s,a){md(n)&&a.delete(s)}function qA(){Lm=!1,Qs!==null&&md(Qs)&&(Qs=null),Xs!==null&&md(Xs)&&(Xs=null),Ws!==null&&md(Ws)&&(Ws=null),Zl.forEach(y0),Jl.forEach(y0)}function gd(n,s){n.blockedOn===s&&(n.blockedOn=null,Lm||(Lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qA)))}var pd=null;function v0(n){pd!==n&&(pd=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pd===n&&(pd=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],h=n[s+2];if(typeof l!="function"){if(Vm(l||a)===null)continue;break}var m=mr(a);m!==null&&(n.splice(s,3),s-=3,Vf(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function tc(n){function s(O){return gd(O,n)}Qs!==null&&gd(Qs,n),Xs!==null&&gd(Xs,n),Ws!==null&&gd(Ws,n),Zl.forEach(s),Jl.forEach(s);for(var a=0;a<Zs.length;a++){var l=Zs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)p0(a),a.blockedOn===null&&Zs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],E=h[Rt]||null;if(typeof m=="function")E||v0(a);else if(E){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[Rt]||null)S=E.formAction;else if(Vm(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),v0(a)}}}function Um(n){this._internalRoot=n}yd.prototype.render=Um.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Mn();d0(a,l,n,s,null,null)},yd.prototype.unmount=Um.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;d0(n.current,2,null,n,null,null),Zu(),s[Fn]=null}};function yd(n){this._internalRoot=n}yd.prototype.unstable_scheduleHydration=function(n){if(n){var s=Rs();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Zs.length&&s!==0&&s<Zs[a].priority;a++);Zs.splice(a,0,n),a===0&&p0(n)}};var _0=e.version;if(_0!=="19.1.1")throw Error(i(527,_0,"19.1.1"));ie.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var HA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{bt=vd.inject(HA),tt=vd}catch{}}return rc.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,l="",h=Mv,m=jv,E=Vv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=c0(n,1,!1,null,null,a,l,h,m,E,S,null),n[Fn]=s.current,Em(n),new Um(s)},rc.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var l=!1,h="",m=Mv,E=jv,S=Vv,O=null,$=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&($=a.formState)),s=c0(n,1,!0,s,a??null,l,h,m,E,S,O,$),s.context=u0(null),a=s.current,l=Mn(),l=As(l),h=Ms(l),h.callback=null,js(a,h,l),a=l,s.current.lanes=a,Br(s,a),Nr(s),n[Fn]=s.current,Em(n),new yd(s)},rc.version="19.1.1",rc}var C0;function e1(){if(C0)return Fm.exports;C0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fm.exports=JA(),Fm.exports}var t1=e1();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var I0="popstate";function n1(r={}){function e(i,o){let{pathname:c,search:u,hash:f}=i.location;return pg("",{pathname:c,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:pc(o)}return s1(e,t,null,r)}function pt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function lr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r1(){return Math.random().toString(36).substring(2,10)}function k0(r,e){return{usr:r.state,key:r.key,idx:e}}function pg(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:t,key:e&&e.key||i||r1()}}function pc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Vo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function s1(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,u=o.history,f="POP",g=null,y=_();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function _(){return(u.state||{idx:null}).idx}function w(){f="POP";let k=_(),L=k==null?null:k-y;y=k,g&&g({action:f,location:C.location,delta:L})}function x(k,L){f="PUSH";let K=pg(C.location,k,L);y=_()+1;let z=k0(K,y),X=C.createHref(K);try{u.pushState(z,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(X)}c&&g&&g({action:f,location:C.location,delta:1})}function I(k,L){f="REPLACE";let K=pg(C.location,k,L);y=_();let z=k0(K,y),X=C.createHref(K);u.replaceState(z,"",X),c&&g&&g({action:f,location:C.location,delta:0})}function V(k){return i1(k)}let C={get action(){return f},get location(){return r(o,u)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(I0,w),g=k,()=>{o.removeEventListener(I0,w),g=null}},createHref(k){return e(o,k)},createURL:V,encodeLocation(k){let L=V(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:I,go(k){return u.go(k)}};return C}function i1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:pc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function CE(r,e,t="/"){return a1(r,e,t,!1)}function a1(r,e,t,i){let o=typeof e=="string"?Vo(e):e,c=bs(o.pathname||"/",t);if(c==null)return null;let u=IE(r);o1(u);let f=null;for(let g=0;f==null&&g<u.length;++g){let y=v1(c);f=p1(u[g],y,i)}return f}function IE(r,e=[],t=[],i="",o=!1){let c=(u,f,g=o,y)=>{let _={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&g)return;pt(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let w=ys([i,_.relativePath]),x=t.concat(_);u.children&&u.children.length>0&&(pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),IE(u.children,e,x,w,g)),!(u.path==null&&!u.index)&&e.push({path:w,score:m1(w,u.index),routesMeta:x})};return r.forEach((u,f)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))c(u,f);else for(let y of kE(u.path))c(u,f,!0,y)}),e}function kE(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let u=kE(i.join("/")),f=[];return f.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&f.push(...u),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function o1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:g1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var l1=/^:[\w-]+$/,c1=3,u1=2,d1=1,h1=10,f1=-2,D0=r=>r==="*";function m1(r,e){let t=r.split("/"),i=t.length;return t.some(D0)&&(i+=f1),e&&(i+=u1),t.filter(o=>!D0(o)).reduce((o,c)=>o+(l1.test(c)?c1:c===""?d1:h1),i)}function g1(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function p1(r,e,t=!1){let{routesMeta:i}=r,o={},c="/",u=[];for(let f=0;f<i.length;++f){let g=i[f],y=f===i.length-1,_=c==="/"?e:e.slice(c.length)||"/",w=Kd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),x=g.route;if(!w&&y&&t&&!i[i.length-1].route.index&&(w=Kd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:ys([c,w.pathname]),pathnameBase:w1(ys([c,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(c=ys([c,w.pathnameBase]))}return u}function Kd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=y1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:w},x)=>{if(_==="*"){let V=f[x]||"";u=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const I=f[x];return w&&!I?y[_]=void 0:y[_]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:r}}function y1(r,e=!1,t=!0){lr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,g)=>(i.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function v1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function bs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function _1(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Vo(r):r;return{pathname:t?t.startsWith("/")?t:b1(t,e):e,search:x1(i),hash:T1(o)}}function b1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $m(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zg(r){let e=E1(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Jg(r,e,t,i=!1){let o;typeof r=="string"?o=Vo(r):(o={...r},pt(!o.pathname||!o.pathname.includes("?"),$m("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),$m("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),$m("#","search","hash",o)));let c=r===""||o.pathname==="",u=c?"/":o.pathname,f;if(u==null)f=t;else{let w=e.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),w-=1;o.pathname=x.join("/")}f=w>=0?e[w]:"/"}let g=_1(o,f),y=u&&u!=="/"&&u.endsWith("/"),_=(c||u===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var ys=r=>r.join("/").replace(/\/\/+/g,"/"),w1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),x1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,T1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function S1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var DE=["POST","PUT","PATCH","DELETE"];new Set(DE);var A1=["GET",...DE];new Set(A1);var Lo=T.createContext(null);Lo.displayName="DataRouter";var mh=T.createContext(null);mh.displayName="DataRouterState";T.createContext(!1);var OE=T.createContext({isTransitioning:!1});OE.displayName="ViewTransition";var R1=T.createContext(new Map);R1.displayName="Fetchers";var N1=T.createContext(null);N1.displayName="Await";var ur=T.createContext(null);ur.displayName="Navigation";var Nc=T.createContext(null);Nc.displayName="Location";var dr=T.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var ep=T.createContext(null);ep.displayName="RouteError";function C1(r,{relative:e}={}){pt(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=T.useContext(ur),{hash:o,pathname:c,search:u}=Cc(r,{relative:e}),f=c;return t!=="/"&&(f=c==="/"?t:ys([t,c])),i.createHref({pathname:f,search:u,hash:o})}function Uo(){return T.useContext(Nc)!=null}function vi(){return pt(Uo(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Nc).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ME(r){T.useContext(ur).static||T.useLayoutEffect(r)}function Ur(){let{isDataRoute:r}=T.useContext(dr);return r?F1():I1()}function I1(){pt(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(Lo),{basename:e,navigator:t}=T.useContext(ur),{matches:i}=T.useContext(dr),{pathname:o}=vi(),c=JSON.stringify(Zg(i)),u=T.useRef(!1);return ME(()=>{u.current=!0}),T.useCallback((g,y={})=>{if(lr(u.current,PE),!u.current)return;if(typeof g=="number"){t.go(g);return}let _=Jg(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ys([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,c,o,r])}T.createContext(null);function jE(){let{matches:r}=T.useContext(dr),e=r[r.length-1];return e?e.params:{}}function Cc(r,{relative:e}={}){let{matches:t}=T.useContext(dr),{pathname:i}=vi(),o=JSON.stringify(Zg(t));return T.useMemo(()=>Jg(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function k1(r,e){return VE(r,e)}function VE(r,e,t,i,o){var K;pt(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=T.useContext(ur),{matches:u}=T.useContext(dr),f=u[u.length-1],g=f?f.params:{},y=f?f.pathname:"/",_=f?f.pathnameBase:"/",w=f&&f.route;{let z=w&&w.path||"";LE(y,!w||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let x=vi(),I;if(e){let z=typeof e=="string"?Vo(e):e;pt(_==="/"||((K=z.pathname)==null?void 0:K.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${z.pathname}" was given in the \`location\` prop.`),I=z}else I=x;let V=I.pathname||"/",C=V;if(_!=="/"){let z=_.replace(/^\//,"").split("/");C="/"+V.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=CE(r,{pathname:C});lr(w||k!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),lr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=j1(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},g,z.params),pathname:ys([_,c.encodeLocation?c.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?_:ys([_,c.encodeLocation?c.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,t,i,o);return e&&L?T.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},L):L}function D1(){let r=B1(),e=S1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:c},"ErrorBoundary")," or"," ",T.createElement("code",{style:c},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:o},t):null,u)}var O1=T.createElement(D1,null),P1=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?T.createElement(dr.Provider,{value:this.props.routeContext},T.createElement(ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M1({routeContext:r,match:e,children:t}){let i=T.useContext(Lo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(dr.Provider,{value:r},t)}function j1(r,e=[],t=null,i=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let c=r,u=t==null?void 0:t.errors;if(u!=null){let y=c.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);pt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let f=!1,g=-1;if(t)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=y),_.route.id){let{loaderData:w,errors:x}=t,I=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||I){f=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,_,w)=>{let x,I=!1,V=null,C=null;t&&(x=u&&_.route.id?u[_.route.id]:void 0,V=_.route.errorElement||O1,f&&(g<0&&w===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,C=null):g===w&&(I=!0,C=_.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,w+1)),L=()=>{let K;return x?K=V:I?K=C:_.route.Component?K=T.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=y,T.createElement(M1,{match:_,routeContext:{outlet:y,matches:k,isDataRoute:t!=null},children:K})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?T.createElement(P1,{location:t.location,revalidation:t.revalidation,component:V,error:x,children:L(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:i}):L()},null)}function tp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V1(r){let e=T.useContext(Lo);return pt(e,tp(r)),e}function L1(r){let e=T.useContext(mh);return pt(e,tp(r)),e}function U1(r){let e=T.useContext(dr);return pt(e,tp(r)),e}function np(r){let e=U1(r),t=e.matches[e.matches.length-1];return pt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function z1(){return np("useRouteId")}function B1(){var i;let r=T.useContext(ep),e=L1("useRouteError"),t=np("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function F1(){let{router:r}=V1("useNavigate"),e=np("useNavigate"),t=T.useRef(!1);return ME(()=>{t.current=!0}),T.useCallback(async(o,c={})=>{lr(t.current,PE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var O0={};function LE(r,e,t){!e&&!O0[r]&&(O0[r]=!0,lr(!1,t))}T.memo(q1);function q1({routes:r,future:e,state:t,unstable_onError:i}){return VE(r,void 0,t,i,e)}function H1({to:r,replace:e,state:t,relative:i}){pt(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(ur);lr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=T.useContext(dr),{pathname:u}=vi(),f=Ur(),g=Jg(r,Zg(c),u,i==="path"),y=JSON.stringify(g);return T.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:i})},[f,y,i,e,t]),null}function Cr(r){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G1({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:c=!1}){pt(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof t=="string"&&(t=Vo(t));let{pathname:g="/",search:y="",hash:_="",state:w=null,key:x="default"}=t,I=T.useMemo(()=>{let V=bs(g,u);return V==null?null:{location:{pathname:V,search:y,hash:_,state:w,key:x},navigationType:i}},[u,g,y,_,w,x,i]);return lr(I!=null,`<Router basename="${u}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:T.createElement(ur.Provider,{value:f},T.createElement(Nc.Provider,{children:e,value:I}))}function $1({children:r,location:e}){return k1(yg(r),e)}function yg(r,e=[]){let t=[];return T.Children.forEach(r,(i,o)=>{if(!T.isValidElement(i))return;let c=[...e,o];if(i.type===T.Fragment){t.push.apply(t,yg(i.props.children,c));return}pt(i.type===Cr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=yg(i.props.children,c)),t.push(u)}),t}var Dd="get",Od="application/x-www-form-urlencoded";function gh(r){return r!=null&&typeof r.tagName=="string"}function K1(r){return gh(r)&&r.tagName.toLowerCase()==="button"}function Y1(r){return gh(r)&&r.tagName.toLowerCase()==="form"}function Q1(r){return gh(r)&&r.tagName.toLowerCase()==="input"}function X1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function W1(r,e){return r.button===0&&(!e||e==="_self")&&!X1(r)}var _d=null;function Z1(){if(_d===null)try{new FormData(document.createElement("form"),0),_d=!1}catch{_d=!0}return _d}var J1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(r){return r!=null&&!J1.has(r)?(lr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Od}"`),null):r}function eR(r,e){let t,i,o,c,u;if(Y1(r)){let f=r.getAttribute("action");i=f?bs(f,e):null,t=r.getAttribute("method")||Dd,o=Km(r.getAttribute("enctype"))||Od,c=new FormData(r)}else if(K1(r)||Q1(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||f.getAttribute("action");if(i=g?bs(g,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Dd,o=Km(r.getAttribute("formenctype"))||Km(f.getAttribute("enctype"))||Od,c=new FormData(f,r),!Z1()){let{name:y,type:_,value:w}=r;if(_==="image"){let x=y?`${y}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else y&&c.append(y,w)}}else{if(gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dd,i=null,o=Od,u=r}return c&&o==="text/plain"&&(u=c,c=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tR(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&bs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function nR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function sR(r,e,t){let i=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await nR(c,t);return u.links?u.links():[]}return[]}));return lR(i.flat(1).filter(rR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function P0(r,e,t,i,o,c){let u=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,f=(g,y)=>{var _;return t[y].pathname!==g.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,y)=>u(g,y)||f(g,y)):c==="data"?e.filter((g,y)=>{var w;let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(u(g,y)||f(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function iR(r,e,{includeHydrateFallback:t}={}){return aR(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function aR(r){return[...new Set(r)]}function oR(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function lR(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let c=JSON.stringify(oR(o));return t.has(c)||(t.add(c),i.push({key:c,link:o})),i},[])}function UE(){let r=T.useContext(Lo);return rp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function cR(){let r=T.useContext(mh);return rp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sp=T.createContext(void 0);sp.displayName="FrameworkContext";function zE(){let r=T.useContext(sp);return rp(r,"You must render this element inside a <HydratedRouter> element"),r}function uR(r,e){let t=T.useContext(sp),[i,o]=T.useState(!1),[c,u]=T.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:w}=e,x=T.useRef(null);T.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let C=L=>{L.forEach(K=>{u(K.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[r]),T.useEffect(()=>{if(i){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[i]);let I=()=>{o(!0)},V=()=>{o(!1),u(!1)};return t?r!=="intent"?[c,x,{}]:[c,x,{onFocus:sc(f,I),onBlur:sc(g,V),onMouseEnter:sc(y,I),onMouseLeave:sc(_,V),onTouchStart:sc(w,I)}]:[!1,x,{}]}function sc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function dR({page:r,...e}){let{router:t}=UE(),i=T.useMemo(()=>CE(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?T.createElement(fR,{page:r,matches:i,...e}):null}function hR(r){let{manifest:e,routeModules:t}=zE(),[i,o]=T.useState([]);return T.useEffect(()=>{let c=!1;return sR(r,e,t).then(u=>{c||o(u)}),()=>{c=!0}},[r,e,t]),i}function fR({page:r,matches:e,...t}){let i=vi(),{manifest:o,routeModules:c}=zE(),{basename:u}=UE(),{loaderData:f,matches:g}=cR(),y=T.useMemo(()=>P0(r,e,g,o,i,"data"),[r,e,g,o,i]),_=T.useMemo(()=>P0(r,e,g,o,i,"assets"),[r,e,g,o,i]),w=T.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let V=new Set,C=!1;if(e.forEach(L=>{var z;let K=o.routes[L.route.id];!K||!K.hasLoader||(!y.some(X=>X.route.id===L.route.id)&&L.route.id in f&&((z=c[L.route.id])!=null&&z.shouldRevalidate)||K.hasClientLoader?C=!0:V.add(L.route.id))}),V.size===0)return[];let k=tR(r,u,"data");return C&&V.size>0&&k.searchParams.set("_routes",e.filter(L=>V.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[u,f,i,o,y,e,r,c]),x=T.useMemo(()=>iR(_,o),[_,o]),I=hR(_);return T.createElement(T.Fragment,null,w.map(V=>T.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),x.map(V=>T.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),I.map(({key:V,link:C})=>T.createElement("link",{key:V,nonce:t.nonce,...C})))}function mR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.8.2")}catch{}function gR({basename:r,children:e,window:t}){let i=T.useRef();i.current==null&&(i.current=n1({window:t,v5Compat:!0}));let o=i.current,[c,u]=T.useState({action:o.action,location:o.location}),f=T.useCallback(g=>{T.startTransition(()=>u(g))},[u]);return T.useLayoutEffect(()=>o.listen(f),[o,f]),T.createElement(G1,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=T.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:c,replace:u,state:f,target:g,to:y,preventScrollReset:_,viewTransition:w,...x},I){let{basename:V}=T.useContext(ur),C=typeof y=="string"&&FE.test(y),k,L=!1;if(typeof y=="string"&&C&&(k=y,BE))try{let N=new URL(window.location.href),M=y.startsWith("//")?new URL(N.protocol+y):new URL(y),U=bs(M.pathname,V);M.origin===N.origin&&U!=null?y=U+M.search+M.hash:L=!0}catch{lr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=C1(y,{relative:o}),[z,X,Y]=uR(i,x),se=_R(y,{replace:u,state:f,target:g,preventScrollReset:_,relative:o,viewTransition:w});function D(N){e&&e(N),N.defaultPrevented||se(N)}let A=T.createElement("a",{...x,...Y,href:k||K,onClick:L||c?e:D,ref:mR(I,X),target:g,"data-discover":!C&&t==="render"?"true":void 0});return z&&!C?T.createElement(T.Fragment,null,A,T.createElement(dR,{page:K})):A});fi.displayName="Link";var pR=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:c,to:u,viewTransition:f,children:g,...y},_){let w=Cc(u,{relative:y.relative}),x=vi(),I=T.useContext(mh),{navigator:V,basename:C}=T.useContext(ur),k=I!=null&&TR(w)&&f===!0,L=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,K=x.pathname,z=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(K=K.toLowerCase(),z=z?z.toLowerCase():null,L=L.toLowerCase()),z&&C&&(z=bs(z,C)||z);const X=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let Y=K===L||!o&&K.startsWith(L)&&K.charAt(X)==="/",se=z!=null&&(z===L||!o&&z.startsWith(L)&&z.charAt(L.length)==="/"),D={isActive:Y,isPending:se,isTransitioning:k},A=Y?e:void 0,N;typeof i=="function"?N=i(D):N=[i,Y?"active":null,se?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(D):c;return T.createElement(fi,{...y,"aria-current":A,className:N,ref:_,style:M,to:u,viewTransition:f},typeof g=="function"?g(D):g)});pR.displayName="NavLink";var yR=T.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:c,method:u=Dd,action:f,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:w,...x},I)=>{let V=wR(),C=xR(f,{relative:y}),k=u.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&FE.test(f),K=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let X=z.nativeEvent.submitter,Y=(X==null?void 0:X.getAttribute("formmethod"))||u;V(X||z.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:o,state:c,relative:y,preventScrollReset:_,viewTransition:w})};return T.createElement("form",{ref:I,method:k,action:C,onSubmit:i?g:K,...x,"data-discover":!L&&r==="render"?"true":void 0})});yR.displayName="Form";function vR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(r){let e=T.useContext(Lo);return pt(e,vR(r)),e}function _R(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:c,viewTransition:u}={}){let f=Ur(),g=vi(),y=Cc(r,{relative:c});return T.useCallback(_=>{if(W1(_,e)){_.preventDefault();let w=t!==void 0?t:pc(g)===pc(y);f(r,{replace:w,state:i,preventScrollReset:o,relative:c,viewTransition:u})}},[g,f,y,t,i,e,r,o,c,u])}var bR=0,ER=()=>`__${String(++bR)}__`;function wR(){let{router:r}=qE("useSubmit"),{basename:e}=T.useContext(ur),t=z1();return T.useCallback(async(i,o={})=>{let{action:c,method:u,encType:f,formData:g,body:y}=eR(i,e);if(o.navigate===!1){let _=o.fetcherKey||ER();await r.fetch(_,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function xR(r,{relative:e}={}){let{basename:t}=T.useContext(ur),i=T.useContext(dr);pt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...Cc(r||".",{relative:e})},u=vi();if(r==null){c.search=u.search;let f=new URLSearchParams(c.search),g=f.getAll("index");if(g.some(_=>_==="")){f.delete("index"),g.filter(w=>w).forEach(w=>f.append("index",w));let _=f.toString();c.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:ys([t,c.pathname])),pc(c)}function TR(r,{relative:e}={}){let t=T.useContext(OE);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qE("useViewTransitionState"),o=Cc(r,{relative:e});if(!t.isTransitioning)return!1;let c=bs(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=bs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Kd(o.pathname,u)!=null||Kd(o.pathname,c)!=null}var HE=NE();const SR=AE(HE);function M0(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function GE(...r){return e=>{let t=!1;const i=r.map(o=>{const c=M0(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():M0(r[o],null)}}}}function Un(...r){return T.useCallback(GE(...r),r)}function yc(r){const e=AR(r),t=T.forwardRef((i,o)=>{const{children:c,...u}=i,f=T.Children.toArray(c),g=f.find(NR);if(g){const y=g.props.children,_=f.map(w=>w===g?T.Children.count(y)>1?T.Children.only(null):T.isValidElement(y)?y.props.children:null:w);return p.jsx(e,{...u,ref:o,children:T.isValidElement(y)?T.cloneElement(y,void 0,_):null})}return p.jsx(e,{...u,ref:o,children:c})});return t.displayName=`${r}.Slot`,t}var $E=yc("Slot");function AR(r){const e=T.forwardRef((t,i)=>{const{children:o,...c}=t;if(T.isValidElement(o)){const u=IR(o),f=CR(c,o.props);return o.type!==T.Fragment&&(f.ref=i?GE(i,u):u),T.cloneElement(o,f)}return T.Children.count(o)>1?T.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var RR=Symbol("radix.slottable");function NR(r){return T.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===RR}function CR(r,e){const t={...e};for(const i in e){const o=r[i],c=e[i];/^on[A-Z]/.test(i)?o&&c?t[i]=(...f)=>{const g=c(...f);return o(...f),g}:o&&(t[i]=o):i==="style"?t[i]={...o,...c}:i==="className"&&(t[i]=[o,c].filter(Boolean).join(" "))}return{...r,...t}}function IR(r){var i,o;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function KE(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=KE(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function YE(){for(var r,e,t=0,i="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=KE(r))&&(i&&(i+=" "),i+=e);return i}const j0=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,V0=YE,QE=(r,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return V0(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(y=>{const _=t==null?void 0:t[y],w=c==null?void 0:c[y];if(_===null)return null;const x=j0(_)||j0(w);return o[y][x]}),f=t&&Object.entries(t).reduce((y,_)=>{let[w,x]=_;return x===void 0||(y[w]=x),y},{}),g=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((y,_)=>{let{class:w,className:x,...I}=_;return Object.entries(I).every(V=>{let[C,k]=V;return Array.isArray(k)?k.includes({...c,...f}[C]):{...c,...f}[C]===k})?[...y,w,x]:y},[]);return V0(r,u,g,t==null?void 0:t.class,t==null?void 0:t.className)},ip="-",kR=r=>{const e=OR(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:u=>{const f=u.split(ip);return f[0]===""&&f.length!==1&&f.shift(),XE(f,e)||DR(u)},getConflictingClassGroupIds:(u,f)=>{const g=t[u]||[];return f&&i[u]?[...g,...i[u]]:g}}},XE=(r,e)=>{var u;if(r.length===0)return e.classGroupId;const t=r[0],i=e.nextPart.get(t),o=i?XE(r.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const c=r.join(ip);return(u=e.validators.find(({validator:f})=>f(c)))==null?void 0:u.classGroupId},L0=/^\[(.+)\]$/,DR=r=>{if(L0.test(r)){const e=L0.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},OR=r=>{const{theme:e,classGroups:t}=r,i={nextPart:new Map,validators:[]};for(const o in t)vg(t[o],i,o,e);return i},vg=(r,e,t,i)=>{r.forEach(o=>{if(typeof o=="string"){const c=o===""?e:U0(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(PR(o)){vg(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,u])=>{vg(u,U0(e,c),t,i)})})},U0=(r,e)=>{let t=r;return e.split(ip).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},PR=r=>r.isThemeGetter,MR=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(c,u)=>{t.set(c,u),e++,e>r&&(e=0,i=t,t=new Map)};return{get(c){let u=t.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return o(c,u),u},set(c,u){t.has(c)?t.set(c,u):o(c,u)}}},_g="!",bg=":",jR=bg.length,VR=r=>{const{prefix:e,experimentalParseClassName:t}=r;let i=o=>{const c=[];let u=0,f=0,g=0,y;for(let V=0;V<o.length;V++){let C=o[V];if(u===0&&f===0){if(C===bg){c.push(o.slice(g,V)),g=V+jR;continue}if(C==="/"){y=V;continue}}C==="["?u++:C==="]"?u--:C==="("?f++:C===")"&&f--}const _=c.length===0?o:o.substring(g),w=LR(_),x=w!==_,I=y&&y>g?y-g:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:I}};if(e){const o=e+bg,c=i;i=u=>u.startsWith(o)?c(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=i;i=c=>t({className:c,parseClassName:o})}return i},LR=r=>r.endsWith(_g)?r.substring(0,r.length-1):r.startsWith(_g)?r.substring(1):r,UR=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let c=[];return i.forEach(u=>{u[0]==="["||e[u]?(o.push(...c.sort(),u),c=[]):c.push(u)}),o.push(...c.sort()),o}},zR=r=>({cache:MR(r.cacheSize),parseClassName:VR(r),sortModifiers:UR(r),...kR(r)}),BR=/\s+/,FR=(r,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],f=r.trim().split(BR);let g="";for(let y=f.length-1;y>=0;y-=1){const _=f[y],{isExternal:w,modifiers:x,hasImportantModifier:I,baseClassName:V,maybePostfixModifierPosition:C}=t(_);if(w){g=_+(g.length>0?" "+g:g);continue}let k=!!C,L=i(k?V.substring(0,C):V);if(!L){if(!k){g=_+(g.length>0?" "+g:g);continue}if(L=i(V),!L){g=_+(g.length>0?" "+g:g);continue}k=!1}const K=c(x).join(":"),z=I?K+_g:K,X=z+L;if(u.includes(X))continue;u.push(X);const Y=o(L,k);for(let se=0;se<Y.length;++se){const D=Y[se];u.push(z+D)}g=_+(g.length>0?" "+g:g)}return g};function qR(){let r=0,e,t,i="";for(;r<arguments.length;)(e=arguments[r++])&&(t=WE(e))&&(i&&(i+=" "),i+=t);return i}const WE=r=>{if(typeof r=="string")return r;let e,t="";for(let i=0;i<r.length;i++)r[i]&&(e=WE(r[i]))&&(t&&(t+=" "),t+=e);return t};function HR(r,...e){let t,i,o,c=u;function u(g){const y=e.reduce((_,w)=>w(_),r());return t=zR(y),i=t.cache.get,o=t.cache.set,c=f,f(g)}function f(g){const y=i(g);if(y)return y;const _=FR(g,t);return o(g,_),_}return function(){return c(qR.apply(null,arguments))}}const Lt=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},ZE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,JE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GR=/^\d+\/\d+$/,$R=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,QR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ho=r=>GR.test(r),Pe=r=>!!r&&!Number.isNaN(Number(r)),ei=r=>!!r&&Number.isInteger(Number(r)),Ym=r=>r.endsWith("%")&&Pe(r.slice(0,-1)),ds=r=>$R.test(r),WR=()=>!0,ZR=r=>KR.test(r)&&!YR.test(r),ew=()=>!1,JR=r=>QR.test(r),eN=r=>XR.test(r),tN=r=>!ge(r)&&!pe(r),nN=r=>zo(r,rw,ew),ge=r=>ZE.test(r),na=r=>zo(r,sw,ZR),Qm=r=>zo(r,oN,Pe),z0=r=>zo(r,tw,ew),rN=r=>zo(r,nw,eN),bd=r=>zo(r,iw,JR),pe=r=>JE.test(r),ic=r=>Bo(r,sw),sN=r=>Bo(r,lN),B0=r=>Bo(r,tw),iN=r=>Bo(r,rw),aN=r=>Bo(r,nw),Ed=r=>Bo(r,iw,!0),zo=(r,e,t)=>{const i=ZE.exec(r);return i?i[1]?e(i[1]):t(i[2]):!1},Bo=(r,e,t=!1)=>{const i=JE.exec(r);return i?i[1]?e(i[1]):t:!1},tw=r=>r==="position"||r==="percentage",nw=r=>r==="image"||r==="url",rw=r=>r==="length"||r==="size"||r==="bg-size",sw=r=>r==="length",oN=r=>r==="number",lN=r=>r==="family-name",iw=r=>r==="shadow",cN=()=>{const r=Lt("color"),e=Lt("font"),t=Lt("text"),i=Lt("font-weight"),o=Lt("tracking"),c=Lt("leading"),u=Lt("breakpoint"),f=Lt("container"),g=Lt("spacing"),y=Lt("radius"),_=Lt("shadow"),w=Lt("inset-shadow"),x=Lt("text-shadow"),I=Lt("drop-shadow"),V=Lt("blur"),C=Lt("perspective"),k=Lt("aspect"),L=Lt("ease"),K=Lt("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Y=()=>[...X(),pe,ge],se=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],A=()=>[pe,ge,g],N=()=>[ho,"full","auto",...A()],M=()=>[ei,"none","subgrid",pe,ge],U=()=>["auto",{span:["full",ei,pe,ge]},ei,pe,ge],F=()=>[ei,"auto",pe,ge],P=()=>["auto","min","max","fr",pe,ge],Je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ge=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...A()],ie=()=>[ho,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],te=()=>[r,pe,ge],ve=()=>[...X(),B0,z0,{position:[pe,ge]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",iN,nN,{size:[pe,ge]}],ue=()=>[Ym,ic,na],re=()=>["","none","full",y,pe,ge],he=()=>["",Pe,ic,na],xe=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>[Pe,Ym,B0,z0],et=()=>["","none",V,pe,ge],mn=()=>["none",Pe,pe,ge],An=()=>["none",Pe,pe,ge],Rn=()=>[Pe,pe,ge],zn=()=>[ho,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ds],breakpoint:[ds],color:[WR],container:[ds],"drop-shadow":[ds],ease:["in","out","in-out"],font:[tN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ds],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ds],shadow:[ds],spacing:["px",Pe],text:[ds],"text-shadow":[ds],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ho,ge,pe,k]}],container:["container"],columns:[{columns:[Pe,ge,pe,f]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Y()}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[ei,"auto",pe,ge]}],basis:[{basis:[ho,"full","auto",f,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,ho,"auto","initial","none",ge]}],grow:[{grow:["",Pe,pe,ge]}],shrink:[{shrink:["",Pe,pe,ge]}],order:[{order:[ei,"first","last","none",pe,ge]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Je(),"normal"]}],"justify-items":[{"justify-items":[...Ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ge()]}],"align-content":[{content:["normal",...Je()]}],"align-items":[{items:[...Ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":Je()}],"place-items":[{"place-items":[...Ge(),"baseline"]}],"place-self":[{"place-self":["auto",...Ge()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[f,"screen",...ie()]}],"min-w":[{"min-w":[f,"screen","none",...ie()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",t,ic,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,pe,Qm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ym,ge]}],"font-family":[{font:[sN,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,pe,ge]}],"line-clamp":[{"line-clamp":[Pe,"none",pe,Qm]}],leading:[{leading:[c,...A()]}],"list-image":[{"list-image":["none",pe,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",pe,na]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Pe,"auto",pe,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ei,pe,ge],radial:["",pe,ge],conic:[ei,pe,ge]},aN,rN]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,pe,ge]}],"outline-w":[{outline:["",Pe,ic,na]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",_,Ed,bd]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",w,Ed,bd]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Pe,na]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",x,Ed,bd]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Pe,pe,ge]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":De()}],"mask-image-linear-to-pos":[{"mask-linear-to":De()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":De()}],"mask-image-t-to-pos":[{"mask-t-to":De()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":De()}],"mask-image-r-to-pos":[{"mask-r-to":De()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":De()}],"mask-image-b-to-pos":[{"mask-b-to":De()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":De()}],"mask-image-l-to-pos":[{"mask-l-to":De()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":De()}],"mask-image-x-to-pos":[{"mask-x-to":De()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":De()}],"mask-image-y-to-pos":[{"mask-y-to":De()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[pe,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":De()}],"mask-image-radial-to-pos":[{"mask-radial-to":De()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":X()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":De()}],"mask-image-conic-to-pos":[{"mask-conic-to":De()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,ge]}],filter:[{filter:["","none",pe,ge]}],blur:[{blur:et()}],brightness:[{brightness:[Pe,pe,ge]}],contrast:[{contrast:[Pe,pe,ge]}],"drop-shadow":[{"drop-shadow":["","none",I,Ed,bd]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Pe,pe,ge]}],"hue-rotate":[{"hue-rotate":[Pe,pe,ge]}],invert:[{invert:["",Pe,pe,ge]}],saturate:[{saturate:[Pe,pe,ge]}],sepia:[{sepia:["",Pe,pe,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,ge]}],"backdrop-blur":[{"backdrop-blur":et()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,pe,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,pe,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,pe,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,pe,ge]}],"backdrop-invert":[{"backdrop-invert":["",Pe,pe,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,pe,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,pe,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,pe,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",pe,ge]}],ease:[{ease:["linear","initial",L,pe,ge]}],delay:[{delay:[Pe,pe,ge]}],animate:[{animate:["none",K,pe,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,pe,ge]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:mn()}],"rotate-x":[{"rotate-x":mn()}],"rotate-y":[{"rotate-y":mn()}],"rotate-z":[{"rotate-z":mn()}],scale:[{scale:An()}],"scale-x":[{"scale-x":An()}],"scale-y":[{"scale-y":An()}],"scale-z":[{"scale-z":An()}],"scale-3d":["scale-3d"],skew:[{skew:Rn()}],"skew-x":[{"skew-x":Rn()}],"skew-y":[{"skew-y":Rn()}],transform:[{transform:[pe,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:zn()}],"translate-x":[{"translate-x":zn()}],"translate-y":[{"translate-y":zn()}],"translate-z":[{"translate-z":zn()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,ge]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Pe,ic,na,Qm]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uN=HR(cN);var F0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},dN=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],u=r[t++],f=r[t++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=r[t++],u=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,f=u?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,_=c>>2,w=(c&3)<<4|f>>4;let x=(f&15)<<2|y>>6,I=y&63;g||(I=64,u||(x=64)),i.push(t[_],t[w],t[x],t[I])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(aw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):dN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||f==null||y==null||w==null)throw new hN;const x=c<<2|f>>4;if(i.push(x),y!==64){const I=f<<4&240|y>>2;if(i.push(I),w!==64){const V=y<<6&192|w;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fN=function(r){const e=aw(r);return ow.encodeByteArray(e,!0)},Yd=function(r){return fN(r).replace(/\./g,"")},lw=function(r){try{return ow.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=()=>mN().__FIREBASE_DEFAULTS__,pN=()=>{if(typeof process>"u"||typeof F0>"u")return;const r=F0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},yN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lw(r[1]);return e&&JSON.parse(e)},ph=()=>{try{return gN()||pN()||yN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cw=r=>{var e,t;return(t=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},vN=r=>{const e=cw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},uw=()=>{var r;return(r=ph())===null||r===void 0?void 0:r.config},dw=r=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Yd(JSON.stringify(t)),Yd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function wN(){var r;const e=(r=ph())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AN(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RN(){return!wN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function CN(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="FirebaseError";class Ss extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=IN,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?kN(c,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Ss(o,f,i)}}function kN(r,e){return r.replace(DN,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const DN=/\{\$([^}]+)}/g;function ON(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qd(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const c=r[o],u=e[o];if(q0(c)&&q0(u)){if(!Qd(c,u))return!1}else if(c!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function q0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function PN(r,e){const t=new MN(r,e);return t.subscribe.bind(t)}class MN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");jN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jN(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(r){return r&&r._delegate?r._delegate:r}class ca{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new _N;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UN(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);i===f&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),c=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(o,c);const u=this.instances.get(o);return u&&e(u,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LN(r){return r===sa?void 0:r}function UN(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const BN={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},FN=ze.INFO,qN={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},HN=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=qN[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ap{constructor(e){this.name=e,this._logLevel=FN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const GN=(r,e)=>e.some(t=>r instanceof t);let H0,G0;function $N(){return H0||(H0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KN(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hw=new WeakMap,Eg=new WeakMap,fw=new WeakMap,Wm=new WeakMap,op=new WeakMap;function YN(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{t(ci(r.result)),o()},u=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&hw.set(t,r)}).catch(()=>{}),op.set(e,r),e}function QN(r){if(Eg.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});Eg.set(r,e)}let wg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Eg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||fw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ci(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function XN(r){wg=r(wg)}function WN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Zm(this),e,...t);return fw.set(i,e.sort?e.sort():[e]),ci(i)}:KN().includes(r)?function(...e){return r.apply(Zm(this),e),ci(hw.get(this))}:function(...e){return ci(r.apply(Zm(this),e))}}function ZN(r){return typeof r=="function"?WN(r):(r instanceof IDBTransaction&&QN(r),GN(r,$N())?new Proxy(r,wg):r)}function ci(r){if(r instanceof IDBRequest)return YN(r);if(Wm.has(r))return Wm.get(r);const e=ZN(r);return e!==r&&(Wm.set(r,e),op.set(e,r)),e}const Zm=r=>op.get(r);function JN(r,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),f=ci(u);return i&&u.addEventListener("upgradeneeded",g=>{i(ci(u.result),g.oldVersion,g.newVersion,ci(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const eC=["get","getKey","getAll","getAllKeys","count"],tC=["put","add","delete","clear"],Jm=new Map;function $0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=tC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||eC.includes(t)))return;const c=async function(u,...f){const g=this.transaction(u,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&g.done]))[0]};return Jm.set(e,c),c}XN(r=>({...r,get:(e,t,i)=>$0(e,t)||r.get(e,t,i),has:(e,t)=>!!$0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function rC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xg="@firebase/app",K0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new ap("@firebase/app"),sC="@firebase/app-compat",iC="@firebase/analytics-compat",aC="@firebase/analytics",oC="@firebase/app-check-compat",lC="@firebase/app-check",cC="@firebase/auth",uC="@firebase/auth-compat",dC="@firebase/database",hC="@firebase/data-connect",fC="@firebase/database-compat",mC="@firebase/functions",gC="@firebase/functions-compat",pC="@firebase/installations",yC="@firebase/installations-compat",vC="@firebase/messaging",_C="@firebase/messaging-compat",bC="@firebase/performance",EC="@firebase/performance-compat",wC="@firebase/remote-config",xC="@firebase/remote-config-compat",TC="@firebase/storage",SC="@firebase/storage-compat",AC="@firebase/firestore",RC="@firebase/vertexai-preview",NC="@firebase/firestore-compat",CC="firebase",IC="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",kC={[xg]:"fire-core",[sC]:"fire-core-compat",[aC]:"fire-analytics",[iC]:"fire-analytics-compat",[lC]:"fire-app-check",[oC]:"fire-app-check-compat",[cC]:"fire-auth",[uC]:"fire-auth-compat",[dC]:"fire-rtdb",[hC]:"fire-data-connect",[fC]:"fire-rtdb-compat",[mC]:"fire-fn",[gC]:"fire-fn-compat",[pC]:"fire-iid",[yC]:"fire-iid-compat",[vC]:"fire-fcm",[_C]:"fire-fcm-compat",[bC]:"fire-perf",[EC]:"fire-perf-compat",[wC]:"fire-rc",[xC]:"fire-rc-compat",[TC]:"fire-gcs",[SC]:"fire-gcs-compat",[AC]:"fire-fst",[NC]:"fire-fst-compat",[RC]:"fire-vertex","fire-js":"fire-js",[CC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,DC=new Map,Sg=new Map;function Y0(r,e){try{r.container.addComponent(e)}catch(t){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function So(r){const e=r.name;if(Sg.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,r);for(const t of Xd.values())Y0(t,r);for(const t of DC.values())Y0(t,r);return!0}function lp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function fs(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Ic("app","Firebase",OC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=IC;function mw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Tg,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ui.create("bad-app-name",{appName:String(o)});if(t||(t=uw()),!t)throw ui.create("no-options");const c=Xd.get(o);if(c){if(Qd(t,c.options)&&Qd(i,c.config))return c;throw ui.create("duplicate-app",{appName:o})}const u=new zN(o);for(const g of Sg.values())u.addComponent(g);const f=new PC(t,i,u);return Xd.set(o,f),f}function gw(r=Tg){const e=Xd.get(r);if(!e&&r===Tg&&uw())return mw();if(!e)throw ui.create("no-app",{appName:r});return e}function di(r,e,t){var i;let o=(i=kC[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const c=o.match(/\s|\//),u=e.match(/\s|\//);if(c||u){const f=[`Unable to register library "${o}" with version "${e}":`];c&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(f.join(" "));return}So(new ca(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="firebase-heartbeat-database",jC=1,vc="firebase-heartbeat-store";let eg=null;function pw(){return eg||(eg=JN(MC,jC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(vc)}catch(t){console.warn(t)}}}}).catch(r=>{throw ui.create("idb-open",{originalErrorMessage:r.message})})),eg}async function VC(r){try{const t=(await pw()).transaction(vc),i=await t.objectStore(vc).get(yw(r));return await t.done,i}catch(e){if(e instanceof Ss)Es.warn(e.message);else{const t=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(t.message)}}}async function Q0(r,e){try{const i=(await pw()).transaction(vc,"readwrite");await i.objectStore(vc).put(e,yw(r)),await i.done}catch(t){if(t instanceof Ss)Es.warn(t.message);else{const i=ui.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Es.warn(i.message)}}}function yw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1024,UC=720*60*60*1e3;class zC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=X0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=UC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Es.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X0(),{heartbeatsToSend:i,unsentEntries:o}=BC(this._heartbeatsCache.heartbeats),c=Yd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Es.warn(t),""}}}function X0(){return new Date().toISOString().substring(0,10)}function BC(r,e=LC){const t=[];let i=r.slice();for(const o of r){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),W0(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),W0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class FC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?CN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await VC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W0(r){return Yd(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){So(new ca("platform-logger",e=>new nC(e),"PRIVATE")),So(new ca("heartbeat",e=>new zC(e),"PRIVATE")),di(xg,K0,r),di(xg,K0,"esm2017"),di("fire-js","")}qC("");var HC="firebase",GC="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(HC,GC,"app");var Ir=function(){return Ir=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Ir.apply(this,arguments)};function Dc(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function $C(r,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,c;i<o;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return r.concat(c||Array.prototype.slice.call(e))}function vw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KC=vw,_w=new Ic("auth","Firebase",vw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new ap("@firebase/auth");function YC(r,...e){Wd.logLevel<=ze.WARN&&Wd.warn(`Auth (${Fo}): ${r}`,...e)}function Pd(r,...e){Wd.logLevel<=ze.ERROR&&Wd.error(`Auth (${Fo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(r,...e){throw up(r,...e)}function ar(r,...e){return up(r,...e)}function cp(r,e,t){const i=Object.assign(Object.assign({},KC()),{[e]:t});return new Ic("auth","Firebase",i).create(e,{appName:r.name})}function oa(r){return cp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QC(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&jr(r,"argument-error"),cp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function up(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return _w.create(r,...e)}function Ae(r,e,...t){if(!r)throw up(e,...t)}function ms(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Pd(e),new Error(e)}function ws(r,e){r||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function XC(){return Z0()==="http:"||Z0()==="https:"}function Z0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XC()||TN()||"connection"in navigator)?navigator.onLine:!0}function ZC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ws(t>e,"Short delay should be less than long delay!"),this.isMobile=EN()||SN()}get(){return WC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r,e){ws(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Oc(3e4,6e4);function hp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function qo(r,e,t,i,o={}){return Ew(r,o,async()=>{let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});const f=kc(Object.assign({key:r.config.apiKey},u)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},c);return xN()||(y.referrerPolicy="no-referrer"),bw.fetch()(ww(r,r.config.apiHost,t,f),y)})}async function Ew(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},JC),e);try{const o=new n2(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw wd(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const f=c.ok?u.errorMessage:u.error.message,[g,y]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(r,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw wd(r,"email-already-in-use",u);if(g==="USER_DISABLED")throw wd(r,"user-disabled",u);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw cp(r,_,y);jr(r,_)}}catch(o){if(o instanceof Ss)throw o;jr(r,"network-request-failed",{message:String(o)})}}async function t2(r,e,t,i,o={}){const c=await qo(r,e,t,i,o);return"mfaPendingCredential"in c&&jr(r,"multi-factor-auth-required",{_serverResponse:c}),c}function ww(r,e,t,i){const o=`${e}${t}?${i}`;return r.config.emulator?dp(r.config,o):`${r.config.apiScheme}://${o}`}class n2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ar(this.auth,"network-request-failed")),e2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wd(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ar(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(r,e){return qo(r,"POST","/v1/accounts:delete",e)}async function xw(r,e){return qo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s2(r,e=!1){const t=$t(r),i=await t.getIdToken(e),o=fp(i);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:dc(tg(o.auth_time)),issuedAtTime:dc(tg(o.iat)),expirationTime:dc(tg(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function tg(r){return Number(r)*1e3}function fp(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{const o=lw(t);return o?JSON.parse(o):(Pd("Failed to decode base64 JWT payload"),null)}catch(o){return Pd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function J0(r){const e=fp(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ss&&i2(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function i2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(r){var e;const t=r.auth,i=await r.getIdToken(),o=await _c(r,xw(t,{idToken:i}));Ae(o==null?void 0:o.users.length,t,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const u=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?Tw(c.providerUserInfo):[],f=l2(r.providerData,u),g=r.isAnonymous,y=!(r.email&&c.passwordHash)&&!(f!=null&&f.length),_=g?y:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new Rg(c.createdAt,c.lastLoginAt),isAnonymous:_};Object.assign(r,w)}async function o2(r){const e=$t(r);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l2(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Tw(r){return r.map(e=>{var{providerId:t}=e,i=Dc(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(r,e){const t=await Ew(r,{},async()=>{const i=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=ww(r,o,"/v1/token",`key=${c}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",bw.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function u2(r,e){return qo(r,"POST","/v2/accounts:revokeToken",hp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=J0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:c}=await c2(e,t);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:c}=t,u=new bo;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ae(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gs{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,c=Dc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Rg(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await _c(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return s2(this,e)}reload(){return o2(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Zd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await _c(this,r2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,c,u,f,g,y,_;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,I=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,V=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(f=t.tenantId)!==null&&f!==void 0?f:void 0,k=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,L=(y=t.createdAt)!==null&&y!==void 0?y:void 0,K=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:z,emailVerified:X,isAnonymous:Y,providerData:se,stsTokenManager:D}=t;Ae(z&&D,e,"internal-error");const A=bo.fromJSON(this.name,D);Ae(typeof z=="string",e,"internal-error"),ti(w,e.name),ti(x,e.name),Ae(typeof X=="boolean",e,"internal-error"),Ae(typeof Y=="boolean",e,"internal-error"),ti(I,e.name),ti(V,e.name),ti(C,e.name),ti(k,e.name),ti(L,e.name),ti(K,e.name);const N=new gs({uid:z,auth:e,email:x,emailVerified:X,displayName:w,isAnonymous:Y,photoURL:V,phoneNumber:I,tenantId:C,stsTokenManager:A,createdAt:L,lastLoginAt:K});return se&&Array.isArray(se)&&(N.providerData=se.map(M=>Object.assign({},M))),k&&(N._redirectEventId=k),N}static async _fromIdTokenResponse(e,t,i=!1){const o=new bo;o.updateFromServerResponse(t);const c=new gs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Zd(c),c}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Tw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),f=new bo;f.updateFromIdToken(i);const g=new gs({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Rg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;function ps(r){ws(r instanceof Function,"Expected a class definition");let e=eb.get(r);return e?(ws(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,eb.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Sw.type="NONE";const tb=Sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(r,e,t){return`firebase:${r}:${e}:${t}`}class Eo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Md(this.userKey,o.apiKey,c),this.fullPersistenceKey=Md("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Eo(ps(tb),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ps(tb);const u=Md(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(u);if(_){const w=gs._fromJSON(e,_);y!==c&&(f=w),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Eo(c,e,i):(c=g[0],f&&await c._set(u,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new Eo(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Aw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kw(e))return"Blackberry";if(Dw(e))return"Webos";if(Rw(e))return"Safari";if((e.includes("chrome/")||Nw(e))&&!e.includes("edge/"))return"Chrome";if(Iw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Aw(r=hn()){return/firefox\//i.test(r)}function Rw(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nw(r=hn()){return/crios\//i.test(r)}function Cw(r=hn()){return/iemobile/i.test(r)}function Iw(r=hn()){return/android/i.test(r)}function kw(r=hn()){return/blackberry/i.test(r)}function Dw(r=hn()){return/webos/i.test(r)}function mp(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function d2(r=hn()){var e;return mp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h2(){return AN()&&document.documentMode===10}function Ow(r=hn()){return mp(r)||Iw(r)||Dw(r)||kw(r)||/windows phone/i.test(r)||Cw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r,e=[]){let t;switch(r){case"Browser":t=nb(hn());break;case"Worker":t=`${nb(hn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((u,f)=>{try{const g=e(c);u(g)}catch(g){f(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(r,e={}){return qo(r,"GET","/v2/passwordPolicy",hp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=6;class p2{constructor(e){var t,i,o,c;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:g2,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,c,u,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(u=g.containsNumericCharacter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rb(this),this.idTokenSubscription=new rb(this),this.beforeStateQueue=new f2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ps(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xw(this,{idToken:e}),i=await gs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===f)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(oa(this));const t=e?$t(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m2(this),t=new p2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await u2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ps(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&YC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function yh(r){return $t(r)}class rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=PN(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v2(r){gp=r}function _2(r){return gp.loadJS(r)}function b2(){return gp.gapiScript}function E2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r,e){const t=lp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Qd(c,e??{}))return o;jr(o,"already-initialized")}return t.initialize({options:e})}function x2(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ps);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function T2(r,e,t){const i=yh(r);Ae(i._canInitEmulator,i,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=Mw(e),{host:u,port:f}=S2(e),g=f===null?"":`:${f}`;i.config.emulator={url:`${c}//${u}${g}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),A2()}function Mw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function S2(r){const e=Mw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:sb(i.substr(c.length+1))}}else{const[c,u]=i.split(":");return{host:c,port:sb(u)}}}function sb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function A2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,e){return t2(r,"POST","/v1/accounts:signInWithIdp",hp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="http://localhost";class ua extends jw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,c=Dc(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new ua(i,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,wo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:R2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Pc{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com";si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ua._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return kr.credential(t,i)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Pc{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.GITHUB_SIGN_IN_METHOD="github.com";ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Pc{constructor(){super("twitter.com")}static credential(e,t){return ua._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ai.credential(t,i)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const c=await gs._fromIdTokenResponse(e,i,o),u=ib(i);return new Ao({user:c,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=ib(i);return new Ao({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function ib(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends Ss{constructor(e,t,i,o){var c;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Jd.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Jd(e,t,i,o)}}function Vw(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jd._fromErrorAndOperation(r,c,e,i):c})}async function N2(r,e,t=!1){const i=await _c(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ao._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,e,t=!1){const{auth:i}=r;if(fs(i.app))return Promise.reject(oa(i));const o="reauthenticate";try{const c=await _c(r,Vw(i,o,e,r),t);Ae(c.idToken,i,"internal-error");const u=fp(c.idToken);Ae(u,i,"internal-error");const{sub:f}=u;return Ae(r.uid===f,i,"user-mismatch"),Ao._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&jr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r,e,t=!1){if(fs(r.app))return Promise.reject(oa(r));const i="signIn",o=await Vw(r,i,e),c=await Ao._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(c.user),c}function k2(r,e,t,i){return $t(r).onIdTokenChanged(e,t,i)}function D2(r,e,t){return $t(r).beforeAuthStateChanged(e,t)}function Lw(r,e,t,i){return $t(r).onAuthStateChanged(e,t,i)}function O2(r){return $t(r).signOut()}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=1e3,M2=10;class zw extends Uw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ow(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,g)=>{this.notifyListeners(u,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},c=this.storage.getItem(i);h2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,M2):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zw.type="LOCAL";const j2=zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Uw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Bw.type="SESSION";const Fw=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new vh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(u).map(async y=>y(t.origin,c)),g=await V2(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((f,g)=>{const y=yp("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(x.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function U2(r){Dr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function z2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function F2(){return qw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firebaseLocalStorageDb",q2=1,th="firebaseLocalStorage",Gw="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _h(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function H2(){const r=indexedDB.deleteDatabase(Hw);return new Mc(r).toPromise()}function Ng(){const r=indexedDB.open(Hw,q2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(th,{keyPath:Gw})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(th)?e(i):(i.close(),await H2(),e(await Ng()))})})}async function ab(r,e,t){const i=_h(r,!0).put({[Gw]:e,value:t});return new Mc(i).toPromise()}async function G2(r,e){const t=_h(r,!1).get(e),i=await new Mc(t).toPromise();return i===void 0?null:i.value}function ob(r,e){const t=_h(r,!0).delete(e);return new Mc(t).toPromise()}const $2=800,K2=3;class $w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>K2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(F2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await z2(),!this.activeServiceWorker)return;this.sender=new L2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await ab(e,eh,"1"),await ob(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ab(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>G2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ob(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=_h(o,!1).getAll();return new Mc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$w.type="LOCAL";const Y2=$w;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r,e){return e?ps(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends jw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Q2(r){return I2(r.auth,new vp(r),r.bypassAuthState)}function X2(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),C2(t,new vp(r),r.bypassAuthState)}async function W2(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),N2(t,new vp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:c,error:u,type:f}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q2;case"linkViaPopup":case"linkViaRedirect":return W2;case"reauthViaPopup":case"reauthViaRedirect":return X2;default:jr(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Oc(2e3,1e4);async function J2(r,e,t){if(fs(r.app))return Promise.reject(ar(r,"operation-not-supported-in-this-environment"));const i=yh(r);QC(r,e,pp);const o=Kw(i,t);return new ia(i,"signInViaPopup",e,o).executeNotNull()}class ia extends Yw{constructor(e,t,i,o,c){super(e,t,o,c),this.provider=i,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z2.get())};e()}}ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="pendingRedirect",jd=new Map;class tI extends Yw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const i=await nI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nI(r,e){const t=iI(e),i=sI(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function rI(r,e){jd.set(r._key(),e)}function sI(r){return ps(r._redirectPersistence)}function iI(r){return Md(eI,r.config.apiKey,r.name)}async function aI(r,e,t=!1){if(fs(r.app))return Promise.reject(oa(r));const i=yh(r),o=Kw(i,e),u=await new tI(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=600*1e3;class lI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Qw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ar(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oI&&this.cachedEventUids.clear(),this.cachedEventUids.has(lb(e))}saveEventToCache(e){this.cachedEventUids.add(lb(e)),this.lastProcessedEventTime=Date.now()}}function lb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Qw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,e={}){return qo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hI=/^https?/;async function fI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await uI(r);for(const t of e)try{if(mI(t))return}catch{}jr(r,"unauthorized-domain")}function mI(r){const e=Ag(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!hI.test(t))return!1;if(dI.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new Oc(3e4,6e4);function cb(){const r=Dr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function pI(r){return new Promise((e,t)=>{var i,o,c;function u(){cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cb(),t(ar(r,"network-request-failed"))},timeout:gI.get()})}if(!((o=(i=Dr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=Dr().gapi)===null||c===void 0)&&c.load)u();else{const f=E2("iframefcb");return Dr()[f]=()=>{gapi.load?u():t(ar(r,"network-request-failed"))},_2(`${b2()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Vd=null,e})}let Vd=null;function yI(r){return Vd=Vd||pI(r),Vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Oc(5e3,15e3),_I="__/auth/iframe",bI="emulator/auth/iframe",EI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xI(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?dp(e,bI):`https://${r.config.authDomain}/${_I}`,i={apiKey:e.apiKey,appName:r.name,v:Fo},o=wI.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${kc(i).slice(1)}`}async function TI(r){const e=await yI(r),t=Dr().gapi;return Ae(t,r,"internal-error"),e.open({where:document.body,url:xI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EI,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const u=ar(r,"network-request-failed"),f=Dr().setTimeout(()=>{c(u)},vI.get());function g(){Dr().clearTimeout(f),o(i)}i.ping(g).then(g,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AI=500,RI=600,NI="_blank",CI="http://localhost";class ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function II(r,e,t,i=AI,o=RI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const g=Object.assign(Object.assign({},SI),{width:i.toString(),height:o.toString(),top:c,left:u}),y=hn().toLowerCase();t&&(f=Nw(y)?NI:t),Aw(y)&&(e=e||CI,g.scrollbars="yes");const _=Object.entries(g).reduce((x,[I,V])=>`${x}${I}=${V},`,"");if(d2(y)&&f!=="_self")return kI(e||"",f),new ub(null);const w=window.open(e||"",f,_);Ae(w,r,"popup-blocked");try{w.focus()}catch{}return new ub(w)}function kI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="__/auth/handler",OI="emulator/auth/handler",PI=encodeURIComponent("fac");async function db(r,e,t,i,o,c){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Fo,eventId:o};if(e instanceof pp){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",ON(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof Pc){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}r.tenantId&&(u.tid=r.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const g=await r._getAppCheckToken(),y=g?`#${PI}=${encodeURIComponent(g)}`:"";return`${MI(r)}?${kc(f).slice(1)}${y}`}function MI({config:r}){return r.emulator?dp(r,OI):`https://${r.authDomain}/${DI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class jI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fw,this._completeRedirectFn=aI,this._overrideRedirectResult=rI}async _openPopup(e,t,i,o){var c;ws((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await db(e,t,i,Ag(),o);return II(e,u,yp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const c=await db(e,t,i,Ag(),o);return U2(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(ws(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await TI(e),i=new lI(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ng,{type:ng},o=>{var c;const u=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[ng];u!==void 0&&t(!!u),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ow()||Rw()||mp()}}const VI=jI;var hb="@firebase/auth",fb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zI(r){So(new ca("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:u,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pw(r)},y=new y2(i,o,c,g);return x2(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),So(new ca("auth-internal",e=>{const t=yh(e.getProvider("auth").getImmediate());return(i=>new LI(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(hb,fb,UI(r)),di(hb,fb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=300,FI=dw("authIdTokenMaxAge")||BI;let mb=null;const qI=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>FI)return;const o=t==null?void 0:t.token;mb!==o&&(mb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HI(r=gw()){const e=lp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=w2(r,{popupRedirectResolver:VI,persistence:[Y2,j2,Fw]}),i=dw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const u=qI(c.toString());D2(t,u,()=>u(t.currentUser)),k2(t,f=>u(f))}}const o=cw("auth");return o&&T2(t,`http://${o}`),t}function GI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}v2({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=ar("internal-error");c.customData=o,t(c)},i.type="text/javascript",i.charset="UTF-8",GI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zI("Browser");var gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,Xw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function N(){}N.prototype=A.prototype,D.D=A.prototype,D.prototype=new N,D.prototype.constructor=D,D.C=function(M,U,F){for(var P=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)P[Je-2]=arguments[Je];return A.prototype[U].apply(M,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,N){N||(N=0);var M=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)M[U]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(U=0;16>U;++U)M[U]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=D.g[0],N=D.g[1],U=D.g[2];var F=D.g[3],P=A+(F^N&(U^F))+M[0]+3614090360&4294967295;A=N+(P<<7&4294967295|P>>>25),P=F+(U^A&(N^U))+M[1]+3905402710&4294967295,F=A+(P<<12&4294967295|P>>>20),P=U+(N^F&(A^N))+M[2]+606105819&4294967295,U=F+(P<<17&4294967295|P>>>15),P=N+(A^U&(F^A))+M[3]+3250441966&4294967295,N=U+(P<<22&4294967295|P>>>10),P=A+(F^N&(U^F))+M[4]+4118548399&4294967295,A=N+(P<<7&4294967295|P>>>25),P=F+(U^A&(N^U))+M[5]+1200080426&4294967295,F=A+(P<<12&4294967295|P>>>20),P=U+(N^F&(A^N))+M[6]+2821735955&4294967295,U=F+(P<<17&4294967295|P>>>15),P=N+(A^U&(F^A))+M[7]+4249261313&4294967295,N=U+(P<<22&4294967295|P>>>10),P=A+(F^N&(U^F))+M[8]+1770035416&4294967295,A=N+(P<<7&4294967295|P>>>25),P=F+(U^A&(N^U))+M[9]+2336552879&4294967295,F=A+(P<<12&4294967295|P>>>20),P=U+(N^F&(A^N))+M[10]+4294925233&4294967295,U=F+(P<<17&4294967295|P>>>15),P=N+(A^U&(F^A))+M[11]+2304563134&4294967295,N=U+(P<<22&4294967295|P>>>10),P=A+(F^N&(U^F))+M[12]+1804603682&4294967295,A=N+(P<<7&4294967295|P>>>25),P=F+(U^A&(N^U))+M[13]+4254626195&4294967295,F=A+(P<<12&4294967295|P>>>20),P=U+(N^F&(A^N))+M[14]+2792965006&4294967295,U=F+(P<<17&4294967295|P>>>15),P=N+(A^U&(F^A))+M[15]+1236535329&4294967295,N=U+(P<<22&4294967295|P>>>10),P=A+(U^F&(N^U))+M[1]+4129170786&4294967295,A=N+(P<<5&4294967295|P>>>27),P=F+(N^U&(A^N))+M[6]+3225465664&4294967295,F=A+(P<<9&4294967295|P>>>23),P=U+(A^N&(F^A))+M[11]+643717713&4294967295,U=F+(P<<14&4294967295|P>>>18),P=N+(F^A&(U^F))+M[0]+3921069994&4294967295,N=U+(P<<20&4294967295|P>>>12),P=A+(U^F&(N^U))+M[5]+3593408605&4294967295,A=N+(P<<5&4294967295|P>>>27),P=F+(N^U&(A^N))+M[10]+38016083&4294967295,F=A+(P<<9&4294967295|P>>>23),P=U+(A^N&(F^A))+M[15]+3634488961&4294967295,U=F+(P<<14&4294967295|P>>>18),P=N+(F^A&(U^F))+M[4]+3889429448&4294967295,N=U+(P<<20&4294967295|P>>>12),P=A+(U^F&(N^U))+M[9]+568446438&4294967295,A=N+(P<<5&4294967295|P>>>27),P=F+(N^U&(A^N))+M[14]+3275163606&4294967295,F=A+(P<<9&4294967295|P>>>23),P=U+(A^N&(F^A))+M[3]+4107603335&4294967295,U=F+(P<<14&4294967295|P>>>18),P=N+(F^A&(U^F))+M[8]+1163531501&4294967295,N=U+(P<<20&4294967295|P>>>12),P=A+(U^F&(N^U))+M[13]+2850285829&4294967295,A=N+(P<<5&4294967295|P>>>27),P=F+(N^U&(A^N))+M[2]+4243563512&4294967295,F=A+(P<<9&4294967295|P>>>23),P=U+(A^N&(F^A))+M[7]+1735328473&4294967295,U=F+(P<<14&4294967295|P>>>18),P=N+(F^A&(U^F))+M[12]+2368359562&4294967295,N=U+(P<<20&4294967295|P>>>12),P=A+(N^U^F)+M[5]+4294588738&4294967295,A=N+(P<<4&4294967295|P>>>28),P=F+(A^N^U)+M[8]+2272392833&4294967295,F=A+(P<<11&4294967295|P>>>21),P=U+(F^A^N)+M[11]+1839030562&4294967295,U=F+(P<<16&4294967295|P>>>16),P=N+(U^F^A)+M[14]+4259657740&4294967295,N=U+(P<<23&4294967295|P>>>9),P=A+(N^U^F)+M[1]+2763975236&4294967295,A=N+(P<<4&4294967295|P>>>28),P=F+(A^N^U)+M[4]+1272893353&4294967295,F=A+(P<<11&4294967295|P>>>21),P=U+(F^A^N)+M[7]+4139469664&4294967295,U=F+(P<<16&4294967295|P>>>16),P=N+(U^F^A)+M[10]+3200236656&4294967295,N=U+(P<<23&4294967295|P>>>9),P=A+(N^U^F)+M[13]+681279174&4294967295,A=N+(P<<4&4294967295|P>>>28),P=F+(A^N^U)+M[0]+3936430074&4294967295,F=A+(P<<11&4294967295|P>>>21),P=U+(F^A^N)+M[3]+3572445317&4294967295,U=F+(P<<16&4294967295|P>>>16),P=N+(U^F^A)+M[6]+76029189&4294967295,N=U+(P<<23&4294967295|P>>>9),P=A+(N^U^F)+M[9]+3654602809&4294967295,A=N+(P<<4&4294967295|P>>>28),P=F+(A^N^U)+M[12]+3873151461&4294967295,F=A+(P<<11&4294967295|P>>>21),P=U+(F^A^N)+M[15]+530742520&4294967295,U=F+(P<<16&4294967295|P>>>16),P=N+(U^F^A)+M[2]+3299628645&4294967295,N=U+(P<<23&4294967295|P>>>9),P=A+(U^(N|~F))+M[0]+4096336452&4294967295,A=N+(P<<6&4294967295|P>>>26),P=F+(N^(A|~U))+M[7]+1126891415&4294967295,F=A+(P<<10&4294967295|P>>>22),P=U+(A^(F|~N))+M[14]+2878612391&4294967295,U=F+(P<<15&4294967295|P>>>17),P=N+(F^(U|~A))+M[5]+4237533241&4294967295,N=U+(P<<21&4294967295|P>>>11),P=A+(U^(N|~F))+M[12]+1700485571&4294967295,A=N+(P<<6&4294967295|P>>>26),P=F+(N^(A|~U))+M[3]+2399980690&4294967295,F=A+(P<<10&4294967295|P>>>22),P=U+(A^(F|~N))+M[10]+4293915773&4294967295,U=F+(P<<15&4294967295|P>>>17),P=N+(F^(U|~A))+M[1]+2240044497&4294967295,N=U+(P<<21&4294967295|P>>>11),P=A+(U^(N|~F))+M[8]+1873313359&4294967295,A=N+(P<<6&4294967295|P>>>26),P=F+(N^(A|~U))+M[15]+4264355552&4294967295,F=A+(P<<10&4294967295|P>>>22),P=U+(A^(F|~N))+M[6]+2734768916&4294967295,U=F+(P<<15&4294967295|P>>>17),P=N+(F^(U|~A))+M[13]+1309151649&4294967295,N=U+(P<<21&4294967295|P>>>11),P=A+(U^(N|~F))+M[4]+4149444226&4294967295,A=N+(P<<6&4294967295|P>>>26),P=F+(N^(A|~U))+M[11]+3174756917&4294967295,F=A+(P<<10&4294967295|P>>>22),P=U+(A^(F|~N))+M[2]+718787259&4294967295,U=F+(P<<15&4294967295|P>>>17),P=N+(F^(U|~A))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+F&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var N=A-this.blockSize,M=this.B,U=this.h,F=0;F<A;){if(U==0)for(;F<=N;)o(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<A;)if(M[U++]=D.charCodeAt(F++),U==this.blockSize){o(this,M),U=0;break}}else for(;F<A;)if(M[U++]=D[F++],U==this.blockSize){o(this,M),U=0;break}}this.h=U,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var N=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=N&255,N/=256;for(this.u(D),D=Array(16),A=N=0;4>A;++A)for(var M=0;32>M;M+=8)D[N++]=this.g[A]>>>M&255;return D};function c(D,A){var N=f;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=A(D)}function u(D,A){this.h=A;for(var N=[],M=!0,U=D.length-1;0<=U;U--){var F=D[U]|0;M&&F==A||(N[U]=F,M=!1)}this.g=N}var f={};function g(D){return-128<=D&&128>D?c(D,function(A){return new u([A|0],0>A?-1:0)}):new u([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return k(y(-D));for(var A=[],N=1,M=0;D>=N;M++)A[M]=D/N|0,N*=4294967296;return new u(A,0)}function _(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return k(_(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=y(Math.pow(A,8)),M=w,U=0;U<D.length;U+=8){var F=Math.min(8,D.length-U),P=parseInt(D.substring(U,U+F),A);8>F?(F=y(Math.pow(A,F)),M=M.j(F).add(y(P))):(M=M.j(N),M=M.add(y(P)))}return M}var w=g(0),x=g(1),I=g(16777216);r=u.prototype,r.m=function(){if(C(this))return-k(this).m();for(var D=0,A=1,N=0;N<this.g.length;N++){var M=this.i(N);D+=(0<=M?M:4294967296+M)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(C(this))return"-"+k(this).toString(D);for(var A=y(Math.pow(D,6)),N=this,M="";;){var U=X(N,A).g;N=L(N,U.j(A));var F=((0<N.g.length?N.g[0]:N.h)>>>0).toString(D);if(N=U,V(N))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function C(D){return D.h==-1}r.l=function(D){return D=L(this,D),C(D)?-1:V(D)?0:1};function k(D){for(var A=D.g.length,N=[],M=0;M<A;M++)N[M]=~D.g[M];return new u(N,~D.h).add(x)}r.abs=function(){return C(this)?k(this):this},r.add=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0,U=0;U<=A;U++){var F=M+(this.i(U)&65535)+(D.i(U)&65535),P=(F>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);M=P>>>16,F&=65535,P&=65535,N[U]=P<<16|F}return new u(N,N[N.length-1]&-2147483648?-1:0)};function L(D,A){return D.add(k(A))}r.j=function(D){if(V(this)||V(D))return w;if(C(this))return C(D)?k(this).j(k(D)):k(k(this).j(D));if(C(D))return k(this.j(k(D)));if(0>this.l(I)&&0>D.l(I))return y(this.m()*D.m());for(var A=this.g.length+D.g.length,N=[],M=0;M<2*A;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<D.g.length;U++){var F=this.i(M)>>>16,P=this.i(M)&65535,Je=D.i(U)>>>16,Ge=D.i(U)&65535;N[2*M+2*U]+=P*Ge,K(N,2*M+2*U),N[2*M+2*U+1]+=F*Ge,K(N,2*M+2*U+1),N[2*M+2*U+1]+=P*Je,K(N,2*M+2*U+1),N[2*M+2*U+2]+=F*Je,K(N,2*M+2*U+2)}for(M=0;M<A;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=A;M<2*A;M++)N[M]=0;return new u(N,0)};function K(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function z(D,A){this.g=D,this.h=A}function X(D,A){if(V(A))throw Error("division by zero");if(V(D))return new z(w,w);if(C(D))return A=X(k(D),A),new z(k(A.g),k(A.h));if(C(A))return A=X(D,k(A)),new z(k(A.g),A.h);if(30<D.g.length){if(C(D)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var N=x,M=A;0>=M.l(D);)N=Y(N),M=Y(M);var U=se(N,1),F=se(M,1);for(M=se(M,2),N=se(N,2);!V(M);){var P=F.add(M);0>=P.l(D)&&(U=U.add(N),F=P),M=se(M,1),N=se(N,1)}return A=L(D,U.j(A)),new z(U,A)}for(U=w;0<=D.l(A);){for(N=Math.max(1,Math.floor(D.m()/A.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=y(N),P=F.j(A);C(P)||0<P.l(D);)N-=M,F=y(N),P=F.j(A);V(F)&&(F=x),U=U.add(F),D=L(D,P)}return new z(U,D)}r.A=function(D){return X(this,D).h},r.and=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)&D.i(M);return new u(N,this.h&D.h)},r.or=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)|D.i(M);return new u(N,this.h|D.h)},r.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),N=[],M=0;M<A;M++)N[M]=this.i(M)^D.i(M);return new u(N,this.h^D.h)};function Y(D){for(var A=D.g.length+1,N=[],M=0;M<A;M++)N[M]=D.i(M)<<1|D.i(M-1)>>>31;return new u(N,D.h)}function se(D,A){var N=A>>5;A%=32;for(var M=D.g.length-N,U=[],F=0;F<M;F++)U[F]=0<A?D.i(F+N)>>>A|D.i(F+N+1)<<32-A:D.i(F+N);return new u(U,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Xw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,la=u}).apply(typeof gb<"u"?gb:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ww,oc,Zw,Ld,Cg,Jw,ex,tx;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,b){return d==Array.prototype||d==Object.prototype||(d[v]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function o(d,v){if(v)e:{var b=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var H=d[R];if(!(H in b))break e;b=b[H]}d=d[d.length-1],R=b[d],v=v(R),v!=R&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}function c(d,v){d instanceof String&&(d+="");var b=0,R=!1,H={next:function(){if(!R&&b<d.length){var J=b++;return{value:v(J,d[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(d){return d||function(){return c(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function y(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function _(d,v,b){return d.call.apply(d.bind,arguments)}function w(d,v,b){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),d.apply(v,H)}}return function(){return d.apply(v,arguments)}}function x(d,v,b){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,x.apply(null,arguments)}function I(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function V(d,v){function b(){}b.prototype=v.prototype,d.aa=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(R,H,J){for(var de=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)de[Be-2]=arguments[Be];return v.prototype[H].apply(R,de)}}function C(d){const v=d.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=d[R];return b}return[]}function k(d,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(g(R)){const H=d.length||0,J=R.length||0;d.length=H+J;for(let de=0;de<J;de++)d[H+de]=R[de]}else d.push(R)}}class L{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function X(d){return X[" "](d),d}X[" "]=function(){};var Y=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function se(d,v,b){for(const R in d)v.call(b,d[R],R,d)}function D(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function A(d){const v={};for(const b in d)v[b]=d[b];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,v){let b,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(b in R)d[b]=R[b];for(let J=0;J<N.length;J++)b=N[J],Object.prototype.hasOwnProperty.call(R,b)&&(d[b]=R[b])}}function U(d){var v=1;d=d.split(":");const b=[];for(;0<v&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function F(d){f.setTimeout(()=>{throw d},0)}function P(){var d=ve;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Je{constructor(){this.h=this.g=null}add(v,b){const R=Ge.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var Ge=new L(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,te=!1,ve=new Je,j=()=>{const d=f.Promise.resolve(void 0);ie=()=>{d.then(ee)}};var ee=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(b){F(b)}var v=Ge;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}te=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var he=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return d})();function xe(d,v){if(re.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(Y){e:{try{X(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&xe.aa.h.call(this)}}V(xe,re);var Ee={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),et=0;function mn(d,v,b,R,H){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=H,this.key=++et,this.da=this.fa=!1}function An(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Rn(d){this.src=d,this.g={},this.h=0}Rn.prototype.add=function(d,v,b,R,H){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var de=bi(d,v,R,H);return-1<de?(v=d[de],b||(v.fa=!1)):(v=new mn(v,this.src,J,!!R,H),v.fa=b,d.push(v)),v};function zn(d,v){var b=v.type;if(b in d.g){var R=d.g[b],H=Array.prototype.indexOf.call(R,v,void 0),J;(J=0<=H)&&Array.prototype.splice.call(R,H,1),J&&(An(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function bi(d,v,b,R){for(var H=0;H<d.length;++H){var J=d[H];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==R)return H}return-1}var Ei="closure_lm_"+(1e6*Math.random()|0),Yo={};function Qc(d,v,b,R,H){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Qc(d,v[J],b,R,H);return null}return b=Xc(b),d&&d[De]?d.K(v,b,y(R)?!!R.capture:!1,H):Bn(d,v,b,!1,R,H)}function Bn(d,v,b,R,H,J){if(!v)throw Error("Invalid event type");var de=y(H)?!!H.capture:!!H,Be=ba(d);if(Be||(d[Ei]=Be=new Rn(d)),b=Be.add(v,b,R,de,J),b.proxy)return b;if(R=Uh(),b.proxy=R,R.src=d,R.listener=b,d.addEventListener)he||(H=de),H===void 0&&(H=!1),d.addEventListener(v.toString(),R,H);else if(d.attachEvent)d.attachEvent(wi(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Uh(){function d(b){return v.call(d.src,d.listener,b)}const v=zh;return d}function Qo(d,v,b,R,H){if(Array.isArray(v))for(var J=0;J<v.length;J++)Qo(d,v[J],b,R,H);else R=y(R)?!!R.capture:!!R,b=Xc(b),d&&d[De]?(d=d.i,v=String(v).toString(),v in d.g&&(J=d.g[v],b=bi(J,b,R,H),-1<b&&(An(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete d.g[v],d.h--)))):d&&(d=ba(d))&&(v=d.g[v.toString()],d=-1,v&&(d=bi(v,b,R,H)),(b=-1<d?v[d]:null)&&_a(b))}function _a(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[De])zn(v.i,d);else{var b=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(b,R,d.capture):v.detachEvent?v.detachEvent(wi(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=ba(v))?(zn(b,d),b.h==0&&(b.src=null,v[Ei]=null)):An(d)}}}function wi(d){return d in Yo?Yo[d]:Yo[d]="on"+d}function zh(d,v){if(d.da)d=!0;else{v=new xe(v,this);var b=d.listener,R=d.ha||d.src;d.fa&&_a(d),d=b.call(R,v)}return d}function ba(d){return d=d[Ei],d instanceof Rn?d:null}var Xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xc(d){return typeof d=="function"?d:(d[Xo]||(d[Xo]=function(v){return d.handleEvent(v)}),d[Xo])}function bt(){ue.call(this),this.i=new Rn(this),this.M=this,this.F=null}V(bt,ue),bt.prototype[De]=!0,bt.prototype.removeEventListener=function(d,v,b,R){Qo(this,d,v,b,R)};function tt(d,v){var b,R=d.F;if(R)for(b=[];R;R=R.F)b.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new re(v,d);else if(v instanceof re)v.target=v.target||d;else{var H=v;v=new re(R,d),M(v,H)}if(H=!0,b)for(var J=b.length-1;0<=J;J--){var de=v.g=b[J];H=Nn(de,R,!0,v)&&H}if(de=v.g=d,H=Nn(de,R,!0,v)&&H,H=Nn(de,R,!1,v)&&H,b)for(J=0;J<b.length;J++)de=v.g=b[J],H=Nn(de,R,!1,v)&&H}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var b=d.g[v],R=0;R<b.length;R++)An(b[R]);delete d.g[v],d.h--}}this.F=null},bt.prototype.K=function(d,v,b,R){return this.i.add(String(d),v,!1,b,R)},bt.prototype.L=function(d,v,b,R){return this.i.add(String(d),v,!0,b,R)};function Nn(d,v,b,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,J=0;J<v.length;++J){var de=v[J];if(de&&!de.da&&de.capture==b){var Be=de.listener,Pt=de.ha||de.src;de.fa&&zn(d.i,de),H=Be.call(Pt,R)!==!1&&H}}return H&&!R.defaultPrevented}function sn(d,v,b){if(typeof d=="function")b&&(d=x(d,b));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function Wc(d){d.g=sn(()=>{d.g=null,d.i&&(d.i=!1,Wc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Bh extends ue{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Wc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(d){ue.call(this),this.h=d,this.g={}}V(xi,ue);var Ti=[];function Si(d){se(d.g,function(v,b){this.g.hasOwnProperty(b)&&_a(v)},d),d.g={}}xi.prototype.N=function(){xi.aa.N.call(this),Si(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=f.JSON.stringify,Ea=f.JSON.parse,Ai=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Wo(){}Wo.prototype.h=null;function Zo(d){return d.h||(d.h=d.i())}function Jo(){}var zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){re.call(this,"d")}V(Br,re);function el(){re.call(this,"c")}V(el,re);var fr={},tl=null;function As(){return tl=tl||new bt}fr.La="serverreachability";function wa(d){re.call(this,fr.La,d)}V(wa,re);function Rs(d){const v=As();tt(v,new wa(v))}fr.STAT_EVENT="statevent";function Zc(d,v){re.call(this,fr.STAT_EVENT,d),this.stat=v}V(Zc,re);function ft(d){const v=As();tt(v,new Zc(v,d))}fr.Ma="timingevent";function Ot(d,v){re.call(this,fr.Ma,d),this.size=v}V(Ot,re);function Rt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function nl(d,v,b,R,H,J){d.info(function(){if(d.g)if(J)for(var de="",Be=J.split("&"),Pt=0;Pt<Be.length;Pt++){var Fe=Be[Pt].split("=");if(1<Fe.length){var Bt=Fe[0];Fe=Fe[1];var Mt=Bt.split("_");de=2<=Mt.length&&Mt[1]=="type"?de+(Bt+"="+Fe+"&"):de+(Bt+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+b+`
`+de})}function Fh(d,v,b,R,H,J,de){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+b+`
`+J+" "+de})}function Ns(d,v,b,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ri(d,b)+(R?" "+R:"")})}function Jc(d,v){d.info(function(){return"TIMEOUT: "+v})}Fn.prototype.info=function(){};function Ri(d,v){if(!d.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var R=b[d];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<H.length;de++)H[de]=""}}}}return er(b)}catch{return v}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mr;function gr(){}V(gr,Wo),gr.prototype.g=function(){return new XMLHttpRequest},gr.prototype.i=function(){return{}},mr=new gr;function gn(d,v,b,R){this.j=d,this.i=v,this.l=b,this.R=R||1,this.U=new xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var rl={},xa={};function tr(d,v,b){d.L=1,d.v=Di(Cn(v)),d.m=b,d.P=!0,qr(d,null)}function qr(d,v){d.F=Date.now(),Ni(d),d.A=Cn(d.v);var b=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),cl(b.i,"t",R),d.C=0,b=d.j.J,d.h=new xt,d.g=gu(d.j,b?v:null,!d.m),0<d.O&&(d.M=new Bh(x(d.Y,d,d.g),d.O)),v=d.U,b=d.g,R=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ti[0]=H.toString()),H=Ti);for(var J=0;J<H.length;J++){var de=Qc(b,H[J],R||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Rs(),nl(d.i,d.u,d.A,d.l,d.R,d.m)}gn.prototype.ca=function(d){d=d.target;const v=this.M;v&&$n(d)==3?v.j():this.Y(d)},gn.prototype.Y=function(d){try{if(d==this.g)e:{const Mt=$n(this.g);var v=this.g.Ba();const Wr=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||Mt!=4||v==7||(v==8||0>=Wr?Rs(3):Rs(2)),Is(this);var b=this.g.Z();this.X=b;t:if(eu(this)){var R=ou(this.g);d="";var H=R.length,J=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),pr(this);var de="";break t}this.h.i=new f.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(J&&v==H-1)});R.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=b==200,Fh(this.i,this.u,this.A,this.l,this.R,Mt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Pt=this.g;if((Be=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Be)){var Fe=Be;break t}}Fe=null}if(b=Fe)Ns(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ci(this,b);else{this.o=!1,this.s=3,ft(12),Kt(this),pr(this);break e}}if(this.P){b=!0;let Yt;for(;!this.J&&this.C<de.length;)if(Yt=tu(this,de),Yt==xa){Mt==4&&(this.s=4,ft(14),b=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==rl){this.s=4,ft(15),Ns(this.i,this.l,de,"[Invalid Chunk]"),b=!1;break}else Ns(this.i,this.l,Yt,null),Ci(this,Yt);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||de.length!=0||this.h.h||(this.s=1,ft(16),b=!1),this.o=this.o&&b,!b)Ns(this.i,this.l,de,"[Invalid Chunked Response]"),Kt(this),pr(this);else if(0<de.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),zi(Bt),Bt.M=!0,ft(11))}}else Ns(this.i,this.l,de,null),Ci(this,de);Mt==4&&Kt(this),this.o&&!this.J&&(Mt==4?hu(this.j,this):(this.o=!1,Ni(this)))}else Kh(this.g),b==400&&0<de.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Kt(this),pr(this)}}}catch{}finally{}};function eu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function tu(d,v){var b=d.C,R=v.indexOf(`
`,b);return R==-1?xa:(b=Number(v.substring(b,R)),isNaN(b)?rl:(R+=1,R+b>v.length?xa:(v=v.slice(R,R+b),d.C=R+b,v)))}gn.prototype.cancel=function(){this.J=!0,Kt(this)};function Ni(d){d.S=Date.now()+d.I,nu(d,d.I)}function nu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Rt(x(d.ba,d),v)}function Is(d){d.B&&(f.clearTimeout(d.B),d.B=null)}gn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Jc(this.i,this.A),this.L!=2&&(Rs(),ft(17)),Kt(this),this.s=2,pr(this)):nu(this,this.S-d)};function pr(d){d.j.G==0||d.J||hu(d.j,d)}function Kt(d){Is(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Si(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ci(d,v){try{var b=d.j;if(b.G!=0&&(b.g==d||sl(b.h,d))){if(!d.K&&sl(b.h,d)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Ma(b),Oa(b);else break e;ml(b),ft(18)}}else b.za=H[1],0<b.za-b.T&&37500>H[2]&&b.F&&b.v==0&&!b.C&&(b.C=Rt(x(b.Za,b),6e3));if(1>=Sa(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Xr(b,11)}else if((d.K||b.g==d)&&Ma(b),!K(v))for(H=b.Da.g.parse(v),v=0;v<H.length;v++){let Fe=H[v];if(b.T=Fe[0],Fe=Fe[1],b.G==2)if(Fe[0]=="c"){b.K=Fe[1],b.ia=Fe[2];const Bt=Fe[3];Bt!=null&&(b.la=Bt,b.j.info("VER="+b.la));const Mt=Fe[4];Mt!=null&&(b.Aa=Mt,b.j.info("SVER="+b.Aa));const Wr=Fe[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(R=1.5*Wr,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Yt=d.g;if(Yt){const xr=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var J=R.h;J.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Aa(J,J.h),J.h=null))}if(R.D){const pl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(R.ya=pl,it(R.I,R.D,pl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var de=d;if(R.qa=mu(R,R.J?R.ia:null,R.W),de.K){pn(R.h,de);var Be=de,Pt=R.L;Pt&&(Be.I=Pt),Be.B&&(Is(Be),Ni(Be)),R.g=de}else uu(R);0<b.i.length&&Pa(b)}else Fe[0]!="stop"&&Fe[0]!="close"||Xr(b,7);else b.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Xr(b,7):hl(b):Fe[0]!="noop"&&b.l&&b.l.ta(Fe),b.v=0)}}Rs(4)}catch{}}var ru=class{constructor(d,v){this.g=d,this.map=v}};function Hr(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Sa(d){return d.h?1:d.g?d.g.size:0}function sl(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Aa(d,v){d.g?d.g.add(v):d.h=v}function pn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Hr.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function il(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.D);return v}return C(d.i)}function qh(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(g(d)){for(var v=[],b=d.length,R=0;R<b;R++)v.push(d[R]);return v}v=[],b=0;for(R in d)v[b++]=d[R];return v}function Ra(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(g(d)||typeof d=="string"){var v=[];d=d.length;for(var b=0;b<d;b++)v.push(b);return v}v=[],b=0;for(const R in d)v[b++]=R;return v}}}function al(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(g(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var b=Ra(d),R=qh(d),H=R.length,J=0;J<H;J++)v.call(void 0,R[J],b&&b[J],d)}var Ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(d,v){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var R=d[b].indexOf("="),H=null;if(0<=R){var J=d[b].substring(0,R);H=d[b].substring(R+1)}else J=d[b];v(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Nt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Nt){this.h=d.h,ki(this,d.j),this.o=d.o,this.g=d.g,ks(this,d.s),this.l=d.l;var v=d.i,b=new $r;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Gr(this,b),this.m=d.m}else d&&(v=String(d).match(Ii))?(this.h=!1,ki(this,v[1]||"",!0),this.o=qn(v[2]||""),this.g=qn(v[3]||"",!0),ks(this,v[4]),this.l=qn(v[5]||"",!0),Gr(this,v[6]||"",!0),this.m=qn(v[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}Nt.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Oi(v,ol,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Oi(v,ol,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Oi(b,b.charAt(0)=="/"?Gh:ll,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Oi(b,Na)),d.join("")};function Cn(d){return new Nt(d)}function ki(d,v,b){d.j=b?qn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function ks(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Gr(d,v,b){v instanceof $r?(d.i=v,iu(d.i,d.h)):(b||(v=Oi(v,$h)),d.i=new $r(v,d.h))}function it(d,v,b){d.i.set(v,b)}function Di(d){return it(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function qn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Oi(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,su),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function su(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ol=/[#\/\?@]/g,ll=/[#\?:]/g,Gh=/[#\?]/g,$h=/[#\?@]/g,Na=/#/g;function $r(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Hn(d){d.g||(d.g=new Map,d.h=0,d.i&&Hh(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=$r.prototype,r.add=function(d,v){Hn(this),this.i=null,d=yr(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function Kr(d,v){Hn(d),v=yr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Yr(d,v){return Hn(d),v=yr(d,v),d.g.has(v)}r.forEach=function(d,v){Hn(this),this.g.forEach(function(b,R){b.forEach(function(H){d.call(v,H,R,this)},this)},this)},r.na=function(){Hn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const H=d[R];for(let J=0;J<H.length;J++)b.push(v[R])}return b},r.V=function(d){Hn(this);let v=[];if(typeof d=="string")Yr(this,d)&&(v=v.concat(this.g.get(yr(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)v=v.concat(d[b])}return v},r.set=function(d,v){return Hn(this),this.i=null,d=yr(this,d),Yr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function cl(d,v,b){Kr(d,v),0<b.length&&(d.i=null,d.g.set(yr(d,v),C(b)),d.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const J=encodeURIComponent(String(R)),de=this.V(R);for(R=0;R<de.length;R++){var H=J;de[R]!==""&&(H+="="+encodeURIComponent(String(de[R]))),d.push(H)}}return this.i=d.join("&")};function yr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function iu(d,v){v&&!d.j&&(Hn(d),d.i=null,d.g.forEach(function(b,R){var H=R.toLowerCase();R!=H&&(Kr(this,R),cl(this,H,b))},d)),d.j=v}function Pi(d,v){const b=new Fn;if(f.Image){const R=new Image;R.onload=I(Gn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=I(Gn,b,"TestLoadImage: error",!1,v,R),R.onabort=I(Gn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=I(Gn,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function nr(d,v){const b=new Fn,R=new AbortController,H=setTimeout(()=>{R.abort(),Gn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(J=>{clearTimeout(H),J.ok?Gn(b,"TestPingServer: ok",!0,v):Gn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Gn(b,"TestPingServer: error",!1,v)})}function Gn(d,v,b,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(b)}catch{}}function Mi(){this.g=new Ai}function vr(d,v,b){const R=b||"";try{al(d,function(H,J){let de=H;y(H)&&(de=er(H)),v.push(R+J+"="+encodeURIComponent(de))})}catch(H){throw v.push(R+"type="+encodeURIComponent("_badmap")),H}}function Ds(d){this.l=d.Ub||null,this.j=d.eb||!1}V(Ds,Wo),Ds.prototype.g=function(){return new Qr(this.l,this.j)},Ds.prototype.i=(function(d){return function(){return d}})({});function Qr(d,v){bt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Qr,bt),r=Qr.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,br(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?_r(this):br(this),this.readyState==3&&ul(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,_r(this))},r.Qa=function(d){this.g&&(this.response=d,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(d){d.readyState=4,d.l=null,d.j=null,d.v=null,br(d)}r.setRequestHeader=function(d,v){this.u.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function br(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function dl(d){let v="";return se(d,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function zt(d,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=dl(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):it(d,v,b))}function Ze(d){bt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ze,bt);var Ca=/^https?$/i,ji=["POST","PUT"];r=Ze.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mr.g(),this.v=this.o?Zo(this.o):Zo(mr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){au(this,J);return}if(d=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)b.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())b.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),H=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ji,v,void 0))||R||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of b)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vi(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){au(this,J)}};function au(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Ia(d),Er(d)}function Ia(d){d.A||(d.A=!0,tt(d,"complete"),tt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,tt(this,"complete"),tt(this,"abort"),Er(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),Ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},r.bb=function(){ka(this)};function ka(d){if(d.h&&typeof u<"u"&&(!d.v[1]||$n(d)!=4||d.Z()!=2)){if(d.u&&$n(d)==4)sn(d.Ea,0,d);else if(tt(d,"readystatechange"),$n(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=de===0){var H=String(d.D).match(Ii)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),R=!Ca.test(H?H.toLowerCase():"")}b=R}if(b)tt(d,"complete"),tt(d,"success");else{d.m=6;try{var J=2<$n(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",Ia(d)}}finally{Er(d)}}}}function Er(d,v){if(d.g){Vi(d);const b=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||tt(d,"ready");try{b.onreadystatechange=R}catch{}}}function Vi(d){d.I&&(f.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function $n(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ea(v)}};function ou(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Kh(d){const v={};d=(d.g&&2<=$n(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(K(d[R]))continue;var b=U(d[R]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[H]||[];v[H]=J,J.push(b)}D(v,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function Da(d){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Li("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Li("baseRetryDelayMs",5e3,d),this.cb=Li("retryDelaySeedMs",1e4,d),this.Wa=Li("forwardChannelMaxRetries",2,d),this.wa=Li("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Hr(d&&d.concurrentRequestLimit),this.Da=new Mi,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Da.prototype,r.la=8,r.G=1,r.connect=function(d,v,b,R){ft(0),this.W=d,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=mu(this,null,this.W),Pa(this)};function hl(d){if(lu(d),d.G==3){var v=d.U++,b=Cn(d.I);if(it(b,"SID",d.K),it(b,"RID",v),it(b,"TYPE","terminate"),Ui(d,b),v=new gn(d,d.j,v),v.L=2,v.v=Di(Cn(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=gu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ni(v)}fu(d)}function Oa(d){d.g&&(zi(d),d.g.cancel(),d.g=null)}function lu(d){Oa(d),d.u&&(f.clearTimeout(d.u),d.u=null),Ma(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Pa(d){if(!Ta(d.h)&&!d.s){d.s=!0;var v=d.Ga;ie||j(),te||(ie(),te=!0),ve.add(v,d),d.B=0}}function Yh(d,v){return Sa(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Rt(x(d.Ga,d,v),gl(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new gn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=A(J),M(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=cu(this,H,v),b=Cn(this.I),it(b,"RID",d),it(b,"CVER",22),this.D&&it(b,"X-HTTP-Session-Id",this.D),Ui(this,b),J&&(this.O?v="headers="+encodeURIComponent(String(dl(J)))+"&"+v:this.m&&zt(b,this.m,J)),Aa(this.h,H),this.Ua&&it(b,"TYPE","init"),this.P?(it(b,"$req",v),it(b,"SID","null"),H.T=!0,tr(H,b,null)):tr(H,b,v),this.G=2}}else this.G==3&&(d?fl(this,d):this.i.length==0||Ta(this.h)||fl(this))};function fl(d,v){var b;v?b=v.l:b=d.U++;const R=Cn(d.I);it(R,"SID",d.K),it(R,"RID",b),it(R,"AID",d.T),Ui(d,R),d.m&&d.o&&zt(R,d.m,d.o),b=new gn(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),v&&(d.i=v.D.concat(d.i)),v=cu(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Aa(d.h,b),tr(b,R,v)}function Ui(d,v){d.H&&se(d.H,function(b,R){it(v,R,b)}),d.l&&al({},function(b,R){it(v,R,b)})}function cu(d,v,b){b=Math.min(d.i.length,b);var R=d.l?x(d.l.Na,d.l,d):null;e:{var H=d.i;let J=-1;for(;;){const de=["count="+b];J==-1?0<b?(J=H[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let Be=!0;for(let Pt=0;Pt<b;Pt++){let Fe=H[Pt].g;const Bt=H[Pt].map;if(Fe-=J,0>Fe)J=Math.max(0,H[Pt].g-100),Be=!1;else try{vr(Bt,de,"req"+Fe+"_")}catch{R&&R(Bt)}}if(Be){R=de.join("&");break e}}}return d=d.i.splice(0,b),v.D=d,R}function uu(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ie||j(),te||(ie(),te=!0),ve.add(v,d),d.v=0}}function ml(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Rt(x(d.Fa,d),gl(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Rt(x(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Oa(this),du(this))};function zi(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function du(d){d.g=new gn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Cn(d.qa);it(v,"RID","rpc"),it(v,"SID",d.K),it(v,"AID",d.T),it(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&it(v,"TO",d.ja),it(v,"TYPE","xmlhttp"),Ui(d,v),d.m&&d.o&&zt(v,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=Di(Cn(v)),b.m=null,b.P=!0,qr(b,d)}r.Za=function(){this.C!=null&&(this.C=null,Oa(this),ml(this),ft(19))};function Ma(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function hu(d,v){var b=null;if(d.g==v){Ma(d),zi(d),d.g=null;var R=2}else if(sl(d.h,v))b=v.D,pn(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var H=d.B;R=As(),tt(R,new Ot(R,b)),Pa(d)}else uu(d);else if(H=v.s,H==3||H==0&&0<v.X||!(R==1&&Yh(d,v)||R==2&&ml(d)))switch(b&&0<b.length&&(v=d.h,v.i=v.i.concat(b)),H){case 1:Xr(d,5);break;case 4:Xr(d,10);break;case 3:Xr(d,6);break;default:Xr(d,2)}}}function gl(d,v){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*v}function Xr(d,v){if(d.j.info("Error code "+v),v==2){var b=x(d.fb,d),R=d.Xa;const H=!R;R=new Nt(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ki(R,"https"),Di(R),H?Pi(R.toString(),b):nr(R.toString(),b)}else ft(2);d.G=0,d.l&&d.l.sa(v),fu(d),lu(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function fu(d){if(d.G=0,d.ka=[],d.l){const v=il(d.h);(v.length!=0||d.i.length!=0)&&(k(d.ka,v),k(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function mu(d,v,b){var R=b instanceof Nt?Cn(b):new Nt(b);if(R.g!="")v&&(R.g=v+"."+R.g),ks(R,R.s);else{var H=f.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var J=new Nt(null);R&&ki(J,R),v&&(J.g=v),H&&ks(J,H),b&&(J.l=b),R=J}return b=d.D,v=d.ya,b&&v&&it(R,b,v),it(R,"VER",d.la),Ui(d,R),R}function gu(d,v,b){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Ze(new Ds({eb:b})):new Ze(d.pa),v.Ha(d.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ja(){}ja.prototype.g=function(d,v){return new yn(d,v)};function yn(d,v){bt.call(this),this.g=new Da(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!K(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!K(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new wr(this)}V(yn,bt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){hl(this.g)},yn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=er(d),d=b);v.i.push(new ru(v.Ya++,d)),v.G==3&&Pa(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,yn.aa.N.call(this)};function yu(d){Br.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}V(yu,Br);function vu(){el.call(this),this.status=1}V(vu,el);function wr(d){this.g=d}V(wr,pu),wr.prototype.ua=function(){tt(this.g,"a")},wr.prototype.ta=function(d){tt(this.g,new yu(d))},wr.prototype.sa=function(d){tt(this.g,new vu)},wr.prototype.ra=function(){tt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,tx=function(){return new ja},ex=function(){return As()},Jw=fr,Cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Ld=Cs,Fr.COMPLETE="complete",Zw=Fr,Jo.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,oc=Jo,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Ww=Ze}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const pb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new ap("@firebase/firestore");function ac(){return da.logLevel}function ye(r,...e){if(da.logLevel<=ze.DEBUG){const t=e.map(_p);da.debug(`Firestore (${Ho}): ${r}`,...t)}}function xs(r,...e){if(da.logLevel<=ze.ERROR){const t=e.map(_p);da.error(`Firestore (${Ho}): ${r}`,...t)}}function Ro(r,...e){if(da.logLevel<=ze.WARN){const t=e.map(_p);da.warn(`Firestore (${Ho}): ${r}`,...t)}}function _p(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+r;throw xs(e),new Error(e)}function st(r,e){r||Re()}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ss{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cn.UNAUTHENTICATED)))}shutdown(){}}class KI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class YI{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let c=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vs,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string"),new nx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new cn(e)}}class QI{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XI{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new QI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){st(this.o===void 0);const i=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.R;return this.R=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const o=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string"),this.R=t.token,new WI(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=JI(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+=e.charAt(o[c]%e.length))}return i}}function Qe(r,e){return r<e?-1:r>e?1:0}function No(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ut(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Ut(0,0))}static max(){return new Ne(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(),i===void 0?i=e.length-t:i>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return bc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bc?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=e.get(o),u=t.get(o);if(c<u)return-1;if(c>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ht extends bc{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ht(t)}static emptyPath(){return new ht([])}}const ek=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends bc{construct(e,t,i){return new Jt(e,t,i)}static isValidIdentifier(e){return ek.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(i.length===0)throw new fe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new fe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(c(),o++)}if(c(),u)throw new fe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ht.fromString(e))}static fromName(e){return new be(ht.fromString(e).popFirst(5))}static empty(){return new be(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ht(e.slice()))}}function tk(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new mi(o,be.empty(),e)}function nk(r){return new mi(r.readTime,r.key,-1)}class mi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new mi(Ne.min(),be.empty(),-1)}static max(){return new mi(Ne.max(),be.empty(),-1)}}function rk(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(r.documentKey,e.documentKey),t!==0?t:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(r){if(r.code!==le.FAILED_PRECONDITION||r.message!==sk)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,i)=>{t(e)}))}static reject(e){return new ce(((t,i)=>{i(e)}))}static waitFor(e){return new ce(((t,i)=>{let o=0,c=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++c,u&&c===o&&t()}),(g=>i(g)))})),u=!0,c===o&&t()}))}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next((o=>o?ce.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,c)=>{i.push(t.call(this,o,c))})),this.waitFor(i)}static mapArray(e,t){return new ce(((i,o)=>{const c=e.length,u=new Array(c);let f=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next((_=>{u[y]=_,++f,f===c&&i(u)}),(_=>o(_)))}}))}static doWhile(e,t){return new ce(((i,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):i()};c()}))}}function ak(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vc(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bp.oe=-1;function bh(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function ok(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function pa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function sx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Td(this.root,e,this.comparator,!1)}getReverseIterator(){return new Td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Td(this.root,e,this.comparator,!0)}}class Td{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new Zt(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,i,o,c){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vb(this.data.getIterator())}getIteratorFrom(e){return new vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new en(Jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ix("Invalid base64 string: "+c):c}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(r){if(st(!!r),typeof r=="string"){let e=0;const t=lk.exec(r);if(st(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(r.seconds),nanos:At(r.nanos)}}function At(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ha(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function wp(r){const e=r.mapValue.fields.__previous_value__;return Ep(e)?wp(e):e}function Ec(r){const e=gi(r.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t,i,o,c,u,f,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y}}class wc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd={mapValue:{}};function fa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ep(r)?4:dk(r)?9007199254740991:uk(r)?10:11:Re()}function Vr(r,e){if(r===e)return!0;const t=fa(r);if(t!==fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ec(r).isEqual(Ec(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=gi(o.timestampValue),f=gi(c.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return ha(o.bytesValue).isEqual(ha(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return At(o.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return At(o.integerValue)===At(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=At(o.doubleValue),f=At(c.doubleValue);return u===f?nh(u)===nh(f):isNaN(u)&&isNaN(f)}return!1})(r,e);case 9:return No(r.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},f=c.mapValue.fields||{};if(yb(u)!==yb(f))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(f[g]===void 0||!Vr(u[g],f[g])))return!1;return!0})(r,e);default:return Re()}}function xc(r,e){return(r.values||[]).find((t=>Vr(t,e)))!==void 0}function Co(r,e){if(r===e)return 0;const t=fa(r),i=fa(e);if(t!==i)return Qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return(function(c,u){const f=At(c.integerValue||c.doubleValue),g=At(u.integerValue||u.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(r,e);case 3:return _b(r.timestampValue,e.timestampValue);case 4:return _b(Ec(r),Ec(e));case 5:return Qe(r.stringValue,e.stringValue);case 6:return(function(c,u){const f=ha(c),g=ha(u);return f.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,u){const f=c.split("/"),g=u.split("/");for(let y=0;y<f.length&&y<g.length;y++){const _=Qe(f[y],g[y]);if(_!==0)return _}return Qe(f.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,u){const f=Qe(At(c.latitude),At(u.latitude));return f!==0?f:Qe(At(c.longitude),At(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return bb(r.arrayValue,e.arrayValue);case 10:return(function(c,u){var f,g,y,_;const w=c.fields||{},x=u.fields||{},I=(f=w.value)===null||f===void 0?void 0:f.arrayValue,V=(g=x.value)===null||g===void 0?void 0:g.arrayValue,C=Qe(((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return C!==0?C:bb(I,V)})(r.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Sd.mapValue&&u===Sd.mapValue)return 0;if(c===Sd.mapValue)return 1;if(u===Sd.mapValue)return-1;const f=c.fields||{},g=Object.keys(f),y=u.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let w=0;w<g.length&&w<_.length;++w){const x=Qe(g[w],_[w]);if(x!==0)return x;const I=Co(f[g[w]],y[_[w]]);if(I!==0)return I}return Qe(g.length,_.length)})(r.mapValue,e.mapValue);default:throw Re()}}function _b(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const t=gi(r),i=gi(e),o=Qe(t.seconds,i.seconds);return o!==0?o:Qe(t.nanos,i.nanos)}function bb(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const c=Co(t[o],i[o]);if(c)return c}return Qe(t.length,i.length)}function Io(r){return Ig(r)}function Ig(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=gi(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ha(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return be.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=Ig(c);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of i)c?c=!1:o+=",",o+=`${u}:${Ig(t.fields[u])}`;return o+"}"})(r.mapValue):Re()}function Eb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function kg(r){return!!r&&"integerValue"in r}function xp(r){return!!r&&"arrayValue"in r}function wb(r){return!!r&&"nullValue"in r}function xb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ud(r){return!!r&&"mapValue"in r}function uk(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function hc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return pa(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=hc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function dk(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ud(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(t)}setAll(e){let t=Jt.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=f.popLast()}u?i[f.lastSegment()]=hc(u):o.push(f.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());Ud(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Ud(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){pa(t,((o,c)=>e[o]=c));for(const o of i)delete e[o]}clone(){return new xn(hc(this.value))}}function ax(r){const e=[];return pa(r.fields,((t,i)=>{const o=new Jt([t]);if(Ud(i)){const c=ax(i.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,i,o,c,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=u,this.documentState=f}static newInvalidDocument(e){return new un(e,0,Ne.min(),Ne.min(),Ne.min(),xn.empty(),0)}static newFoundDocument(e,t,i,o){return new un(e,1,t,Ne.min(),i,o,0)}static newNoDocument(e,t){return new un(e,2,t,Ne.min(),Ne.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Ne.min(),Ne.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.position=e,this.inclusive=t}}function Tb(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const c=e[o],u=r.position[o];if(c.field.isKeyField()?i=be.comparator(be.fromName(u.referenceValue),t.key):i=Co(u,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Sb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Vr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t="asc"){this.field=e,this.dir=t}}function hk(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{}class Dt extends ox{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new mk(e,t,i):t==="array-contains"?new yk(e,i):t==="in"?new vk(e,i):t==="not-in"?new _k(e,i):t==="array-contains-any"?new bk(e,i):new Dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new gk(e,i):new pk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Co(t,this.value)):t!==null&&fa(this.value)===fa(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends ox{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new cr(e,t)}matches(e){return lx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lx(r){return r.op==="and"}function cx(r){return fk(r)&&lx(r)}function fk(r){for(const e of r.filters)if(e instanceof cr)return!1;return!0}function Dg(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+Io(r.value);if(cx(r))return r.filters.map((e=>Dg(e))).join(",");{const e=r.filters.map((t=>Dg(t))).join(",");return`${r.op}(${e})`}}function ux(r,e){return r instanceof Dt?(function(i,o){return o instanceof Dt&&i.op===o.op&&i.field.isEqual(o.field)&&Vr(i.value,o.value)})(r,e):r instanceof cr?(function(i,o){return o instanceof cr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,u,f)=>c&&ux(u,o.filters[f])),!0):!1})(r,e):void Re()}function dx(r){return r instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Io(t.value)}`})(r):r instanceof cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(dx).join(" ,")+"}"})(r):"Filter"}class mk extends Dt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class gk extends Dt{constructor(e,t){super(e,"in",t),this.keys=hx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pk extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=hx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function hx(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>be.fromName(i.referenceValue)))}class yk extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xp(t)&&xc(t.arrayValue,this.value)}}class vk extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xc(this.value.arrayValue,t)}}class _k extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xc(this.value.arrayValue,t)}}class bk extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>xc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t=null,i=[],o=[],c=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=u,this.endAt=f,this.ue=null}}function Ab(r,e=null,t=[],i=[],o=null,c=null,u=null){return new Ek(r,e,t,i,o,c,u)}function Tp(r){const e=Ce(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Dg(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Io(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Io(i))).join(",")),e.ue=t}return e.ue}function Sp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!hk(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ux(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Sb(r.startAt,e.startAt)&&Sb(r.endAt,e.endAt)}function Og(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t=null,i=[],o=[],c=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=u,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wk(r,e,t,i,o,c,u,f){return new Lc(r,e,t,i,o,c,u,f)}function Eh(r){return new Lc(r)}function Rb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fx(r){return r.collectionGroup!==null}function fc(r){const e=Ce(r);if(e.ce===null){e.ce=[];const t=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new en(Jt.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.ce.push(new sh(c,i))})),t.has(Jt.keyField().canonicalString())||e.ce.push(new sh(Jt.keyField(),i))}return e.ce}function Or(r){const e=Ce(r);return e.le||(e.le=xk(e,fc(r))),e.le}function xk(r,e){if(r.limitType==="F")return Ab(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new sh(o.field,c)}));const t=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return Ab(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Pg(r,e){const t=r.filters.concat([e]);return new Lc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Mg(r,e,t){return new Lc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wh(r,e){return Sp(Or(r),Or(e))&&r.limitType===e.limitType}function mx(r){return`${Tp(Or(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>dx(o))).join(", ")}]`),bh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Io(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Io(o))).join(",")),`Target(${i})`})(Or(r))}; limitType=${r.limitType})`}function xh(r,e){return e.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):be.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(r,e)&&(function(i,o){for(const c of fc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,g){const y=Tb(u,f,g);return u.inclusive?y<=0:y<0})(i.startAt,fc(i),o)||i.endAt&&!(function(u,f,g){const y=Tb(u,f,g);return u.inclusive?y>=0:y>0})(i.endAt,fc(i),o))})(r,e)}function Tk(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gx(r){return(e,t)=>{let i=!1;for(const o of fc(r)){const c=Sk(o,e,t);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function Sk(r,e,t){const i=r.field.isKeyField()?be.comparator(e.key,t.key):(function(c,u,f){const g=u.data.field(c),y=f.data.field(c);return g!==null&&y!==null?Co(g,y):Re()})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((t,i)=>{for(const[o,c]of i)e(o,c)}))}isEmpty(){return sx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new _t(be.comparator);function Ts(){return Ak}const px=new _t(be.comparator);function lc(...r){let e=px;for(const t of r)e=e.insert(t.key,t);return e}function yx(r){let e=px;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function aa(){return mc()}function vx(){return mc()}function mc(){return new Go((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Rk=new _t(be.comparator),Nk=new en(be.comparator);function Ue(...r){let e=Nk;for(const t of r)e=e.add(t);return e}const Ck=new en(Qe);function Ik(){return Ck}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function _x(r){return{integerValue:""+r}}function bx(r,e){return ok(e)?_x(e):Ap(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function kk(r,e,t){return r instanceof Tc?(function(o,c){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ep(c)&&(c=wp(c)),c&&(u.fields.__previous_value__=c),{mapValue:u}})(t,e):r instanceof Sc?wx(r,e):r instanceof Ac?xx(r,e):(function(o,c){const u=Ex(o,c),f=Nb(u)+Nb(o.Pe);return kg(u)&&kg(o.Pe)?_x(f):Ap(o.serializer,f)})(r,e)}function Dk(r,e,t){return r instanceof Sc?wx(r,e):r instanceof Ac?xx(r,e):t}function Ex(r,e){return r instanceof Rc?(function(i){return kg(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Tc extends Th{}class Sc extends Th{constructor(e){super(),this.elements=e}}function wx(r,e){const t=Tx(e);for(const i of r.elements)t.some((o=>Vr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Ac extends Th{constructor(e){super(),this.elements=e}}function xx(r,e){let t=Tx(e);for(const i of r.elements)t=t.filter((o=>!Vr(o,i)));return{arrayValue:{values:t}}}class Rc extends Th{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Nb(r){return At(r.integerValue||r.doubleValue)}function Tx(r){return xp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.field=e,this.transform=t}}function Ok(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof Sc&&o instanceof Sc||i instanceof Ac&&o instanceof Ac?No(i.elements,o.elements,Vr):i instanceof Rc&&o instanceof Rc?Vr(i.Pe,o.Pe):i instanceof Tc&&o instanceof Tc})(r.transform,e.transform)}class Pk{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function Ax(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Nx(r.key,or.none()):new Uc(r.key,r.data,or.none());{const t=r.data,i=xn.empty();let o=new en(Jt.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?i.delete(c):i.set(c,u),o=o.add(c)}return new _i(r.key,i,new Vn(o.toArray()),or.none())}}function Mk(r,e,t){r instanceof Uc?(function(o,c,u){const f=o.value.clone(),g=Ib(o.fieldTransforms,c,u.transformResults);f.setAll(g),c.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(r,e,t):r instanceof _i?(function(o,c,u){if(!zd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const f=Ib(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(Rx(o)),g.setAll(f),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(r,e,t):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function gc(r,e,t,i){return r instanceof Uc?(function(c,u,f,g){if(!zd(c.precondition,u))return f;const y=c.value.clone(),_=kb(c.fieldTransforms,g,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(r,e,t,i):r instanceof _i?(function(c,u,f,g){if(!zd(c.precondition,u))return f;const y=kb(c.fieldTransforms,g,u),_=u.data;return _.setAll(Rx(c)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,t,i):(function(c,u,f){return zd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(r,e,t)}function jk(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),c=Ex(i.transform,o||null);c!=null&&(t===null&&(t=xn.empty()),t.set(i.field,c))}return t||null}function Cb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&No(i,o,((c,u)=>Ok(c,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Uc extends Sh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _i extends Sh{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Rx(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function Ib(r,e,t){const i=new Map;st(r.length===t.length);for(let o=0;o<t.length;o++){const c=r[o],u=c.transform,f=e.data.field(c.field);i.set(c.field,Dk(u,f,t[o]))}return i}function kb(r,e,t){const i=new Map;for(const o of r){const c=o.transform,u=t.data.field(o.field);i.set(o.field,kk(c,u,e))}return i}class Nx extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vk extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Mk(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=gc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=gc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=vx();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let f=this.applyToLocalView(u,c.mutatedFields);f=t.has(o.key)?null:f;const g=Ax(u,f);g!==null&&i.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((t,i)=>Cb(t,i)))&&No(this.baseMutations,e.baseMutations,((t,i)=>Cb(t,i)))}}class Rp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){st(e.mutations.length===i.length);let o=(function(){return Rk})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,i[u].version);return new Rp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uk=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,He;function Bk(r){switch(r){default:return Re();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function Cx(r){if(r===void 0)return xs("GRPC error has no .code"),le.UNKNOWN;switch(r){case kt.OK:return le.OK;case kt.CANCELLED:return le.CANCELLED;case kt.UNKNOWN:return le.UNKNOWN;case kt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case kt.INTERNAL:return le.INTERNAL;case kt.UNAVAILABLE:return le.UNAVAILABLE;case kt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case kt.NOT_FOUND:return le.NOT_FOUND;case kt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case kt.ABORTED:return le.ABORTED;case kt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case kt.DATA_LOSS:return le.DATA_LOSS;default:return Re()}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=new la([4294967295,4294967295],0);function Db(r){const e=Fk().encode(r),t=new Xw;return t.update(e),new Uint8Array(t.digest())}function Ob(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new la([t,i],0),new la([o,c],0)]}class Np{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new cc(`Invalid padding: ${t}`);if(i<0)throw new cc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new cc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=la.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(la.fromNumber(i)));return o.compare(qk)===1&&(o=new la([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Db(e),[i,o]=Ob(t);for(let c=0;c<this.hashCount;c++){const u=this.Ee(i,o,c);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Np(c,o,t);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.Ie===0)return;const t=Db(e),[i,o]=Ob(t);for(let c=0;c<this.hashCount;c++){const u=this.Ee(i,o,c);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ah(Ne.min(),o,new _t(Qe),Ts(),Ue())}}class zc{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new zc(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Ix{constructor(e,t){this.targetId=e,this.me=t}}class kx{constructor(e,t,i=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Pb{constructor(){this.fe=0,this.ge=jb(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),t=Ue(),i=Ue();return this.ge.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Re()}})),new zc(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=jb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hk{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ts(),this.qe=Mb(),this.Qe=new _t(Qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Re()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const c=o.target;if(Og(c))if(i===0){const u=new be(c.path);this.Ue(t,u,un.newNoDocument(u,Ne.min()))}else st(i===1);else{const u=this.Ye(t);if(u!==i){const f=this.Ze(e),g=f?this.Xe(f,e,u):1;if(g!==0){this.je(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,y)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let u,f;try{u=ha(i).toUint8Array()}catch(g){if(g instanceof ix)return Ro("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Np(u,o,c)}catch(g){return Ro(g instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ie===0?null:f}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((c=>{const u=this.Le.tt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,c,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((c,u)=>{const f=this.Je(u);if(f){if(c.current&&Og(f.target)){const g=new be(f.target.path);this.ke.get(g)!==null||this.it(u,g)||this.Ue(u,g,un.newNoDocument(g,e))}c.be&&(t.set(u,c.ve()),c.Ce())}}));let i=Ue();this.qe.forEach(((c,u)=>{let f=!0;u.forEachWhile((g=>{const y=this.Je(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(c))})),this.ke.forEach(((c,u)=>u.setReadTime(e)));const o=new Ah(e,t,this.Qe,this.ke,i);return this.ke=Ts(),this.qe=Mb(),this.Qe=new _t(Qe),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Pb,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new en(Qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Pb),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Mb(){return new _t(be.comparator)}function jb(){return new _t(be.comparator)}const Gk={asc:"ASCENDING",desc:"DESCENDING"},$k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kk={and:"AND",or:"OR"};class Yk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jg(r,e){return r.useProto3Json||bh(e)?e:{value:e}}function ih(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Qk(r,e){return ih(r,e.toTimestamp())}function Pr(r){return st(!!r),Ne.fromTimestamp((function(t){const i=gi(t);return new Ut(i.seconds,i.nanos)})(r))}function Cp(r,e){return Vg(r,e).canonicalString()}function Vg(r,e){const t=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Ox(r){const e=ht.fromString(r);return st(Lx(e)),e}function Lg(r,e){return Cp(r.databaseId,e.path)}function rg(r,e){const t=Ox(e);if(t.get(1)!==r.databaseId.projectId)throw new fe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new fe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new be(Mx(t))}function Px(r,e){return Cp(r.databaseId,e)}function Xk(r){const e=Ox(r);return e.length===4?ht.emptyPath():Mx(e)}function Ug(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Mx(r){return st(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Vb(r,e,t){return{name:Lg(r,e),fields:t.value.mapValue.fields}}function Wk(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(st(_===void 0||typeof _=="string"),nn.fromBase64String(_||"")):(st(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),nn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(y){const _=y.code===void 0?le.UNKNOWN:Cx(y.code);return new fe(_,y.message||"")})(u);t=new kx(i,o,c,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=rg(r,i.document.name),c=Pr(i.document.updateTime),u=i.document.createTime?Pr(i.document.createTime):Ne.min(),f=new xn({mapValue:{fields:i.document.fields}}),g=un.newFoundDocument(o,c,u,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Bd(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=rg(r,i.document),c=i.readTime?Pr(i.readTime):Ne.min(),u=un.newNoDocument(o,c),f=i.removedTargetIds||[];t=new Bd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=rg(r,i.document),c=i.removedTargetIds||[];t=new Bd([],c,o,null)}else{if(!("filter"in e))return Re();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,u=new zk(o,c),f=i.targetId;t=new Ix(f,u)}}return t}function Zk(r,e){let t;if(e instanceof Uc)t={update:Vb(r,e.key,e.value)};else if(e instanceof Nx)t={delete:Lg(r,e.key)};else if(e instanceof _i)t={update:Vb(r,e.key,e.data),updateMask:oD(e.fieldMask)};else{if(!(e instanceof Vk))return Re();t={verify:Lg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(c,u){const f=u.transform;if(f instanceof Tc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Sc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ac)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Rc)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Re()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Qk(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re()})(r,e.precondition)),t}function Jk(r,e){return r&&r.length>0?(st(e!==void 0),r.map((t=>(function(o,c){let u=o.updateTime?Pr(o.updateTime):Pr(c);return u.isEqual(Ne.min())&&(u=Pr(c)),new Pk(u,o.transformResults||[])})(t,e)))):[]}function eD(r,e){return{documents:[Px(r,e.path)]}}function tD(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Px(r,o);const c=(function(y){if(y.length!==0)return Vx(cr.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((_=>(function(x){return{field:yo(x.field),direction:sD(x.dir)}})(_)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=jg(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{_t:t,parent:o}}function nD(r){let e=Xk(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){st(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];t.where&&(c=(function(w){const x=jx(w);return x instanceof cr&&cx(x)?x.getFilters():[x]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((x=>(function(V){return new sh(vo(V.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(x)))})(t.orderBy));let f=null;t.limit&&(f=(function(w){let x;return x=typeof w=="object"?w.value:w,bh(x)?null:x})(t.limit));let g=null;t.startAt&&(g=(function(w){const x=!!w.before,I=w.values||[];return new rh(I,x)})(t.startAt));let y=null;return t.endAt&&(y=(function(w){const x=!w.before,I=w.values||[];return new rh(I,x)})(t.endAt)),wk(e,o,u,c,f,"F",g,y)}function rD(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jx(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=vo(t.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=vo(t.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=vo(t.unaryFilter.field);return Dt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Re()}})(r):r.fieldFilter!==void 0?(function(t){return Dt.create(vo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return cr.create(t.compositeFilter.filters.map((i=>jx(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re()}})(t.compositeFilter.op))})(r):Re()}function sD(r){return Gk[r]}function iD(r){return $k[r]}function aD(r){return Kk[r]}function yo(r){return{fieldPath:r.canonicalString()}}function vo(r){return Jt.fromServerFormat(r.fieldPath)}function Vx(r){return r instanceof Dt?(function(t){if(t.op==="=="){if(xb(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NAN"}};if(wb(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xb(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NAN"}};if(wb(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(t.field),op:iD(t.op),value:t.value}}})(r):r instanceof cr?(function(t){const i=t.getFilters().map((o=>Vx(o)));return i.length===1?i[0]:{compositeFilter:{op:aD(t.op),filters:i}}})(r):Re()}function oD(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Lx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t,i,o,c=Ne.min(),u=Ne.min(),f=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.ct=e}}function cD(r){const e=nD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.un=new dD}addToCollectionParentIndex(e,t){return this.un.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(mi.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class dD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new en(ht.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new en(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ko(0)}static kn(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.changes=new Go((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&gc(i.mutation,o,Vn.empty(),Ut.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ue()){const o=aa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((c=>{let u=lc();return c.forEach(((f,g)=>{u=u.insert(f,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=aa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ue())))}populateOverlays(e,t,i){const o=[];return i.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,f)=>{t.set(u,f)}))}))}computeViews(e,t,i,o){let c=Ts();const u=mc(),f=(function(){return mc()})();return t.forEach(((g,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof _i)?c=c.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),gc(_.mutation,y,_.mutation.getFieldMask(),Ut.now())):u.set(y.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>u.set(y,_))),t.forEach(((y,_)=>{var w;return f.set(y,new fD(_,(w=u.get(y))!==null&&w!==void 0?w:null))})),f)))}recalculateAndSaveOverlays(e,t){const i=mc();let o=new _t(((u,f)=>u-f)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const f of u)f.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let _=i.get(g)||Vn.empty();_=f.applyToLocalView(y,_),i.set(g,_);const w=(o.get(f.batchId)||Ue()).add(g);o=o.insert(f.batchId,w)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,_=g.value,w=vx();_.forEach((x=>{if(!c.has(x)){const I=Ax(t.get(x),i.get(x));I!==null&&w.set(x,I),c=c.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ce.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):ce.resolve(aa());let f=-1,g=c;return u.next((y=>ce.forEach(y,((_,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),c.get(_)?ce.resolve():this.remoteDocumentCache.getEntry(e,_).next((x=>{g=g.insert(_,x)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ue()))).next((_=>({batchId:f,changes:yx(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((i=>{let o=lc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let u=lc();return this.indexManager.getCollectionParents(e,c).next((f=>ce.forEach(f,(g=>{const y=(function(w,x){return new Lc(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((_=>{_.forEach(((w,x)=>{u=u.insert(w,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o)))).next((u=>{c.forEach(((g,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,un.newInvalidDocument(_)))}));let f=lc();return u.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&gc(_.mutation,y,Vn.empty(),Ut.now()),xh(t,y)&&(f=f.insert(g,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ce.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Pr(o.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:cD(o.bundledQuery),readTime:Pr(o.readTime)}})(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.overlays=new _t(be.comparator),this.Ir=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=aa();return ce.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,c)=>{this.ht(e,t,c)})),ce.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const o=aa(),c=t.length+1,u=new be(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new _t(((y,_)=>y-_));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=c.get(y.largestBatchId);_===null&&(_=aa(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=aa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>f.set(y,_))),!(f.size()>=o)););return ce.resolve(f)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Uk(t,i));let c=this.Ir.get(t);c===void 0&&(c=Ue(),this.Ir.set(t,c)),this.Ir.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.Tr=new en(Gt.Er),this.dr=new en(Gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Gt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Gt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new be(new ht([])),i=new Gt(t,e),o=new Gt(t,e+1),c=[];return this.dr.forEachInRange([i,o],(u=>{this.Vr(u),c.push(u.key)})),c}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new be(new ht([])),i=new Gt(t,e),o=new Gt(t,e+1);let c=Ue();return this.dr.forEachInRange([i,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const t=new Gt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return be.comparator(e.key,t.key)||Qe(e.wr,t.wr)}static Ar(e,t){return Qe(e.wr,t.wr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new en(Gt.Er)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Lk(c,t,i,o);this.mutationQueue.push(u);for(const f of o)this.br=this.br.add(new Gt(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),c=o<0?0:o;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([i,o],(u=>{const f=this.Dr(u.wr);c.push(f)})),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en(Qe);return t.forEach((o=>{const c=new Gt(o,0),u=new Gt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,u],(f=>{i=i.add(f.wr)}))})),ce.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;be.isDocumentKey(c)||(c=c.child(""));const u=new Gt(new be(c),0);let f=new en(Qe);return this.br.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(g.wr)),!0)}),u),ce.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){st(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ce.forEach(t.mutations,(o=>{const c=new Gt(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Gt(t,0),o=this.br.firstAfterOrEqual(i);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.Mr=e,this.docs=(function(){return new _t(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,u=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let i=Ts();return t.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():un.newInvalidDocument(o))})),ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=Ts();const u=t.path,f=new be(u.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||rk(nk(_),i)<=0||(o.has(_.key)||xh(t,_))&&(c=c.insert(_.key,_.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(e,t,i,o){Re()}Or(e,t){return ce.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new bD(this)}getSize(e){return ce.resolve(this.size)}}class bD extends hD{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),ce.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.persistence=e,this.Nr=new Go((t=>Tp(t)),Sp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ip,this.targetCount=0,this.kr=ko.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Kn(t),ce.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.Nr.forEach(((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Nr.delete(u),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),ce.waitFor(c).next((()=>o))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ce.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.qr={},this.overlays={},this.Qr=new bp(0),this.Kr=!1,this.Kr=!0,this.$r=new yD,this.referenceDelegate=e(this),this.Ur=new ED(this),this.indexManager=new uD,this.remoteDocumentCache=(function(o){return new _D(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new lD(t),this.Gr=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new vD(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const o=new xD(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((c=>this.referenceDelegate.jr(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Hr(e,t){return ce.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class xD extends ik{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Jr=new Ip,this.Yr=null}static Zr(e){return new kp(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.Xr.add(c.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,(i=>{const o=be.fromPath(i);return this.ei(e,o).next((c=>{c||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ce.or([()=>ce.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Ue(),o=Ue();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Dp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return RN()?8:ak(hn())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.Yi(e,t).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.Zi(e,t,o,i).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new TD;return this.Xi(e,t,u).next((f=>{if(c.result=f,this.zi)return this.es(e,t,u,f.size)}))})).next((()=>c.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(ac()<=ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(ac()<=ze.DEBUG&&ye("QueryEngine","Query:",po(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(ac()<=ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(t))):ce.resolve())}Yi(e,t){if(Rb(t))return ce.resolve(null);let i=Or(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Mg(t,null,"F"),i=Or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const u=Ue(...c);return this.Ji.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.ts(t,f);return this.ns(t,y,u,g.readTime)?this.Yi(e,Mg(t,null,"F")):this.rs(e,y,t,g)}))))})))))}Zi(e,t,i,o){return Rb(t)||o.isEqual(Ne.min())?ce.resolve(null):this.Ji.getDocuments(e,i).next((c=>{const u=this.ts(t,c);return this.ns(t,u,i,o)?ce.resolve(null):(ac()<=ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.rs(e,u,t,tk(o,-1)).next((f=>f)))}))}ts(e,t){let i=new en(gx(e));return t.forEach(((o,c)=>{xh(e,c)&&(i=i.add(c))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Xi(e,t,i){return ac()<=ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",po(t)),this.Ji.getDocumentsMatchingQuery(e,t,mi.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((c=>(t.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new _t(Qe),this._s=new Go((c=>Tp(c)),Sp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function RD(r,e,t,i){return new AD(r,e,t,i)}async function Ux(r,e){const t=Ce(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((c=>{const u=[],f=[];let g=Ue();for(const y of o){u.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){f.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(i,g).next((y=>({hs:y,removedBatchIds:u,addedBatchIds:f})))}))}))}function ND(r,e){const t=Ce(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),c=t.cs.newChangeBuffer({trackRemovals:!0});return(function(f,g,y,_){const w=y.batch,x=w.keys();let I=ce.resolve();return x.forEach((V=>{I=I.next((()=>_.getEntry(g,V))).next((C=>{const k=y.docVersions.get(V);st(k!==null),C.version.compareTo(k)<0&&(w.applyToRemoteDocument(C,y),C.isValidDocument()&&(C.setReadTime(y.commitVersion),_.addEntry(C)))}))})),I.next((()=>f.mutationQueue.removeMutationBatch(g,w)))})(t,i,e,c).next((()=>c.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let g=Ue();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function zx(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function CD(r,e){const t=Ce(r),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const f=[];e.targetChanges.forEach(((_,w)=>{const x=o.get(w);if(!x)return;f.push(t.Ur.removeMatchingKeys(c,_.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(c,_.addedDocuments,w))));let I=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,i)),o=o.insert(w,I),(function(C,k,L){return C.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(x,I,_)&&f.push(t.Ur.updateTargetData(c,I))}));let g=Ts(),y=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,_))})),f.push(ID(c,u,e.documentUpdates).next((_=>{g=_.Ps,y=_.Is}))),!i.isEqual(Ne.min())){const _=t.Ur.getLastRemoteSnapshotVersion(c).next((w=>t.Ur.setTargetsMetadata(c,c.currentSequenceNumber,i)));f.push(_)}return ce.waitFor(f).next((()=>u.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(t.os=o,c)))}function ID(r,e,t){let i=Ue(),o=Ue();return t.forEach((c=>i=i.add(c))),e.getEntries(r,i).next((c=>{let u=Ts();return t.forEach(((f,g)=>{const y=c.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ne.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):ye("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)})),{Ps:u,Is:o}}))}function kD(r,e){const t=Ce(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function DD(r,e){const t=Ce(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((c=>c?(o=c,ce.resolve(o)):t.Ur.allocateTargetId(i).next((u=>(o=new oi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function zg(r,e,t){const i=Ce(r),o=i.os.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Vc(u))throw u;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function Lb(r,e,t){const i=Ce(r);let o=Ne.min(),c=Ue();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,y,_){const w=Ce(g),x=w._s.get(_);return x!==void 0?ce.resolve(w.os.get(x)):w.Ur.getTargetData(y,_)})(i,u,Or(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,f.targetId).next((g=>{c=g}))})).next((()=>i.ss.getDocumentsMatchingQuery(u,e,t?o:Ne.min(),t?c:Ue()))).next((f=>(OD(i,Tk(e),f),{documents:f,Ts:c})))))}function OD(r,e,t){let i=r.us.get(e)||Ne.min();t.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),r.us.set(e,i)}class Ub{constructor(){this.activeTargetIds=Ik()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PD{constructor(){this.so=new Ub,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ub,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function sg(){return Ad===null?Ad=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class LD extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get Fo(){return!1}Mo(t,i,o,c,u){const f=sg(),g=this.xo(t,i.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${f}:`,g,o);const y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(y,c,u),this.No(t,g,y,o).then((_=>(ye("RestConnection",`Received RPC '${t}' ${f}: `,_),_)),(_=>{throw Ro("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",g,"request:",o),_}))}Lo(t,i,o,c,u,f){return this.Mo(t,i,o,c,u)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((c,u)=>t[u]=c)),o&&o.headers.forEach(((c,u)=>t[u]=c))}xo(t,i){const o=jD[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const c=sg();return new Promise(((u,f)=>{const g=new Ww;g.setWithCredentials(!0),g.listenOnce(Zw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ld.NO_ERROR:const _=g.getResponseJson();ye(ln,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),u(_);break;case Ld.TIMEOUT:ye(ln,`RPC '${e}' ${c} timed out`),f(new fe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:const w=g.getStatus();if(ye(ln,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const I=x==null?void 0:x.error;if(I&&I.status&&I.message){const V=(function(k){const L=k.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(L)>=0?L:le.UNKNOWN})(I.status);f(new fe(V,I.message))}else f(new fe(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new fe(le.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ye(ln,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(o);ye(ln,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",y,i,15)}))}Bo(e,t,i){const o=sg(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=tx(),f=ex(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const _=c.join("");ye(ln,`Creating RPC '${e}' stream ${o}: ${_}`,g);const w=u.createWebChannel(_,g);let x=!1,I=!1;const V=new VD({Io:k=>{I?ye(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(x||(ye(ln,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),ye(ln,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},To:()=>w.close()}),C=(k,L,K)=>{k.listen(L,(z=>{try{K(z)}catch(X){setTimeout((()=>{throw X}),0)}}))};return C(w,oc.EventType.OPEN,(()=>{I||(ye(ln,`RPC '${e}' stream ${o} transport opened.`),V.yo())})),C(w,oc.EventType.CLOSE,(()=>{I||(I=!0,ye(ln,`RPC '${e}' stream ${o} transport closed`),V.So())})),C(w,oc.EventType.ERROR,(k=>{I||(I=!0,Ro(ln,`RPC '${e}' stream ${o} transport errored:`,k),V.So(new fe(le.UNAVAILABLE,"The operation could not be completed")))})),C(w,oc.EventType.MESSAGE,(k=>{var L;if(!I){const K=k.data[0];st(!!K);const z=K,X=z.error||((L=z[0])===null||L===void 0?void 0:L.error);if(X){ye(ln,`RPC '${e}' stream ${o} received error:`,X);const Y=X.status;let se=(function(N){const M=kt[N];if(M!==void 0)return Cx(M)})(Y),D=X.message;se===void 0&&(se=le.INTERNAL,D="Unknown error status: "+Y+" with message "+X.message),I=!0,V.So(new fe(se,D)),w.close()}else ye(ln,`RPC '${e}' stream ${o} received:`,K),V.bo(K)}})),C(f,Jw.STAT_EVENT,(k=>{k.stat===Cg.PROXY?ye(ln,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Cg.NOPROXY&&ye(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.wo()}),0),V}}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r){return new Yk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t,i=1e3,o=1.5,c=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t,i,o,c,u,f,g){this.ui=e,this.Ho=i,this.Jo=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bx(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(xs(t.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new fe(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UD extends Fx{constructor(e,t,i,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=c}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=Wk(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Ne.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?Pr(u.readTime):Ne.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=Ug(this.serializer),t.addTarget=(function(c,u){let f;const g=u.target;if(f=Og(g)?{documents:eD(c,g)}:{query:tD(c,g)._t},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Dx(c,u.resumeToken);const y=jg(c,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ne.min())>0){f.readTime=ih(c,u.snapshotVersion.toTimestamp());const y=jg(c,u.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=rD(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=Ug(this.serializer),t.removeTarget=e,this.a_(t)}}class zD extends Fx{constructor(e,t,i,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=Jk(e.writeResults,e.commitTime),i=Pr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=Ug(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Zk(this.serializer,i)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new fe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Mo(e,Vg(t,i),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(le.UNKNOWN,c.toString())}))}Lo(e,t,i,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Lo(e,Vg(t,i),o,u,f,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(le.UNKNOWN,u.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class FD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xs(t),this.D_=!1):ye("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,t,i,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((u=>{i.enqueueAndForget((async()=>{ya(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const y=Ce(g);y.L_.add(4),await Bc(y),y.q_.set("Unknown"),y.L_.delete(4),await Nh(y)})(this))}))})),this.q_=new FD(i,o)}}async function Nh(r){if(ya(r))for(const e of r.B_)await e(!0)}async function Bc(r){for(const e of r.B_)await e(!1)}function qx(r,e){const t=Ce(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),jp(t)?Mp(t):$o(t).r_()&&Pp(t,e))}function Op(r,e){const t=Ce(r),i=$o(t);t.N_.delete(e),i.r_()&&Hx(t,e),t.N_.size===0&&(i.r_()?i.o_():ya(t)&&t.q_.set("Unknown"))}function Pp(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(r).A_(e)}function Hx(r,e){r.Q_.xe(e),$o(r).R_(e)}function Mp(r){r.Q_=new Hk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.q_.v_()}function jp(r){return ya(r)&&!$o(r).n_()&&r.N_.size>0}function ya(r){return Ce(r).L_.size===0}function Gx(r){r.Q_=void 0}async function HD(r){r.q_.set("Online")}async function GD(r){r.N_.forEach(((e,t)=>{Pp(r,e)}))}async function $D(r,e){Gx(r),jp(r)?(r.q_.M_(e),Mp(r)):r.q_.set("Unknown")}async function KD(r,e,t){if(r.q_.set("Online"),e instanceof kx&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const f of c.targetIds)o.N_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.N_.delete(f),o.Q_.removeTarget(f))})(r,e)}catch(i){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ah(r,i)}else if(e instanceof Bd?r.Q_.Ke(e):e instanceof Ix?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ne.min()))try{const i=await zx(r.localStore);t.compareTo(i)>=0&&await(function(c,u){const f=c.Q_.rt(u);return f.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.N_.get(y);_&&c.N_.set(y,_.withResumeToken(g.resumeToken,u))}})),f.targetMismatches.forEach(((g,y)=>{const _=c.N_.get(g);if(!_)return;c.N_.set(g,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),Hx(c,g);const w=new oi(_.target,g,y,_.sequenceNumber);Pp(c,w)})),c.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){ye("RemoteStore","Failed to raise snapshot:",i),await ah(r,i)}}async function ah(r,e,t){if(!Vc(e))throw e;r.L_.add(1),await Bc(r),r.q_.set("Offline"),t||(t=()=>zx(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ye("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await Nh(r)}))}function $x(r,e){return e().catch((t=>ah(r,t,e)))}async function Ch(r){const e=Ce(r),t=pi(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;YD(e);)try{const o=await kD(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,QD(e,o)}catch(o){await ah(e,o)}Kx(e)&&Yx(e)}function YD(r){return ya(r)&&r.O_.length<10}function QD(r,e){r.O_.push(e);const t=pi(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Kx(r){return ya(r)&&!pi(r).n_()&&r.O_.length>0}function Yx(r){pi(r).start()}async function XD(r){pi(r).p_()}async function WD(r){const e=pi(r);for(const t of r.O_)e.m_(t.mutations)}async function ZD(r,e,t){const i=r.O_.shift(),o=Rp.from(i,e,t);await $x(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ch(r)}async function JD(r,e){e&&pi(r).V_&&await(async function(i,o){if((function(u){return Bk(u)&&u!==le.ABORTED})(o.code)){const c=i.O_.shift();pi(i).s_(),await $x(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(i)}})(r,e),Kx(r)&&Yx(r)}async function Bb(r,e){const t=Ce(r);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const i=ya(t);t.L_.add(3),await Bc(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Nh(t)}async function eO(r,e){const t=Ce(r);e?(t.L_.delete(2),await Nh(t)):e||(t.L_.add(2),await Bc(t),t.q_.set("Unknown"))}function $o(r){return r.K_||(r.K_=(function(t,i,o){const c=Ce(t);return c.w_(),new UD(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Eo:HD.bind(null,r),Ro:GD.bind(null,r),mo:$D.bind(null,r),d_:KD.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),jp(r)?Mp(r):r.q_.set("Unknown")):(await r.K_.stop(),Gx(r))}))),r.K_}function pi(r){return r.U_||(r.U_=(function(t,i,o){const c=Ce(t);return c.w_(),new zD(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:XD.bind(null,r),mo:JD.bind(null,r),f_:WD.bind(null,r),g_:ZD.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await Ch(r)):(await r.U_.stop(),r.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const u=Date.now()+i,f=new Vp(e,t,u,o,c);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(r,e){if(xs("AsyncQueue",`${e}: ${r}`),Vc(r))return new fe(le.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=lc(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new xo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new xo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.W_=new _t(be.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Do{constructor(e,t,i,o,c,u,f,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,c){const u=[];return t.forEach((f=>{u.push({type:0,doc:f})})),new Do(e,t,xo.emptySet(t),u,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class nO{constructor(){this.queries=qb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Ce(t),c=o.queries;o.queries=qb(),c.forEach(((u,f)=>{for(const g of f.j_)g.onError(i)}))})(this,new fe(le.ABORTED,"Firestore shutting down"))}}function qb(){return new Go((r=>mx(r)),wh)}async function Up(r,e){const t=Ce(r);let i=3;const o=e.query;let c=t.queries.get(o);c?!c.H_()&&e.J_()&&(i=2):(c=new tO,i=e.J_()?0:1);try{switch(i){case 0:c.z_=await t.onListen(o,!0);break;case 1:c.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Lp(u,`Initialization of query '${po(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,c),c.j_.push(e),e.Z_(t.onlineState),c.z_&&e.X_(c.z_)&&Bp(t)}async function zp(r,e){const t=Ce(r),i=e.query;let o=3;const c=t.queries.get(i);if(c){const u=c.j_.indexOf(e);u>=0&&(c.j_.splice(u,1),c.j_.length===0?o=e.J_()?0:1:!c.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function rO(r,e){const t=Ce(r);let i=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const f of u.j_)f.X_(o)&&(i=!0);u.z_=o}}i&&Bp(t)}function sO(r,e,t){const i=Ce(r),o=i.queries.get(e);if(o)for(const c of o.j_)c.onError(t);i.queries.delete(e)}function Bp(r){r.Y_.forEach((e=>{e.next()}))}var Bg,Hb;(Hb=Bg||(Bg={})).ea="default",Hb.Cache="cache";class Fp{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Do(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.key=e}}class Xx{constructor(e){this.key=e}}class iO{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=gx(e),this.Ra=new xo(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new Fb,o=t?t.Ra:this.Ra;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const x=o.get(_),I=xh(this.query,w)?w:null,V=!!x&&this.mutatedKeys.has(x.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;x&&I?x.data.isEqual(I.data)?V!==C&&(i.track({type:3,doc:I}),k=!0):this.ga(x,I)||(i.track({type:2,doc:I}),k=!0,(g&&this.Aa(I,g)>0||y&&this.Aa(I,y)<0)&&(f=!0)):!x&&I?(i.track({type:0,doc:I}),k=!0):x&&!I&&(i.track({type:1,doc:x}),k=!0,(g||y)&&(f=!0)),k&&(I?(u=u.add(I),c=C?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),i.track({type:1,doc:_})}return{Ra:u,fa:i,ns:f,mutatedKeys:c}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort(((_,w)=>(function(I,V){const C=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return C(I)-C(V)})(_.type,w.type)||this.Aa(_.doc,w.doc))),this.pa(i),o=o!=null&&o;const f=t&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,y=g!==this.Ea;return this.Ea=g,u.length!==0||y?{snapshot:new Do(this.query,e.Ra,c,u,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new Xx(i))})),this.da.forEach((i=>{e.has(i)||t.push(new Qx(i))})),t}ba(e){this.Ta=e.Ts,this.da=Ue();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Do.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class aO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class oO{constructor(e){this.key=e,this.va=!1}}class lO{constructor(e,t,i,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Go((f=>mx(f)),wh),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(be.comparator),this.Na=new Map,this.La=new Ip,this.Ba={},this.ka=new Map,this.qa=ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function cO(r,e,t=!0){const i=nT(r);let o;const c=i.Fa.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Da()):o=await Wx(i,e,t,!0),o}async function uO(r,e){const t=nT(r);await Wx(t,e,!0,!1)}async function Wx(r,e,t,i){const o=await DD(r.localStore,Or(e)),c=o.targetId,u=r.sharedClientState.addLocalQueryTarget(c,t);let f;return i&&(f=await dO(r,e,c,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&qx(r.remoteStore,o),f}async function dO(r,e,t,i,o){r.Ka=(w,x,I)=>(async function(C,k,L,K){let z=k.view.ma(L);z.ns&&(z=await Lb(C.localStore,k.query,!1).then((({documents:D})=>k.view.ma(D,z))));const X=K&&K.targetChanges.get(k.targetId),Y=K&&K.targetMismatches.get(k.targetId)!=null,se=k.view.applyChanges(z,C.isPrimaryClient,X,Y);return $b(C,k.targetId,se.wa),se.snapshot})(r,w,x,I);const c=await Lb(r.localStore,e,!0),u=new iO(e,c.Ts),f=u.ma(c.documents),g=zc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=u.applyChanges(f,r.isPrimaryClient,g);$b(r,t,y.wa);const _=new aO(e,t,u);return r.Fa.set(e,_),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),y.snapshot}async function hO(r,e,t){const i=Ce(r),o=i.Fa.get(e),c=i.Ma.get(o.targetId);if(c.length>1)return i.Ma.set(o.targetId,c.filter((u=>!wh(u,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await zg(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Op(i.remoteStore,o.targetId),Fg(i,o.targetId)})).catch(jc)):(Fg(i,o.targetId),await zg(i.localStore,o.targetId,!0))}async function fO(r,e){const t=Ce(r),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Op(t.remoteStore,i.targetId))}async function mO(r,e,t){const i=EO(r);try{const o=await(function(u,f){const g=Ce(u),y=Ut.now(),_=f.reduce(((I,V)=>I.add(V.key)),Ue());let w,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let V=Ts(),C=Ue();return g.cs.getEntries(I,_).next((k=>{V=k,V.forEach(((L,K)=>{K.isValidDocument()||(C=C.add(L))}))})).next((()=>g.localDocuments.getOverlayedDocuments(I,V))).next((k=>{w=k;const L=[];for(const K of f){const z=jk(K,w.get(K.key).overlayedDocument);z!=null&&L.push(new _i(K.key,z,ax(z.value.mapValue),or.exists(!0)))}return g.mutationQueue.addMutationBatch(I,y,L,f)})).next((k=>{x=k;const L=k.applyToLocalDocumentSet(w,C);return g.documentOverlayCache.saveOverlays(I,k.batchId,L)}))})).then((()=>({batchId:x.batchId,changes:yx(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,g){let y=u.Ba[u.currentUser.toKey()];y||(y=new _t(Qe)),y=y.insert(f,g),u.Ba[u.currentUser.toKey()]=y})(i,o.batchId,t),await Fc(i,o.changes),await Ch(i.remoteStore)}catch(o){const c=Lp(o,"Failed to persist write");t.reject(c)}}async function Zx(r,e){const t=Ce(r);try{const i=await CD(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=t.Na.get(c);u&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.va=!0:o.modifiedDocuments.size>0?st(u.va):o.removedDocuments.size>0&&(st(u.va),u.va=!1))})),await Fc(t,i,e)}catch(i){await jc(i)}}function Gb(r,e,t){const i=Ce(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((c,u)=>{const f=u.view.Z_(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const g=Ce(u);g.onlineState=f;let y=!1;g.queries.forEach(((_,w)=>{for(const x of w.j_)x.Z_(f)&&(y=!0)})),y&&Bp(g)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function gO(r,e,t){const i=Ce(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),c=o&&o.key;if(c){let u=new _t(be.comparator);u=u.insert(c,un.newNoDocument(c,Ne.min()));const f=Ue().add(c),g=new Ah(Ne.min(),new Map,new _t(Qe),u,f);await Zx(i,g),i.Oa=i.Oa.remove(c),i.Na.delete(e),qp(i)}else await zg(i.localStore,e,!1).then((()=>Fg(i,e,t))).catch(jc)}async function pO(r,e){const t=Ce(r),i=e.batch.batchId;try{const o=await ND(t.localStore,e);eT(t,i,null),Jx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Fc(t,o)}catch(o){await jc(o)}}async function yO(r,e,t){const i=Ce(r);try{const o=await(function(u,f){const g=Ce(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,f).next((w=>(st(w!==null),_=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);eT(i,e,t),Jx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Fc(i,o)}catch(o){await jc(o)}}function Jx(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function eT(r,e,t){const i=Ce(r);let o=i.Ba[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function Fg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Ma.get(e))r.Fa.delete(i),t&&r.Ca.$a(i,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((i=>{r.La.containsKey(i)||tT(r,i)}))}function tT(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(Op(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),qp(r))}function $b(r,e,t){for(const i of t)i instanceof Qx?(r.La.addReference(i.key,e),vO(r,i)):i instanceof Xx?(ye("SyncEngine","Document no longer in limbo: "+i.key),r.La.removeReference(i.key,e),r.La.containsKey(i.key)||tT(r,i.key)):Re()}function vO(r,e){const t=e.key,i=t.path.canonicalString();r.Oa.get(t)||r.xa.has(i)||(ye("SyncEngine","New document in limbo: "+t),r.xa.add(i),qp(r))}function qp(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new be(ht.fromString(e)),i=r.qa.next();r.Na.set(i,new oO(t)),r.Oa=r.Oa.insert(t,i),qx(r.remoteStore,new oi(Or(Eh(t.path)),i,"TargetPurposeLimboResolution",bp.oe))}}async function Fc(r,e,t){const i=Ce(r),o=[],c=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach(((f,g)=>{u.push(i.Ka(g,e,t).then((y=>{var _;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Dp.Wi(g.targetId,y);c.push(w)}})))})),await Promise.all(u),i.Ca.d_(o),await(async function(g,y){const _=Ce(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ce.forEach(y,(x=>ce.forEach(x.$i,(I=>_.persistence.referenceDelegate.addReference(w,x.targetId,I))).next((()=>ce.forEach(x.Ui,(I=>_.persistence.referenceDelegate.removeReference(w,x.targetId,I)))))))))}catch(w){if(!Vc(w))throw w;ye("LocalStore","Failed to update sequence numbers: "+w)}for(const w of y){const x=w.targetId;if(!w.fromCache){const I=_.os.get(x),V=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(V);_.os=_.os.insert(x,C)}}})(i.localStore,c))}async function _O(r,e){const t=Ce(r);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const i=await Ux(t.localStore,e);t.currentUser=e,(function(c,u){c.ka.forEach((f=>{f.forEach((g=>{g.reject(new fe(le.CANCELLED,u))}))})),c.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fc(t,i.hs)}}function bO(r,e){const t=Ce(r),i=t.Na.get(e);if(i&&i.va)return Ue().add(i.key);{let o=Ue();const c=t.Ma.get(e);if(!c)return o;for(const u of c){const f=t.Fa.get(u);o=o.unionWith(f.view.Va)}return o}}function nT(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gO.bind(null,e),e.Ca.d_=rO.bind(null,e.eventManager),e.Ca.$a=sO.bind(null,e.eventManager),e}function EO(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yO.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return RD(this.persistence,new SD,e.initialUser,this.serializer)}Ga(e){return new wD(kp.Zr,this.serializer)}Wa(e){return new PD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class qg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Gb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_O.bind(null,this.syncEngine),await eO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nO})()}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),i=(function(c){return new LD(c)})(e.databaseInfo);return(function(c,u,f,g){return new BD(c,u,f,g)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,c,u,f){return new qD(i,o,c,u,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Gb(this.syncEngine,t,0)),(function(){return zb.D()?new zb:new MD})())}createSyncEngine(e,t){return(function(o,c,u,f,g,y,_){const w=new lO(o,c,u,f,g,y);return _&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const c=Ce(o);ye("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await Bc(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qg.provider={build:()=>new qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t,i,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=rx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async u=>{ye("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ye("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Lp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ag(r,e){r.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Ux(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Kb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await xO(r);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Bb(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>Bb(e.remoteStore,o))),r._onlineComponents=e}async function xO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await ag(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await ag(r,new oh)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await ag(r,new oh);return r._offlineComponents}async function rT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await Kb(r,r._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await Kb(r,new qg))),r._onlineComponents}function TO(r){return rT(r).then((e=>e.syncEngine))}async function lh(r){const e=await rT(r),t=e.eventManager;return t.onListen=cO.bind(null,e.syncEngine),t.onUnlisten=hO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fO.bind(null,e.syncEngine),t}function SO(r,e,t={}){const i=new vs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,u,f,g,y){const _=new Hp({next:x=>{_.Za(),u.enqueueAndForget((()=>zp(c,w)));const I=x.docs.has(f);!I&&x.fromCache?y.reject(new fe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&x.fromCache&&g&&g.source==="server"?y.reject(new fe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),w=new Fp(Eh(f.path),_,{includeMetadataChanges:!0,_a:!0});return Up(c,w)})(await lh(r),r.asyncQueue,e,t,i))),i.promise}function AO(r,e,t={}){const i=new vs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,u,f,g,y){const _=new Hp({next:x=>{_.Za(),u.enqueueAndForget((()=>zp(c,w))),x.fromCache&&g.source==="server"?y.reject(new fe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),w=new Fp(f,_,{includeMetadataChanges:!0,_a:!0});return Up(c,w)})(await lh(r),r.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r,e,t){if(!t)throw new fe(le.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function RO(r,e,t,i){if(e===!0&&i===!0)throw new fe(le.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Qb(r){if(!be.isDocumentKey(r))throw new fe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xb(r){if(be.isDocumentKey(r))throw new fe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ih(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Re()}function Ln(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ih(r);throw new fe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new fe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new fe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new fe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wb(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new $I;switch(i.type){case"firstParty":return new XI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Yb.get(t);i&&(ye("ComponentProvider","Removing Datastore"),Yb.delete(t),i.terminate())})(this),Promise.resolve()}}function NO(r,e,t,i={}){var o;const c=(r=Ln(r,kh))._getSettings(),u=`${e}:${t}`;if(c.host!=="firestore.googleapis.com"&&c.host!==u&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),i.mockUserToken){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=cn.MOCK_USER;else{f=bN(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new fe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cn(y)}r._authCredentials=new KI(new nx(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class dn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class hi extends va{constructor(e,t,i){super(e,t,Eh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new be(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function Sn(r,e,...t){if(r=$t(r),iT("collection","path",e),r instanceof kh){const i=ht.fromString(e,...t);return Xb(i),new hi(r,null,i)}{if(!(r instanceof dn||r instanceof hi))throw new fe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...t));return Xb(i),new hi(r.firestore,null,i)}}function Tn(r,e,...t){if(r=$t(r),arguments.length===1&&(e=rx.newId()),iT("doc","path",e),r instanceof kh){const i=ht.fromString(e,...t);return Qb(i),new dn(r,null,new be(i))}{if(!(r instanceof dn||r instanceof hi))throw new fe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...t));return Qb(i),new dn(r.firestore,r instanceof hi?r.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bx(this,"async_queue_retry"),this.Vu=()=>{const i=ig();i&&ye("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=ig();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=ig();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new vs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vc(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f})(i);throw xs("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Vp.createAndSchedule(this,e,t,i,(c=>this.yu(c)));return this.Tu.push(o),o}fu(){this.Eu&&Re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Jb(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class yi extends kh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Zb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zb(e),this._firestoreClient=void 0,await e}}}function CO(r,e){const t=typeof r=="object"?r:gw(),i=typeof r=="string"?r:"(default)",o=lp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=vN("firestore");c&&NO(o,...c)}return o}function Dh(r){if(r._terminated)throw new fe(le.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IO(r),r._firestoreClient}function IO(r){var e,t,i;const o=r._freezeSettings(),c=(function(f,g,y,_){return new ck(f,g,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,sT(_.experimentalLongPollingOptions),_.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new wO(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&(function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(nn.fromBase64String(e))}catch(t){throw new fe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oo(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function eE(){return new qc("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^__.*__$/;class DO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uc(e,this.data,t,this.fieldTransforms)}}class aT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new _i(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Kp{constructor(e,t,i,o,c,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ch(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(oT(this.Cu)&&kO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class OO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Rh(e)}Qu(e,t,i,o=!1){return new Kp({Cu:e,methodName:t,qu:i,path:Jt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(r){const e=r._freezeSettings(),t=Rh(r._databaseId);return new OO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function lT(r,e,t,i,o,c={}){const u=r.Qu(c.merge||c.mergeFields?2:0,e,t,o);Xp("Data must be an object, but it was:",u,i);const f=cT(i,u);let g,y;if(c.merge)g=new Vn(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const w of c.mergeFields){const x=Hg(e,w,t);if(!u.contains(x))throw new fe(le.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);dT(_,x)||_.push(x)}g=new Vn(_),y=u.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=u.fieldTransforms;return new DO(new xn(f),g,y)}class Ph extends Hc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}class Yp extends Hc{_toFieldTransform(e){return new Sx(e.path,new Tc)}isEqual(e){return e instanceof Yp}}class Qp extends Hc{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Rc(e.serializer,bx(e.serializer,this.$u));return new Sx(e.path,t)}isEqual(e){return e instanceof Qp&&this.$u===e.$u}}function PO(r,e,t,i){const o=r.Qu(1,e,t);Xp("Data must be an object, but it was:",o,i);const c=[],u=xn.empty();pa(i,((g,y)=>{const _=Wp(e,g,t);y=$t(y);const w=o.Nu(_);if(y instanceof Ph)c.push(_);else{const x=Gc(y,w);x!=null&&(c.push(_),u.set(_,x))}}));const f=new Vn(c);return new aT(u,f,o.fieldTransforms)}function MO(r,e,t,i,o,c){const u=r.Qu(1,e,t),f=[Hg(e,i,t)],g=[o];if(c.length%2!=0)throw new fe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)f.push(Hg(e,c[x])),g.push(c[x+1]);const y=[],_=xn.empty();for(let x=f.length-1;x>=0;--x)if(!dT(y,f[x])){const I=f[x];let V=g[x];V=$t(V);const C=u.Nu(I);if(V instanceof Ph)y.push(I);else{const k=Gc(V,C);k!=null&&(y.push(I),_.set(I,k))}}const w=new Vn(y);return new aT(_,w,u.fieldTransforms)}function jO(r,e,t,i=!1){return Gc(t,r.Qu(i?4:3,e))}function Gc(r,e){if(uT(r=$t(r)))return Xp("Unsupported field value:",e,r),cT(r,e);if(r instanceof Hc)return(function(i,o){if(!oT(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const c=[];let u=0;for(const f of i){let g=Gc(f,o.Lu(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(r,e)}return(function(i,o){if((i=$t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bx(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Ut.fromDate(i);return{timestampValue:ih(o.serializer,c)}}if(i instanceof Ut){const c=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(i instanceof Gp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Oo)return{bytesValue:Dx(o.serializer,i._byteString)};if(i instanceof dn){const c=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(c))throw o.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof $p)return(function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Bu("VectorValues must only contain numeric values.");return Ap(f.serializer,g)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${Ih(i)}`)})(r,e)}function cT(r,e){const t={};return sx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(r,((i,o)=>{const c=Gc(o,e.Mu(i));c!=null&&(t[i]=c)})),{mapValue:{fields:t}}}function uT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ut||r instanceof Gp||r instanceof Oo||r instanceof dn||r instanceof Hc||r instanceof $p)}function Xp(r,e,t){if(!uT(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=Ih(t);throw i==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+i)}}function Hg(r,e,t){if((e=$t(e))instanceof qc)return e._internalPath;if(typeof e=="string")return Wp(r,e);throw ch("Field path arguments must be of type string or ",r,!1,void 0,t)}const VO=new RegExp("[~\\*/\\[\\]]");function Wp(r,e,t){if(e.search(VO)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ch(r,e,t,i,o){const c=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${i}`),u&&(g+=` in document ${o}`),g+=")"),new fe(le.INVALID_ARGUMENT,f+r+g)}function dT(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LO extends hT{data(){return super.data()}}function Zp(r,e){return typeof e=="string"?Wp(r,e):e instanceof qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class UO extends Jp{}function ma(r,e,...t){let i=[];e instanceof Jp&&i.push(e),i=i.concat(t),(function(c){const u=c.filter((g=>g instanceof ey)).length,f=c.filter((g=>g instanceof Mh)).length;if(u>1||u>0&&f>0)throw new fe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Mh extends UO{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Mh(e,t,i)}_apply(e){const t=this._parse(e);return mT(e._query,t),new va(e.firestore,e.converter,Pg(e._query,t))}_parse(e){const t=Oh(e.firestore);return(function(c,u,f,g,y,_,w){let x;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){nE(w,_);const I=[];for(const V of w)I.push(tE(g,c,V));x={arrayValue:{values:I}}}else x=tE(g,c,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||nE(w,_),x=jO(f,u,w,_==="in"||_==="not-in");return Dt.create(y,_,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Mr(r,e,t){const i=e,o=Zp("where",r);return Mh._create(o,i,t)}class ey extends Jp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ey(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let u=o;const f=c.getFlattenedFilters();for(const g of f)mT(u,g),u=Pg(u,g)})(e._query,t),new va(e.firestore,e.converter,Pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tE(r,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new fe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fx(e)&&t.indexOf("/")!==-1)throw new fe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!be.isDocumentKey(i))throw new fe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Eb(r,new be(i))}if(t instanceof dn)return Eb(r,t._key);throw new fe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(t)}.`)}function nE(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mT(r,e){const t=(function(o,c){for(const u of o)for(const f of u.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zO{convertValue(e,t="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return pa(e,((o,c)=>{i[o]=this.convertValue(c,t)})),i}convertVectorValue(e){var t,i,o;const c=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((u=>At(u.doubleValue)));return new $p(c)}convertGeoPoint(e){return new Gp(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const t=gi(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);st(Lx(i));const o=new wc(i.get(1),i.get(3)),c=new be(i.popFirst(5));return o.isEqual(t)||xs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(r,e,t){let i;return i=r?r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pT extends hT{constructor(e,t,i,o,c,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Zp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Fd extends pT{data(e={}){return super.data(e)}}class yT{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new uc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Fd(this._firestore,this._userDataWriter,i.key,i,new uc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const g=new Fd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new uc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>c||f.type!==3)).map((f=>{const g=new Fd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new uc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:BO(f.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(r){r=Ln(r,dn);const e=Ln(r.firestore,yi);return SO(Dh(e),r._key).then((t=>_T(e,r,t)))}class ty extends zO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function Lr(r){r=Ln(r,va);const e=Ln(r.firestore,yi),t=Dh(e),i=new ty(e);return fT(r._query),AO(t,r._query).then((o=>new yT(e,i,r,o)))}function vT(r,e,t){r=Ln(r,dn);const i=Ln(r.firestore,yi),o=gT(r.converter,e);return ny(i,[lT(Oh(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,or.none())])}function uh(r,e,t,...i){r=Ln(r,dn);const o=Ln(r.firestore,yi),c=Oh(o);let u;return u=typeof(e=$t(e))=="string"||e instanceof qc?MO(c,"updateDoc",r._key,e,t,i):PO(c,"updateDoc",r._key,e),ny(o,[u.toMutation(r._key,or.exists(!0))])}function Gg(r,e){const t=Ln(r.firestore,yi),i=Tn(r),o=gT(r.converter,e);return ny(t,[lT(Oh(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,or.exists(!1))]).then((()=>i))}function $g(r,...e){var t,i,o;r=$t(r);let c={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Jb(e[u])||(c=e[u],u++);const f={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Jb(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(i=w.error)===null||i===void 0?void 0:i.bind(w),e[u+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,y,_;if(r instanceof dn)y=Ln(r.firestore,yi),_=Eh(r._key.path),g={next:w=>{e[u]&&e[u](_T(y,r,w))},error:e[u+1],complete:e[u+2]};else{const w=Ln(r,va);y=Ln(w.firestore,yi),_=w._query;const x=new ty(y);g={next:I=>{e[u]&&e[u](new yT(y,x,w,I))},error:e[u+1],complete:e[u+2]},fT(r._query)}return(function(x,I,V,C){const k=new Hp(C),L=new Fp(I,k,V);return x.asyncQueue.enqueueAndForget((async()=>Up(await lh(x),L))),()=>{k.Za(),x.asyncQueue.enqueueAndForget((async()=>zp(await lh(x),L)))}})(Dh(y),_,f,g)}function ny(r,e){return(function(i,o){const c=new vs;return i.asyncQueue.enqueueAndForget((async()=>mO(await TO(i),o,c))),c.promise})(Dh(r),e)}function _T(r,e,t){const i=t.docs.get(e._key),o=new ty(r);return new pT(r,o,e._key,i,new uc(t.hasPendingWrites,t.fromCache),e.converter)}function _o(){return new Yp("serverTimestamp")}function rE(r){return new Qp("increment",r)}(function(e,t=!0){(function(o){Ho=o})(Fo),So(new ca("firestore",((i,{instanceIdentifier:o,options:c})=>{const u=i.getProvider("app").getImmediate(),f=new yi(new YI(i.getProvider("auth-internal")),new ZI(i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(y.options.projectId,_)})(u,o),u);return c=Object.assign({useFetchStreams:t},c),f._setSettings(c),f}),"PUBLIC").setMultipleInstances(!0)),di(pb,"4.7.3",e),di(pb,"4.7.3","esm2017")})();const FO={apiKey:"AIzaSyByK3AqqZ4uwpcPY_2iEV9riZ4xxXuPASU",authDomain:"youthpargati-e975a.firebaseapp.com",projectId:"youthpargati-e975a",storageBucket:"youthpargati-e975a.firebasestorage.app",messagingSenderId:"733396374495",appId:"1:733396374495:web:e2212b96372633dd296a6a"},bT=mw(FO),wn=HI(bT),ut=CO(bT);new kr;function rn(...r){return uN(YE(r))}const ET=async()=>{try{return(await Lr(Sn(ut,"packages"))).docs.map(t=>({id:t.id,...t.data()}))}catch(r){throw console.error("Error fetching packages from Firestore:",r),r}},ry=async r=>{try{if(!r)return console.warn("fetchPackageById: Missing packageId"),null;console.log("Fetching package with ID:",r);const e=await Po(Tn(ut,"packages",r));if(e.exists()){const t={id:e.id,...e.data()};return console.log("Successfully fetched package:",t),t}return console.warn("Package not found with ID:",r),null}catch(e){throw console.error(`Error fetching package ${r} from Firestore:`,e),e}},wT=async r=>{try{console.log("Selected course IDs:",r);const e=r?[...new Set(r)]:[];if(!e.length)return console.warn("No course IDs provided"),[];let t=[];if(e.length<=10){const c=ma(Sn(ut,"courses"),Mr(eE(),"in",e));t=(await Lr(c)).docs.map(f=>({id:f.id,...f.data()}))}else{const c=[];for(let g=0;g<e.length;g+=10)c.push(e.slice(g,g+10));const u=c.map(async g=>{const y=ma(Sn(ut,"courses"),Mr(eE(),"in",g));return(await Lr(y)).docs.map(w=>({id:w.id,...w.data()}))});t=(await Promise.all(u)).flat()}const i=t.map(c=>c.id);return e.filter(c=>!i.includes(c)).forEach(c=>{console.warn("Invalid course ID:",c)}),console.log("Fetched courses:",t),t}catch(e){return console.error("Error fetching courses by IDs:",e),[]}},qO=async r=>{try{const e=Sn(ut,"courses",r,"chapters");console.log("Fetching path:",`courses/${r}/chapters`);const i=(await Lr(e)).docs.map(o=>({id:o.id,...o.data()}));return console.log("Videos for course",r,":",i),i}catch(e){return console.error("Error fetching videos for course:",r,e),[]}},HO=async r=>{try{const e=await wT(r.courses||[]);return await Promise.all(e.map(async i=>{try{const o=await qO(i.id);return{...i,videos:o}}catch(o){return console.error("Error fetching videos for course",i.id,":",o),{...i,videos:[]}}}))}catch(e){return console.error("Error fetching package courses with videos:",e),[]}},Kg=async(r,e)=>{try{if(!r||!e)return console.warn("checkUserPurchase: Missing packageId or userId",{packageId:r,userId:e}),!1;console.log("Checking purchase status for package:",r,"user:",e);const t=`purchase_${r}_${e}`,i=localStorage.getItem(t);if(i!==null){const f=i==="true";return console.log("Purchase status (from cache) for package",r,"user",e,":",f),f}const o=ma(Sn(ut,"purchases"),Mr("package_id","==",r),Mr("student_uid","==",e),Mr("payment_status","==","success")),u=!(await Lr(o)).empty;return console.log("Purchase status (from DB) for package",r,"user",e,":",u),localStorage.setItem(t,u.toString()),u}catch(t){return console.error("Error checking user purchase for package",r,"user",e,":",t),!1}},GO=async r=>{try{if(!r)return console.warn("fetchPackageCommission: Missing packageId"),0;console.log("Fetching commission for package ID:",r);const e=await Po(Tn(ut,"packages",r));if(e.exists()){const i=e.data().commission||0;return console.log(`Commission for package ${r}: ${i}`),i}return console.warn("Package not found with ID:",r),0}catch(e){return console.error(`Error fetching commission for package ${r} from Firestore:`,e),0}},$O=async r=>{try{if(!r)return console.warn("fetchPackageCommissionUnowned: Missing packageId"),0;console.log("Fetching unowned commission for package ID:",r);const e=await Po(Tn(ut,"packages",r));if(e.exists()){const i=e.data().commission_unowned||0;return console.log(`Unowned commission for package ${r}: ${i}`),i}return console.warn("Package not found with ID:",r),0}catch(e){return console.error(`Error fetching unowned commission for package ${r} from Firestore:`,e),0}},sy=async r=>{try{if(!r)return console.warn("fetchUserPurchases: Missing userId"),[];console.log("Fetching purchases for user:",r);const e=ma(Sn(ut,"purchases"),Mr("student_uid","==",r),Mr("payment_status","==","success")),i=(await Lr(e)).docs.map(o=>{const c={id:o.id,...o.data()};return console.log("Found purchase:",c.id,"package_id:",c.package_id),c});return console.log("Total purchases found for user",r,":",i.length),i}catch(e){return console.error("Error fetching user purchases for user",r,":",e),[]}},KO=QE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Me({className:r,variant:e,size:t,asChild:i=!1,...o}){const c=i?$E:"button";return p.jsx(c,{"data-slot":"button",className:rn(KO({variant:e,size:t,className:r})),...o})}function Ie({className:r,...e}){return p.jsx("div",{"data-slot":"card",className:rn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...e})}function Ye({className:r,...e}){return p.jsx("div",{"data-slot":"card-header",className:rn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function We({className:r,...e}){return p.jsx("div",{"data-slot":"card-title",className:rn("leading-none font-semibold",r),...e})}function gt({className:r,...e}){return p.jsx("div",{"data-slot":"card-description",className:rn("text-muted-foreground text-sm",r),...e})}function $e({className:r,...e}){return p.jsx("div",{"data-slot":"card-content",className:rn("px-6",r),...e})}const YO=QE("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function dh({className:r,variant:e,asChild:t=!1,...i}){const o=t?$E:"span";return p.jsx(o,{"data-slot":"badge",className:rn(YO({variant:e}),r),...i})}function ri({className:r,type:e,...t}){return p.jsx("input",{type:e,"data-slot":"input",className:rn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),sE=r=>{const e=XO(r);return e.charAt(0).toUpperCase()+e.slice(1)},xT=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),WO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=T.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...f},g)=>T.createElement("svg",{ref:g,...ZO,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:xT("lucide",o),...!c&&!WO(f)&&{"aria-hidden":"true"},...f},[...u.map(([y,_])=>T.createElement(y,_)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(r,e)=>{const t=T.forwardRef(({className:i,...o},c)=>T.createElement(JO,{ref:c,iconNode:e,className:xT(`lucide-${QO(sE(r))}`,`lucide-${r}`,i),...o}));return t.displayName=sE(r),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hh=yt("arrow-left",eP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_s=yt("book-open",tP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qd=yt("circle-check-big",nP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sP=yt("circle",rP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],aP=yt("clock",iP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],iE=yt("copy",oP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cP=yt("credit-card",lP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],og=yt("dollar-sign",uP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],aE=yt("graduation-cap",dP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],oE=yt("house",hP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mP=yt("loader-circle",fP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pP=yt("lock",gP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vP=yt("mail",yP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],li=yt("play",_P);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],lE=yt("share-2",bP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wP=yt("star",EP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],TP=yt("target",xP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],cE=yt("trophy",SP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uE=yt("user",AP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NP=yt("users",RP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],IP=yt("video",CP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DP=yt("x",kP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],dE=yt("youtube",OP);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MP=yt("zap",PP),jP="e694ab0346cf984568f7e52caebbd07e",hE="https://youthpargati.netlify.app/payment-success",VP=async(r,e=null)=>{var t,i;try{const o=`ORDER${Date.now()}`;console.log("Creating order with Netlify Function proxy");const c=window.location.hostname==="localhost";let u,f;if(c){console.log("Making direct API call to Pay0.shop for local development");const g=new URLSearchParams;if(g.append("customer_mobile",r.customer_mobile||""),g.append("customer_name",r.customer_name||""),g.append("user_token",jP),g.append("amount",r.amount),g.append("order_id",o),g.append("redirect_url",hE),g.append("remark1","BuyNow"),g.append("remark2","CoursePackage"),f=await fetch("https://pay0.shop/api/create-order",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:g.toString()}),!f.ok)throw console.error("Pay0.shop API error:",f.status,f.statusText),new Error(`Pay0.shop API error: ${f.status} ${f.statusText}`);u=await f.json(),console.log("Pay0.shop API response:",u)}else{if(f=await fetch("/.netlify/functions/create-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_mobile:r.customer_mobile||"",customer_name:r.customer_name||"",amount:r.amount,order_id:o,redirect_url:hE,remark1:"BuyNow",remark2:"CoursePackage"})}),console.log("Netlify function response status:",f.status),console.log("Netlify function response headers:",f.headers),!f.ok){console.error("Netlify function error:",f.status,f.statusText);const g=await f.text();throw console.error("Netlify function error details:",g),new Error(`Netlify function error: ${f.status} ${f.statusText}. Details: ${g}`)}u=await f.json(),console.log("Netlify Function response:",u)}if(console.log("Response status:",f.status),console.log("Full response from Netlify function:",u),u!=null&&u.status&&((t=u==null?void 0:u.result)!=null&&t.payment_url))console.log("Redirecting to:",u.result.payment_url),window.location.replace(u.result.payment_url);else{console.warn("Payment URL not found in response",u),console.warn("Result status:",u==null?void 0:u.status),console.warn("Result result:",u==null?void 0:u.result),console.warn("Result payment_url:",(i=u==null?void 0:u.result)==null?void 0:i.payment_url);let g="Failed to get payment URL. Please try again.";return u!=null&&u.message?g=u.message:u!=null&&u.error&&(g=u.error),{status:!1,message:g}}}catch(o){console.error("Payment error:",o),console.error("Error name:",o.name),console.error("Error message:",o.message);let c="Failed to process payment. Please try again.";return o.message.includes("404")?c="Payment service is currently unavailable. Please try again later.":o.message.includes("Failed to fetch")&&(c="Network error. Please check your connection and try again."),{status:!1,message:c}}},TT=async(r,e,t=null)=>{if(!r||!r.id)throw console.error("Invalid packageData for order creation:",r),new Error("Invalid package data");if(!e||!e.uid)throw console.error("Invalid userData for order creation:",e),new Error("Invalid user data");const i={customer_mobile:e.phone||"",customer_name:e.name||"Customer",amount:r.price,package_id:r.id,user_id:e.uid};console.log("Creating Pay0Shop order with data:",i,"referralCode:",t);const o=await VP(i,t);return o.status||(console.warn("Failed to initiate Pay0Shop order:",o.message),alert(o.message||"Failed to initiate payment. Please try again.")),o},ST=T.createContext(),Ko=()=>T.useContext(ST),LP=({children:r})=>{const[e,t]=T.useState(null),[i,o]=T.useState(!0);T.useEffect(()=>Lw(wn,g=>{t(g),o(!1)}),[]);const u={user:e,loading:i,isLoadingAuth:i,signOut:async()=>{try{await O2(wn),t(null)}catch(f){console.error("Sign out error:",f)}}};return p.jsx(ST.Provider,{value:u,children:!i&&r})},UP=()=>{const{user:r,loading:e}=Ko();return console.log("StartJourneyButton: Auth state",{user:r,loading:e}),e?p.jsx(Me,{size:"lg",className:"bg-orange-500 hover:bg-orange-600 text-white font-bold text-xl px-12 py-6 rounded-full shadow-2xl transform hover:scale-105 transition-all duration-300",disabled:!0,children:"Loading..."}):r?(console.log("StartJourneyButton: User logged in, showing dashboard button"),p.jsx(Me,{size:"lg",className:"bg-orange-500 hover:bg-orange-600 text-white font-bold text-xl px-12 py-6 rounded-full shadow-2xl transform hover:scale-105 transition-all duration-300",asChild:!0,children:p.jsxs(fi,{to:"/dashboard",children:[p.jsx(li,{className:"mr-2 h-6 w-6"}),"Your Dashboard"]})})):(console.log("StartJourneyButton: User not logged in, showing start journey button"),p.jsx(Me,{size:"lg",className:"bg-orange-500 hover:bg-orange-600 text-white font-bold text-xl px-12 py-6 rounded-full shadow-2xl transform hover:scale-105 transition-all duration-300",asChild:!0,children:p.jsxs(fi,{to:"/login",children:[p.jsx(li,{className:"mr-2 h-6 w-6"}),"Start Your Journey"]})}))};function zP(){const{user:r,isLoadingAuth:e}=Ko(),t=Ur(),[i,o]=T.useState([]),[c,u]=T.useState(null),[f,g]=T.useState({}),y=[{id:"seed",name:"Seed Package",title:"Pargati Seed",description:"Get started with essential digital skills",price:199,thumbnail_url:"https://i.ibb.co/hxF0cSCz/seed-package.jpg"},{id:"basic",name:"Basic Package",title:"Pargati Basic",description:"Essential skills for beginners",price:376,thumbnail_url:null},{id:"elite",name:"Elite Package",title:"Pargati Elite",description:"Advanced skills for serious learners",price:532,thumbnail_url:null},{id:"warriors",name:"Warriors Package",title:"Pargati Warriors",description:"Elite training for digital champions",price:1032,thumbnail_url:null}],_=async w=>{if(console.log("handleBuyNow: Called with package",w),console.log("handleBuyNow: Current user state",r),console.log("handleBuyNow: Current auth context",{user:r,isLoadingAuth:e}),e){console.warn("Purchase attempt blocked: Auth state still loading"),alert("Please wait, still loading user session...");return}if(!r){console.log("User not logged in, redirecting to login page"),sessionStorage.setItem("checkoutPackage",JSON.stringify(w)),t("/login");return}if(!r.uid){console.warn("Purchase attempt blocked: User ID not available"),console.log("handleBuyNow: User ID check failed. User:",r),alert("Please log in to purchase courses.");return}console.log("handleBuyNow: User authenticated",r.uid),await new Promise(x=>setTimeout(x,100)),g(x=>({...x,[w.id]:!0}));try{console.log("handleBuyNow: Navigating to checkout for user",r.uid),sessionStorage.setItem("checkoutPackage",JSON.stringify(w)),t("/checkout")}catch(x){console.error("Navigation error:",x),alert("Failed to proceed to checkout. Please try again.")}finally{g(x=>({...x,[w.id]:!1}))}};return T.useEffect(()=>{(async()=>{try{const x=await ET();console.log("Fetched packages data:",x),o(x)}catch(x){console.error("Error loading packages from Firestore:",x),u("Failed to load packages. Showing fallback data."),o(y)}})()},[]),p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50",children:[p.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-r from-blue-600 to-orange-500 text-white overflow-hidden",style:{background:"linear-gradient(rgba(0, 123, 255, 0.8), rgba(255, 111, 0, 0.8))"},children:[p.jsx("div",{className:"absolute inset-0 bg-black/20"}),p.jsxs("div",{className:"relative z-10 text-center px-4 max-w-6xl mx-auto",children:[p.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 animate-pulse",children:"YouthPargati"}),p.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-8 text-yellow-300",children:"Padho, Seekho, Aage Badho!"}),p.jsx("p",{className:"text-xl md:text-2xl mb-12 font-semibold",children:"Learn digital skills and build your empire with confidence."}),p.jsx(UP,{})]}),p.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-yellow-400 rounded-full opacity-20 animate-bounce"}),p.jsx("div",{className:"absolute bottom-20 right-10 w-16 h-16 bg-orange-400 rounded-full opacity-20 animate-pulse"}),p.jsx("div",{className:"absolute top-1/2 left-20 w-12 h-12 bg-blue-400 rounded-full opacity-20 animate-spin"})]}),p.jsx("section",{className:"py-20 px-4 bg-gradient-to-r from-orange-100 to-blue-100",style:{background:"linear-gradient(rgba(255, 255, 255, 0.9), rgba(255, 165, 0, 0.1))"},children:p.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[p.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-8 text-blue-600",children:"About YouthPargati"}),p.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12 border-4 border-orange-400",children:[p.jsx(cE,{className:"mx-auto h-20 w-20 text-orange-500 mb-8"}),p.jsx("p",{className:"text-xl md:text-2xl leading-relaxed text-gray-700 font-medium",children:"At YouthPargati, we believe that digital skill is the key to success in today's fast-paced, tech-driven world. Our platform is designed to empower individuals like you with the skills needed to thrive in the digital era."})]})]})}),p.jsx("section",{className:"py-20 px-4 bg-gradient-to-r from-blue-600 to-orange-600 text-white",children:p.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[p.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-16",children:"REAL-WARRIORS, NOT JUST TEACHERS"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsx(Ie,{className:"bg-white/10 backdrop-blur-sm border-2 border-white/20 text-white",children:p.jsxs(Ye,{children:[p.jsx(dE,{className:"h-16 w-16 mx-auto text-red-400 mb-4"}),p.jsx(We,{className:"text-2xl font-bold",children:"YouTubers  now LIVE in your class"})]})}),p.jsx(Ie,{className:"bg-white/10 backdrop-blur-sm border-2 border-white/20 text-white",children:p.jsxs(Ye,{children:[p.jsx(MP,{className:"h-16 w-16 mx-auto text-yellow-400 mb-4"}),p.jsx(We,{className:"text-2xl font-bold",children:"Learn Anytime, Anywhere"})]})}),p.jsx(Ie,{className:"bg-white/10 backdrop-blur-sm border-2 border-white/20 text-white",children:p.jsxs(Ye,{children:[p.jsx(TP,{className:"h-16 w-16 mx-auto text-green-400 mb-4"}),p.jsx(We,{className:"text-2xl font-bold",children:"GenZ-ready Course Plans"})]})})]})]})}),p.jsx("section",{className:"py-20 px-4 bg-gradient-to-br from-gray-50 to-blue-50",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-blue-600",children:"Top Class Courses"}),p.jsx("p",{className:"text-xl md:text-2xl text-gray-600 font-semibold",children:"Explore Our World's Best Courses"}),c&&p.jsx("div",{className:"mt-4 p-3 bg-yellow-100 border border-yellow-400 rounded-lg",children:p.jsxs("p",{className:"text-sm text-yellow-800",children:[" Using offline data. Backend issue: ",c]})})]}),p.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:i.length>0?i.map(w=>p.jsxs(Ie,{className:"bg-white shadow-2xl border rounded-2xl transform hover:scale-105 transition-all duration-300",children:[p.jsxs(Ye,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dh,{className:"bg-blue-100 text-blue-600 font-bold",children:"PACKAGE"}),p.jsx(og,{className:"h-8 w-8 text-blue-600"})]}),w.name&&p.jsx("div",{className:"text-sm font-semibold text-blue-600 mb-1",children:w.name}),p.jsx(We,{className:"text-2xl font-black",children:w.title}),p.jsx(gt,{className:"text-gray-600",children:w.description})]}),p.jsxs($e,{children:[w.thumbnail?p.jsx("img",{src:w.thumbnail,alt:w.title,className:"w-full h-48 object-cover rounded-xl mb-3"}):w.thumbnail_url?p.jsx("img",{src:w.thumbnail_url,alt:w.title,className:"w-full h-40 object-cover rounded-xl mb-4",onError:x=>{x.target.style.display="none"}}):p.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-blue-100 to-orange-100 rounded-xl mb-4 flex items-center justify-center",children:p.jsx(_s,{className:"h-16 w-16 text-blue-400"})}),p.jsx("div",{className:"text-center mb-6",children:p.jsxs("span",{className:"text-3xl font-black",children:["",w.price]})}),p.jsx(Me,{className:"w-full bg-blue-600 text-white hover:bg-blue-700 font-bold text-lg py-3",onClick:()=>_(w),disabled:e||!r||f[w.id],children:f[w.id]?"Processing...":"Buy Now"})]})]},w.id)):y.map(w=>p.jsxs(Ie,{className:"bg-white shadow-2xl border rounded-2xl transform hover:scale-105 transition-all duration-300",children:[p.jsxs(Ye,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(dh,{className:"bg-blue-100 text-blue-600 font-bold",children:"PACKAGE"}),p.jsx(og,{className:"h-8 w-8 text-blue-600"})]}),w.name&&p.jsx("div",{className:"text-sm font-semibold text-blue-600 mb-1",children:w.name}),p.jsx(We,{className:"text-2xl font-black",children:w.title}),p.jsx(gt,{className:"text-gray-600",children:w.description})]}),p.jsxs($e,{children:[p.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-blue-100 to-orange-100 rounded-xl mb-4 flex items-center justify-center",children:p.jsx(_s,{className:"h-16 w-16 text-blue-400"})}),p.jsx("div",{className:"text-center mb-6",children:p.jsxs("span",{className:"text-3xl font-black",children:["",w.price]})}),p.jsx(Me,{className:"w-full bg-blue-600 text-white hover:bg-blue-700 font-bold text-lg py-3",onClick:()=>_(w),disabled:e||!r||f[w.id],children:f[w.id]?"Processing...":"Buy Now"})]})]},w.id))})]})}),p.jsx("section",{className:"py-20 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:p.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[p.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-8",children:"YouthPargati Grow Plan"}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-3xl p-12 border-2 border-white/20",children:[p.jsx(aE,{className:"mx-auto h-20 w-20 text-yellow-400 mb-8"}),p.jsx("p",{className:"text-xl md:text-2xl leading-relaxed font-medium",children:"Enroll with YouthPargati to start your journey. Begin with our Starter course and grow step-by-step with us."})]})]})}),p.jsx("section",{className:"py-20 px-4 bg-gradient-to-br from-orange-50 to-blue-50",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-orange-600",children:"Achieve Your Goal With YouthPargati"}),p.jsx("p",{className:"text-xl md:text-2xl text-gray-600 font-semibold",children:"With YouthPargati, Begin your journey to success."})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[p.jsx(Ie,{className:"bg-white shadow-xl border-2 border-orange-200 hover:shadow-2xl transition-all duration-300",children:p.jsxs(Ye,{children:[p.jsx(dE,{className:"h-12 w-12 text-red-500 mb-4"}),p.jsx(We,{className:"text-xl font-bold text-gray-800",children:" YoutuberTutors"}),p.jsx(gt,{children:"Professional educators with YouTube channels"})]})}),p.jsx(Ie,{className:"bg-white shadow-xl border-2 border-blue-200 hover:shadow-2xl transition-all duration-300",children:p.jsxs(Ye,{children:[p.jsx(_s,{className:"h-12 w-12 text-blue-500 mb-4"}),p.jsx(We,{className:"text-xl font-bold text-gray-800",children:" EffectiveCourses"}),p.jsx(gt,{children:"Designed for real-world impact"})]})}),p.jsx(Ie,{className:"bg-white shadow-xl border-2 border-green-200 hover:shadow-2xl transition-all duration-300",children:p.jsxs(Ye,{children:[p.jsx(NP,{className:"h-12 w-12 text-green-500 mb-4"}),p.jsx(We,{className:"text-xl font-bold text-gray-800",children:" 20+ Trainers"}),p.jsx(gt,{children:"Expert instructors ready to guide you"})]})}),p.jsx(Ie,{className:"bg-white shadow-xl border-2 border-purple-200 hover:shadow-2xl transition-all duration-300",children:p.jsxs(Ye,{children:[p.jsx(aE,{className:"h-12 w-12 text-purple-500 mb-4"}),p.jsx(We,{className:"text-xl font-bold text-gray-800",children:" 30K+ Students"}),p.jsx(gt,{children:"Join our growing community"})]})}),p.jsx(Ie,{className:"bg-white shadow-xl border-2 border-red-200 hover:shadow-2xl transition-all duration-300",children:p.jsxs(Ye,{children:[p.jsx(li,{className:"h-12 w-12 text-red-500 mb-4"}),p.jsx(We,{className:"text-xl font-bold text-gray-800",children:" 100+ Live Trainings"}),p.jsx(gt,{children:"Interactive live sessions"})]})}),p.jsx(Ie,{className:"bg-white shadow-xl border-2 border-yellow-200 hover:shadow-2xl transition-all duration-300",children:p.jsxs(Ye,{children:[p.jsx(og,{className:"h-12 w-12 text-yellow-500 mb-4"}),p.jsx(We,{className:"text-xl font-bold text-gray-800",children:" 5 Crore+ Earnings"}),p.jsx(gt,{children:"Community success stories"})]})})]})]})}),p.jsx("section",{className:"py-20 px-4 bg-gradient-to-r from-gray-800 to-blue-900 text-white",children:p.jsx("div",{className:"max-w-6xl mx-auto",children:p.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-8",children:"Contact Us"}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border-2 border-white/20",children:[p.jsx(vP,{className:"h-12 w-12 text-blue-400 mb-4"}),p.jsx("p",{className:"text-xl font-semibold mb-4",children:"Get in touch with us:"}),p.jsx("a",{href:"mailto:youthpargatii@gmail.com",className:"text-2xl font-bold text-blue-400 hover:text-blue-300 transition-colors",children:"youthpargatii@gmail.com"})]})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-3xl md:text-4xl font-black mb-8 text-orange-400",children:"Meet The Founder"}),p.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border-2 border-orange-400",children:[p.jsx("div",{className:"w-32 h-32 rounded-full mx-auto mb-6 overflow-hidden",children:p.jsx("img",{src:"https://i.ibb.co/5D9Tt7M/founder-photo.jpg",alt:"Founder",className:"w-full h-full object-cover"})}),p.jsxs("p",{className:"text-lg leading-relaxed",children:["From humble beginnings to building a platform that empowers thousands, ",p.jsx("strong",{children:"Shazen Shaikh"})," founded ",p.jsx("strong",{children:"YouthPargati"})," with one powerful goal  to give every young mind in India the chance to learn, grow, and lead in the digital era. His vision continues to inspire a generation of learners to dream big and achieve more."]})]})]})]})})}),p.jsx("footer",{className:"bg-black text-white py-12 px-4",children:p.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[p.jsx("h3",{className:"text-3xl font-black mb-4 text-orange-400",children:"YouthPargati"}),p.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"Padho, Seekho, Aage Badho!"}),p.jsxs("div",{className:"flex justify-center space-x-6",children:[p.jsx(qd,{className:"h-8 w-8 text-green-400"}),p.jsx(wP,{className:"h-8 w-8 text-yellow-400"}),p.jsx(cE,{className:"h-8 w-8 text-orange-400"})]}),p.jsx("p",{className:"text-gray-400 mt-8",children:" 2024 YouthPargati. All rights reserved."})]})})]})}function tn(r,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(r==null||r(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function BP(r,e){const t=T.createContext(e),i=c=>{const{children:u,...f}=c,g=T.useMemo(()=>f,Object.values(f));return p.jsx(t.Provider,{value:g,children:u})};i.displayName=r+"Provider";function o(c){const u=T.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${r}\``)}return[i,o]}function $c(r,e=[]){let t=[];function i(c,u){const f=T.createContext(u),g=t.length;t=[...t,u];const y=w=>{var L;const{scope:x,children:I,...V}=w,C=((L=x==null?void 0:x[r])==null?void 0:L[g])||f,k=T.useMemo(()=>V,Object.values(V));return p.jsx(C.Provider,{value:k,children:I})};y.displayName=c+"Provider";function _(w,x){var C;const I=((C=x==null?void 0:x[r])==null?void 0:C[g])||f,V=T.useContext(I);if(V)return V;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[y,_]}const o=()=>{const c=t.map(u=>T.createContext(u));return function(f){const g=(f==null?void 0:f[r])||c;return T.useMemo(()=>({[`__scope${r}`]:{...f,[r]:g}}),[f,g])}};return o.scopeName=r,[i,FP(o,...e)]}function FP(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const i=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=i.reduce((f,{useScope:g,scopeName:y})=>{const w=g(c)[`__scope${y}`];return{...f,...w}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var Mo=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},qP=RE[" useId ".trim().toString()]||(()=>{}),HP=0;function Hd(r){const[e,t]=T.useState(qP());return Mo(()=>{t(i=>i??String(HP++))},[r]),r||(e?`radix-${e}`:"")}var GP=RE[" useInsertionEffect ".trim().toString()]||Mo;function iy({prop:r,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,c,u]=$P({defaultProp:e,onChange:t}),f=r!==void 0,g=f?r:o;{const _=T.useRef(r!==void 0);T.useEffect(()=>{const w=_.current;w!==f&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=f},[f,i])}const y=T.useCallback(_=>{var w;if(f){const x=KP(_)?_(r):_;x!==r&&((w=u.current)==null||w.call(u,x))}else c(_)},[f,r,c,u]);return[g,y]}function $P({defaultProp:r,onChange:e}){const[t,i]=T.useState(r),o=T.useRef(t),c=T.useRef(e);return GP(()=>{c.current=e},[e]),T.useEffect(()=>{var u;o.current!==t&&((u=c.current)==null||u.call(c,t),o.current=t)},[t,o]),[t,i,c]}function KP(r){return typeof r=="function"}var YP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fn=YP.reduce((r,e)=>{const t=yc(`Primitive.${e}`),i=T.forwardRef((o,c)=>{const{asChild:u,...f}=o,g=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(g,{...f,ref:c})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{});function QP(r,e){r&&HE.flushSync(()=>r.dispatchEvent(e))}function jo(r){const e=T.useRef(r);return T.useEffect(()=>{e.current=r}),T.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function XP(r,e=globalThis==null?void 0:globalThis.document){const t=jo(r);T.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var WP="DismissableLayer",Yg="dismissableLayer.update",ZP="dismissableLayer.pointerDownOutside",JP="dismissableLayer.focusOutside",fE,AT=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RT=T.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...g}=r,y=T.useContext(AT),[_,w]=T.useState(null),x=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,I]=T.useState({}),V=Un(e,D=>w(D)),C=Array.from(y.layers),[k]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),L=C.indexOf(k),K=_?C.indexOf(_):-1,z=y.layersWithOutsidePointerEventsDisabled.size>0,X=K>=L,Y=nM(D=>{const A=D.target,N=[...y.branches].some(M=>M.contains(A));!X||N||(o==null||o(D),u==null||u(D),D.defaultPrevented||f==null||f())},x),se=rM(D=>{const A=D.target;[...y.branches].some(M=>M.contains(A))||(c==null||c(D),u==null||u(D),D.defaultPrevented||f==null||f())},x);return XP(D=>{K===y.layers.size-1&&(i==null||i(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},x),T.useEffect(()=>{if(_)return t&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(fE=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(_)),y.layers.add(_),mE(),()=>{t&&y.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=fE)}},[_,x,t,y]),T.useEffect(()=>()=>{_&&(y.layers.delete(_),y.layersWithOutsidePointerEventsDisabled.delete(_),mE())},[_,y]),T.useEffect(()=>{const D=()=>I({});return document.addEventListener(Yg,D),()=>document.removeEventListener(Yg,D)},[]),p.jsx(fn.div,{...g,ref:V,style:{pointerEvents:z?X?"auto":"none":void 0,...r.style},onFocusCapture:tn(r.onFocusCapture,se.onFocusCapture),onBlurCapture:tn(r.onBlurCapture,se.onBlurCapture),onPointerDownCapture:tn(r.onPointerDownCapture,Y.onPointerDownCapture)})});RT.displayName=WP;var eM="DismissableLayerBranch",tM=T.forwardRef((r,e)=>{const t=T.useContext(AT),i=T.useRef(null),o=Un(e,i);return T.useEffect(()=>{const c=i.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),p.jsx(fn.div,{...r,ref:o})});tM.displayName=eM;function nM(r,e=globalThis==null?void 0:globalThis.document){const t=jo(r),i=T.useRef(!1),o=T.useRef(()=>{});return T.useEffect(()=>{const c=f=>{if(f.target&&!i.current){let g=function(){NT(ZP,t,y,{discrete:!0})};const y={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=g,e.addEventListener("click",o.current,{once:!0})):g()}else e.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function rM(r,e=globalThis==null?void 0:globalThis.document){const t=jo(r),i=T.useRef(!1);return T.useEffect(()=>{const o=c=>{c.target&&!i.current&&NT(JP,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function mE(){const r=new CustomEvent(Yg);document.dispatchEvent(r)}function NT(r,e,t,{discrete:i}){const o=t.originalEvent.target,c=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(r,e,{once:!0}),i?QP(o,c):o.dispatchEvent(c)}var lg="focusScope.autoFocusOnMount",cg="focusScope.autoFocusOnUnmount",gE={bubbles:!1,cancelable:!0},sM="FocusScope",CT=T.forwardRef((r,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=r,[f,g]=T.useState(null),y=jo(o),_=jo(c),w=T.useRef(null),x=Un(e,C=>g(C)),I=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(i){let C=function(z){if(I.paused||!f)return;const X=z.target;f.contains(X)?w.current=X:ni(w.current,{select:!0})},k=function(z){if(I.paused||!f)return;const X=z.relatedTarget;X!==null&&(f.contains(X)||ni(w.current,{select:!0}))},L=function(z){if(document.activeElement===document.body)for(const Y of z)Y.removedNodes.length>0&&ni(f)};document.addEventListener("focusin",C),document.addEventListener("focusout",k);const K=new MutationObserver(L);return f&&K.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",k),K.disconnect()}}},[i,f,I.paused]),T.useEffect(()=>{if(f){yE.add(I);const C=document.activeElement;if(!f.contains(C)){const L=new CustomEvent(lg,gE);f.addEventListener(lg,y),f.dispatchEvent(L),L.defaultPrevented||(iM(uM(IT(f)),{select:!0}),document.activeElement===C&&ni(f))}return()=>{f.removeEventListener(lg,y),setTimeout(()=>{const L=new CustomEvent(cg,gE);f.addEventListener(cg,_),f.dispatchEvent(L),L.defaultPrevented||ni(C??document.body,{select:!0}),f.removeEventListener(cg,_),yE.remove(I)},0)}}},[f,y,_,I]);const V=T.useCallback(C=>{if(!t&&!i||I.paused)return;const k=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,L=document.activeElement;if(k&&L){const K=C.currentTarget,[z,X]=aM(K);z&&X?!C.shiftKey&&L===X?(C.preventDefault(),t&&ni(z,{select:!0})):C.shiftKey&&L===z&&(C.preventDefault(),t&&ni(X,{select:!0})):L===K&&C.preventDefault()}},[t,i,I.paused]);return p.jsx(fn.div,{tabIndex:-1,...u,ref:x,onKeyDown:V})});CT.displayName=sM;function iM(r,{select:e=!1}={}){const t=document.activeElement;for(const i of r)if(ni(i,{select:e}),document.activeElement!==t)return}function aM(r){const e=IT(r),t=pE(e,r),i=pE(e.reverse(),r);return[t,i]}function IT(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function pE(r,e){for(const t of r)if(!oM(t,{upTo:e}))return t}function oM(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function lM(r){return r instanceof HTMLInputElement&&"select"in r}function ni(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&lM(r)&&e&&r.select()}}var yE=cM();function cM(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=vE(r,e),r.unshift(e)},remove(e){var t;r=vE(r,e),(t=r[0])==null||t.resume()}}}function vE(r,e){const t=[...r],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function uM(r){return r.filter(e=>e.tagName!=="A")}var dM="Portal",kT=T.forwardRef((r,e)=>{var f;const{container:t,...i}=r,[o,c]=T.useState(!1);Mo(()=>c(!0),[]);const u=t||o&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?SR.createPortal(p.jsx(fn.div,{...i,ref:e}),u):null});kT.displayName=dM;function hM(r,e){return T.useReducer((t,i)=>e[t][i]??t,r)}var Kc=r=>{const{present:e,children:t}=r,i=fM(e),o=typeof t=="function"?t({present:i.isPresent}):T.Children.only(t),c=Un(i.ref,mM(o));return typeof t=="function"||i.isPresent?T.cloneElement(o,{ref:c}):null};Kc.displayName="Presence";function fM(r){const[e,t]=T.useState(),i=T.useRef(null),o=T.useRef(r),c=T.useRef("none"),u=r?"mounted":"unmounted",[f,g]=hM(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const y=Rd(i.current);c.current=f==="mounted"?y:"none"},[f]),Mo(()=>{const y=i.current,_=o.current;if(_!==r){const x=c.current,I=Rd(y);r?g("MOUNT"):I==="none"||(y==null?void 0:y.display)==="none"?g("UNMOUNT"):g(_&&x!==I?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,g]),Mo(()=>{if(e){let y;const _=e.ownerDocument.defaultView??window,w=I=>{const C=Rd(i.current).includes(CSS.escape(I.animationName));if(I.target===e&&C&&(g("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",y=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},x=I=>{I.target===e&&(c.current=Rd(i.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{_.clearTimeout(y),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:T.useCallback(y=>{i.current=y?getComputedStyle(y):null,t(y)},[])}}function Rd(r){return(r==null?void 0:r.animationName)||"none"}function mM(r){var i,o;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var ug=0;function gM(){T.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??_E()),document.body.insertAdjacentElement("beforeend",r[1]??_E()),ug++,()=>{ug===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ug--}},[])}function _E(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Gd="right-scroll-bar-position",$d="width-before-scroll-bar",pM="with-scroll-bars-hidden",yM="--removed-body-scroll-bar-size";function dg(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function vM(r,e){var t=T.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var _M=typeof window<"u"?T.useLayoutEffect:T.useEffect,bE=new WeakMap;function bM(r,e){var t=vM(null,function(i){return r.forEach(function(o){return dg(o,i)})});return _M(function(){var i=bE.get(t);if(i){var o=new Set(i),c=new Set(r),u=t.current;o.forEach(function(f){c.has(f)||dg(f,null)}),c.forEach(function(f){o.has(f)||dg(f,u)})}bE.set(t,r)},[r]),t}function EM(r){return r}function wM(r,e){e===void 0&&(e=EM);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(c){var u=e(c,i);return t.push(u),function(){t=t.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(i=!0;t.length;){var u=t;t=[],u.forEach(c)}t={push:function(f){return c(f)},filter:function(){return t}}},assignMedium:function(c){i=!0;var u=[];if(t.length){var f=t;t=[],f.forEach(c),u=t}var g=function(){var _=u;u=[],_.forEach(c)},y=function(){return Promise.resolve().then(g)};y(),t={push:function(_){u.push(_),y()},filter:function(_){return u=u.filter(_),t}}}};return o}function xM(r){r===void 0&&(r={});var e=wM(null);return e.options=Ir({async:!0,ssr:!1},r),e}var DT=function(r){var e=r.sideCar,t=Dc(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return T.createElement(i,Ir({},t))};DT.isSideCarExport=!0;function TM(r,e){return r.useMedium(e),DT}var OT=xM(),hg=function(){},jh=T.forwardRef(function(r,e){var t=T.useRef(null),i=T.useState({onScrollCapture:hg,onWheelCapture:hg,onTouchMoveCapture:hg}),o=i[0],c=i[1],u=r.forwardProps,f=r.children,g=r.className,y=r.removeScrollBar,_=r.enabled,w=r.shards,x=r.sideCar,I=r.noRelative,V=r.noIsolation,C=r.inert,k=r.allowPinchZoom,L=r.as,K=L===void 0?"div":L,z=r.gapMode,X=Dc(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Y=x,se=bM([t,e]),D=Ir(Ir({},X),o);return T.createElement(T.Fragment,null,_&&T.createElement(Y,{sideCar:OT,removeScrollBar:y,shards:w,noRelative:I,noIsolation:V,inert:C,setCallbacks:c,allowPinchZoom:!!k,lockRef:t,gapMode:z}),u?T.cloneElement(T.Children.only(f),Ir(Ir({},D),{ref:se})):T.createElement(K,Ir({},D,{className:g,ref:se}),f))});jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jh.classNames={fullWidth:$d,zeroRight:Gd};var SM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AM(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=SM();return e&&r.setAttribute("nonce",e),r}function RM(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function NM(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var CM=function(){var r=0,e=null;return{add:function(t){r==0&&(e=AM())&&(RM(e,t),NM(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},IM=function(){var r=CM();return function(e,t){T.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},PT=function(){var r=IM(),e=function(t){var i=t.styles,o=t.dynamic;return r(i,o),null};return e},kM={left:0,top:0,right:0,gap:0},fg=function(r){return parseInt(r||"",10)||0},DM=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],i=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[fg(t),fg(i),fg(o)]},OM=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return kM;var e=DM(r),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},PM=PT(),To="data-scroll-locked",MM=function(r,e,t,i){var o=r.left,c=r.top,u=r.right,f=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(pM,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(To,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gd,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat($d,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat($d," .").concat($d,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(To,`] {
    `).concat(yM,": ").concat(f,`px;
  }
`)},EE=function(){var r=parseInt(document.body.getAttribute(To)||"0",10);return isFinite(r)?r:0},jM=function(){T.useEffect(function(){return document.body.setAttribute(To,(EE()+1).toString()),function(){var r=EE()-1;r<=0?document.body.removeAttribute(To):document.body.setAttribute(To,r.toString())}},[])},VM=function(r){var e=r.noRelative,t=r.noImportant,i=r.gapMode,o=i===void 0?"margin":i;jM();var c=T.useMemo(function(){return OM(o)},[o]);return T.createElement(PM,{styles:MM(c,!e,o,t?"":"!important")})},Qg=!1;if(typeof window<"u")try{var Nd=Object.defineProperty({},"passive",{get:function(){return Qg=!0,!0}});window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{Qg=!1}var fo=Qg?{passive:!1}:!1,LM=function(r){return r.tagName==="TEXTAREA"},MT=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!LM(r)&&t[e]==="visible")},UM=function(r){return MT(r,"overflowY")},zM=function(r){return MT(r,"overflowX")},wE=function(r,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=jT(r,i);if(o){var c=VT(r,i),u=c[1],f=c[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},BM=function(r){var e=r.scrollTop,t=r.scrollHeight,i=r.clientHeight;return[e,t,i]},FM=function(r){var e=r.scrollLeft,t=r.scrollWidth,i=r.clientWidth;return[e,t,i]},jT=function(r,e){return r==="v"?UM(e):zM(e)},VT=function(r,e){return r==="v"?BM(e):FM(e)},qM=function(r,e){return r==="h"&&e==="rtl"?-1:1},HM=function(r,e,t,i,o){var c=qM(r,window.getComputedStyle(e).direction),u=c*i,f=t.target,g=e.contains(f),y=!1,_=u>0,w=0,x=0;do{if(!f)break;var I=VT(r,f),V=I[0],C=I[1],k=I[2],L=C-k-c*V;(V||L)&&jT(r,f)&&(w+=L,x+=V);var K=f.parentNode;f=K&&K.nodeType===Node.DOCUMENT_FRAGMENT_NODE?K.host:K}while(!g&&f!==document.body||g&&(e.contains(f)||e===f));return(_&&Math.abs(w)<1||!_&&Math.abs(x)<1)&&(y=!0),y},Cd=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},xE=function(r){return[r.deltaX,r.deltaY]},TE=function(r){return r&&"current"in r?r.current:r},GM=function(r,e){return r[0]===e[0]&&r[1]===e[1]},$M=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},KM=0,mo=[];function YM(r){var e=T.useRef([]),t=T.useRef([0,0]),i=T.useRef(),o=T.useState(KM++)[0],c=T.useState(PT)[0],u=T.useRef(r);T.useEffect(function(){u.current=r},[r]),T.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var C=$C([r.lockRef.current],(r.shards||[]).map(TE),!0).filter(Boolean);return C.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),C.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var f=T.useCallback(function(C,k){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!u.current.allowPinchZoom;var L=Cd(C),K=t.current,z="deltaX"in C?C.deltaX:K[0]-L[0],X="deltaY"in C?C.deltaY:K[1]-L[1],Y,se=C.target,D=Math.abs(z)>Math.abs(X)?"h":"v";if("touches"in C&&D==="h"&&se.type==="range")return!1;var A=wE(D,se);if(!A)return!0;if(A?Y=D:(Y=D==="v"?"h":"v",A=wE(D,se)),!A)return!1;if(!i.current&&"changedTouches"in C&&(z||X)&&(i.current=Y),!Y)return!0;var N=i.current||Y;return HM(N,k,C,N==="h"?z:X)},[]),g=T.useCallback(function(C){var k=C;if(!(!mo.length||mo[mo.length-1]!==c)){var L="deltaY"in k?xE(k):Cd(k),K=e.current.filter(function(Y){return Y.name===k.type&&(Y.target===k.target||k.target===Y.shadowParent)&&GM(Y.delta,L)})[0];if(K&&K.should){k.cancelable&&k.preventDefault();return}if(!K){var z=(u.current.shards||[]).map(TE).filter(Boolean).filter(function(Y){return Y.contains(k.target)}),X=z.length>0?f(k,z[0]):!u.current.noIsolation;X&&k.cancelable&&k.preventDefault()}}},[]),y=T.useCallback(function(C,k,L,K){var z={name:C,delta:k,target:L,should:K,shadowParent:QM(L)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(X){return X!==z})},1)},[]),_=T.useCallback(function(C){t.current=Cd(C),i.current=void 0},[]),w=T.useCallback(function(C){y(C.type,xE(C),C.target,f(C,r.lockRef.current))},[]),x=T.useCallback(function(C){y(C.type,Cd(C),C.target,f(C,r.lockRef.current))},[]);T.useEffect(function(){return mo.push(c),r.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:x}),document.addEventListener("wheel",g,fo),document.addEventListener("touchmove",g,fo),document.addEventListener("touchstart",_,fo),function(){mo=mo.filter(function(C){return C!==c}),document.removeEventListener("wheel",g,fo),document.removeEventListener("touchmove",g,fo),document.removeEventListener("touchstart",_,fo)}},[]);var I=r.removeScrollBar,V=r.inert;return T.createElement(T.Fragment,null,V?T.createElement(c,{styles:$M(o)}):null,I?T.createElement(VM,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function QM(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const XM=TM(OT,YM);var LT=T.forwardRef(function(r,e){return T.createElement(jh,Ir({},r,{ref:e,sideCar:XM}))});LT.classNames=jh.classNames;var WM=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},go=new WeakMap,Id=new WeakMap,kd={},mg=0,UT=function(r){return r&&(r.host||UT(r.parentNode))},ZM=function(r,e){return e.map(function(t){if(r.contains(t))return t;var i=UT(t);return i&&r.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},JM=function(r,e,t,i){var o=ZM(e,Array.isArray(r)?r:[r]);kd[t]||(kd[t]=new WeakMap);var c=kd[t],u=[],f=new Set,g=new Set(o),y=function(w){!w||f.has(w)||(f.add(w),y(w.parentNode))};o.forEach(y);var _=function(w){!w||g.has(w)||Array.prototype.forEach.call(w.children,function(x){if(f.has(x))_(x);else try{var I=x.getAttribute(i),V=I!==null&&I!=="false",C=(go.get(x)||0)+1,k=(c.get(x)||0)+1;go.set(x,C),c.set(x,k),u.push(x),C===1&&V&&Id.set(x,!0),k===1&&x.setAttribute(t,"true"),V||x.setAttribute(i,"true")}catch(L){console.error("aria-hidden: cannot operate on ",x,L)}})};return _(e),f.clear(),mg++,function(){u.forEach(function(w){var x=go.get(w)-1,I=c.get(w)-1;go.set(w,x),c.set(w,I),x||(Id.has(w)||w.removeAttribute(i),Id.delete(w)),I||w.removeAttribute(t)}),mg--,mg||(go=new WeakMap,go=new WeakMap,Id=new WeakMap,kd={})}},ej=function(r,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(r)?r:[r]),o=WM(r);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),JM(i,o,t,"aria-hidden")):function(){return null}},Vh="Dialog",[zT,v4]=$c(Vh),[tj,hr]=zT(Vh),BT=r=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:c,modal:u=!0}=r,f=T.useRef(null),g=T.useRef(null),[y,_]=iy({prop:i,defaultProp:o??!1,onChange:c,caller:Vh});return p.jsx(tj,{scope:e,triggerRef:f,contentRef:g,contentId:Hd(),titleId:Hd(),descriptionId:Hd(),open:y,onOpenChange:_,onOpenToggle:T.useCallback(()=>_(w=>!w),[_]),modal:u,children:t})};BT.displayName=Vh;var FT="DialogTrigger",qT=T.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=hr(FT,t),c=Un(e,o.triggerRef);return p.jsx(fn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ly(o.open),...i,ref:c,onClick:tn(r.onClick,o.onOpenToggle)})});qT.displayName=FT;var ay="DialogPortal",[nj,HT]=zT(ay,{forceMount:void 0}),GT=r=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=r,c=hr(ay,e);return p.jsx(nj,{scope:e,forceMount:t,children:T.Children.map(i,u=>p.jsx(Kc,{present:t||c.open,children:p.jsx(kT,{asChild:!0,container:o,children:u})}))})};GT.displayName=ay;var fh="DialogOverlay",$T=T.forwardRef((r,e)=>{const t=HT(fh,r.__scopeDialog),{forceMount:i=t.forceMount,...o}=r,c=hr(fh,r.__scopeDialog);return c.modal?p.jsx(Kc,{present:i||c.open,children:p.jsx(sj,{...o,ref:e})}):null});$T.displayName=fh;var rj=yc("DialogOverlay.RemoveScroll"),sj=T.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=hr(fh,t);return p.jsx(LT,{as:rj,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(fn.div,{"data-state":ly(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),ga="DialogContent",KT=T.forwardRef((r,e)=>{const t=HT(ga,r.__scopeDialog),{forceMount:i=t.forceMount,...o}=r,c=hr(ga,r.__scopeDialog);return p.jsx(Kc,{present:i||c.open,children:c.modal?p.jsx(ij,{...o,ref:e}):p.jsx(aj,{...o,ref:e})})});KT.displayName=ga;var ij=T.forwardRef((r,e)=>{const t=hr(ga,r.__scopeDialog),i=T.useRef(null),o=Un(e,t.contentRef,i);return T.useEffect(()=>{const c=i.current;if(c)return ej(c)},[]),p.jsx(YT,{...r,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tn(r.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:tn(r.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:tn(r.onFocusOutside,c=>c.preventDefault())})}),aj=T.forwardRef((r,e)=>{const t=hr(ga,r.__scopeDialog),i=T.useRef(!1),o=T.useRef(!1);return p.jsx(YT,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,f;(u=r.onCloseAutoFocus)==null||u.call(r,c),c.defaultPrevented||(i.current||(f=t.triggerRef.current)==null||f.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{var g,y;(g=r.onInteractOutside)==null||g.call(r,c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;((y=t.triggerRef.current)==null?void 0:y.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),YT=T.forwardRef((r,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=r,f=hr(ga,t),g=T.useRef(null),y=Un(e,g);return gM(),p.jsxs(p.Fragment,{children:[p.jsx(CT,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:p.jsx(RT,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":ly(f.open),...u,ref:y,onDismiss:()=>f.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(oj,{titleId:f.titleId}),p.jsx(cj,{contentRef:g,descriptionId:f.descriptionId})]})]})}),oy="DialogTitle",QT=T.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=hr(oy,t);return p.jsx(fn.h2,{id:o.titleId,...i,ref:e})});QT.displayName=oy;var XT="DialogDescription",WT=T.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=hr(XT,t);return p.jsx(fn.p,{id:o.descriptionId,...i,ref:e})});WT.displayName=XT;var ZT="DialogClose",JT=T.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=hr(ZT,t);return p.jsx(fn.button,{type:"button",...i,ref:e,onClick:tn(r.onClick,()=>o.onOpenChange(!1))})});JT.displayName=ZT;function ly(r){return r?"open":"closed"}var eS="DialogTitleWarning",[_4,tS]=BP(eS,{contentName:ga,titleName:oy,docsSlug:"dialog"}),oj=({titleId:r})=>{const e=tS(eS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{r&&(document.getElementById(r)||console.error(t))},[t,r]),null},lj="DialogDescriptionWarning",cj=({contentRef:r,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tS(lj).contentName}}.`;return T.useEffect(()=>{var c;const o=(c=r.current)==null?void 0:c.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,r,e]),null},uj=BT,dj=qT,hj=GT,fj=$T,mj=KT,gj=QT,pj=WT,yj=JT;function vj({...r}){return p.jsx(uj,{"data-slot":"dialog",...r})}function _j({...r}){return p.jsx(dj,{"data-slot":"dialog-trigger",...r})}function bj({...r}){return p.jsx(hj,{"data-slot":"dialog-portal",...r})}function Ej({className:r,...e}){return p.jsx(fj,{"data-slot":"dialog-overlay",className:rn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...e})}function wj({className:r,children:e,...t}){return p.jsxs(bj,{"data-slot":"dialog-portal",children:[p.jsx(Ej,{}),p.jsxs(mj,{"data-slot":"dialog-content",className:rn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...t,children:[e,p.jsxs(yj,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(DP,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function xj({className:r,...e}){return p.jsx("div",{"data-slot":"dialog-header",className:rn("flex flex-col gap-2 text-center sm:text-left",r),...e})}function Tj({className:r,...e}){return p.jsx("div",{"data-slot":"dialog-footer",className:rn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...e})}function Sj({className:r,...e}){return p.jsx(gj,{"data-slot":"dialog-title",className:rn("text-lg leading-none font-semibold",r),...e})}function Aj({className:r,...e}){return p.jsx(pj,{"data-slot":"dialog-description",className:rn("text-muted-foreground text-sm",r),...e})}function Rj(r){const e=r+"CollectionProvider",[t,i]=$c(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:k,children:L}=C,K=hs.useRef(null),z=hs.useRef(new Map).current;return p.jsx(o,{scope:k,itemMap:z,collectionRef:K,children:L})};u.displayName=e;const f=r+"CollectionSlot",g=yc(f),y=hs.forwardRef((C,k)=>{const{scope:L,children:K}=C,z=c(f,L),X=Un(k,z.collectionRef);return p.jsx(g,{ref:X,children:K})});y.displayName=f;const _=r+"CollectionItemSlot",w="data-radix-collection-item",x=yc(_),I=hs.forwardRef((C,k)=>{const{scope:L,children:K,...z}=C,X=hs.useRef(null),Y=Un(k,X),se=c(_,L);return hs.useEffect(()=>(se.itemMap.set(X,{ref:X,...z}),()=>void se.itemMap.delete(X))),p.jsx(x,{[w]:"",ref:Y,children:K})});I.displayName=_;function V(C){const k=c(r+"CollectionConsumer",C);return hs.useCallback(()=>{const K=k.collectionRef.current;if(!K)return[];const z=Array.from(K.querySelectorAll(`[${w}]`));return Array.from(k.itemMap.values()).sort((se,D)=>z.indexOf(se.ref.current)-z.indexOf(D.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:y,ItemSlot:I},V,i]}var Nj=T.createContext(void 0);function nS(r){const e=T.useContext(Nj);return r||e||"ltr"}var gg="rovingFocusGroup.onEntryFocus",Cj={bubbles:!1,cancelable:!0},Yc="RovingFocusGroup",[Xg,rS,Ij]=Rj(Yc),[kj,sS]=$c(Yc,[Ij]),[Dj,Oj]=kj(Yc),iS=T.forwardRef((r,e)=>p.jsx(Xg.Provider,{scope:r.__scopeRovingFocusGroup,children:p.jsx(Xg.Slot,{scope:r.__scopeRovingFocusGroup,children:p.jsx(Pj,{...r,ref:e})})}));iS.displayName=Yc;var Pj=T.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:g,onEntryFocus:y,preventScrollOnEntryFocus:_=!1,...w}=r,x=T.useRef(null),I=Un(e,x),V=nS(c),[C,k]=iy({prop:u,defaultProp:f??null,onChange:g,caller:Yc}),[L,K]=T.useState(!1),z=jo(y),X=rS(t),Y=T.useRef(!1),[se,D]=T.useState(0);return T.useEffect(()=>{const A=x.current;if(A)return A.addEventListener(gg,z),()=>A.removeEventListener(gg,z)},[z]),p.jsx(Dj,{scope:t,orientation:i,dir:V,loop:o,currentTabStopId:C,onItemFocus:T.useCallback(A=>k(A),[k]),onItemShiftTab:T.useCallback(()=>K(!0),[]),onFocusableItemAdd:T.useCallback(()=>D(A=>A+1),[]),onFocusableItemRemove:T.useCallback(()=>D(A=>A-1),[]),children:p.jsx(fn.div,{tabIndex:L||se===0?-1:0,"data-orientation":i,...w,ref:I,style:{outline:"none",...r.style},onMouseDown:tn(r.onMouseDown,()=>{Y.current=!0}),onFocus:tn(r.onFocus,A=>{const N=!Y.current;if(A.target===A.currentTarget&&N&&!L){const M=new CustomEvent(gg,Cj);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const U=X().filter(Z=>Z.focusable),F=U.find(Z=>Z.active),P=U.find(Z=>Z.id===C),Ge=[F,P,...U].filter(Boolean).map(Z=>Z.ref.current);lS(Ge,_)}}Y.current=!1}),onBlur:tn(r.onBlur,()=>K(!1))})})}),aS="RovingFocusGroupItem",oS=T.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:o=!1,tabStopId:c,children:u,...f}=r,g=Hd(),y=c||g,_=Oj(aS,t),w=_.currentTabStopId===y,x=rS(t),{onFocusableItemAdd:I,onFocusableItemRemove:V,currentTabStopId:C}=_;return T.useEffect(()=>{if(i)return I(),()=>V()},[i,I,V]),p.jsx(Xg.ItemSlot,{scope:t,id:y,focusable:i,active:o,children:p.jsx(fn.span,{tabIndex:w?0:-1,"data-orientation":_.orientation,...f,ref:e,onMouseDown:tn(r.onMouseDown,k=>{i?_.onItemFocus(y):k.preventDefault()}),onFocus:tn(r.onFocus,()=>_.onItemFocus(y)),onKeyDown:tn(r.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){_.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const L=Vj(k,_.orientation,_.dir);if(L!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let z=x().filter(X=>X.focusable).map(X=>X.ref.current);if(L==="last")z.reverse();else if(L==="prev"||L==="next"){L==="prev"&&z.reverse();const X=z.indexOf(k.currentTarget);z=_.loop?Lj(z,X+1):z.slice(X+1)}setTimeout(()=>lS(z))}}),children:typeof u=="function"?u({isCurrentTabStop:w,hasTabStop:C!=null}):u})})});oS.displayName=aS;var Mj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jj(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function Vj(r,e,t){const i=jj(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Mj[i]}function lS(r,e=!1){const t=document.activeElement;for(const i of r)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function Lj(r,e){return r.map((t,i)=>r[(e+i)%r.length])}var Uj=iS,zj=oS;function Bj(r){const[e,t]=T.useState(void 0);return Mo(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,f;if("borderBoxSize"in c){const g=c.borderBoxSize,y=Array.isArray(g)?g[0]:g;u=y.inlineSize,f=y.blockSize}else u=r.offsetWidth,f=r.offsetHeight;t({width:u,height:f})});return i.observe(r,{box:"border-box"}),()=>i.unobserve(r)}else t(void 0)},[r]),e}function Fj(r){const e=T.useRef({value:r,previous:r});return T.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var cy="Radio",[qj,cS]=$c(cy),[Hj,Gj]=qj(cy),uS=T.forwardRef((r,e)=>{const{__scopeRadio:t,name:i,checked:o=!1,required:c,disabled:u,value:f="on",onCheck:g,form:y,..._}=r,[w,x]=T.useState(null),I=Un(e,k=>x(k)),V=T.useRef(!1),C=w?y||!!w.closest("form"):!0;return p.jsxs(Hj,{scope:t,checked:o,disabled:u,children:[p.jsx(fn.button,{type:"button",role:"radio","aria-checked":o,"data-state":mS(o),"data-disabled":u?"":void 0,disabled:u,value:f,..._,ref:I,onClick:tn(r.onClick,k=>{o||g==null||g(),C&&(V.current=k.isPropagationStopped(),V.current||k.stopPropagation())})}),C&&p.jsx(fS,{control:w,bubbles:!V.current,name:i,value:f,checked:o,required:c,disabled:u,form:y,style:{transform:"translateX(-100%)"}})]})});uS.displayName=cy;var dS="RadioIndicator",hS=T.forwardRef((r,e)=>{const{__scopeRadio:t,forceMount:i,...o}=r,c=Gj(dS,t);return p.jsx(Kc,{present:i||c.checked,children:p.jsx(fn.span,{"data-state":mS(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:e})})});hS.displayName=dS;var $j="RadioBubbleInput",fS=T.forwardRef(({__scopeRadio:r,control:e,checked:t,bubbles:i=!0,...o},c)=>{const u=T.useRef(null),f=Un(u,c),g=Fj(t),y=Bj(e);return T.useEffect(()=>{const _=u.current;if(!_)return;const w=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(w,"checked").set;if(g!==t&&I){const V=new Event("click",{bubbles:i});I.call(_,t),_.dispatchEvent(V)}},[g,t,i]),p.jsx(fn.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:f,style:{...o.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});fS.displayName=$j;function mS(r){return r?"checked":"unchecked"}var Kj=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Lh="RadioGroup",[Yj,b4]=$c(Lh,[sS,cS]),gS=sS(),pS=cS(),[Qj,Xj]=Yj(Lh),yS=T.forwardRef((r,e)=>{const{__scopeRadioGroup:t,name:i,defaultValue:o,value:c,required:u=!1,disabled:f=!1,orientation:g,dir:y,loop:_=!0,onValueChange:w,...x}=r,I=gS(t),V=nS(y),[C,k]=iy({prop:c,defaultProp:o??null,onChange:w,caller:Lh});return p.jsx(Qj,{scope:t,name:i,required:u,disabled:f,value:C,onValueChange:k,children:p.jsx(Uj,{asChild:!0,...I,orientation:g,dir:V,loop:_,children:p.jsx(fn.div,{role:"radiogroup","aria-required":u,"aria-orientation":g,"data-disabled":f?"":void 0,dir:V,...x,ref:e})})})});yS.displayName=Lh;var vS="RadioGroupItem",_S=T.forwardRef((r,e)=>{const{__scopeRadioGroup:t,disabled:i,...o}=r,c=Xj(vS,t),u=c.disabled||i,f=gS(t),g=pS(t),y=T.useRef(null),_=Un(e,y),w=c.value===o.value,x=T.useRef(!1);return T.useEffect(()=>{const I=C=>{Kj.includes(C.key)&&(x.current=!0)},V=()=>x.current=!1;return document.addEventListener("keydown",I),document.addEventListener("keyup",V),()=>{document.removeEventListener("keydown",I),document.removeEventListener("keyup",V)}},[]),p.jsx(zj,{asChild:!0,...f,focusable:!u,active:w,children:p.jsx(uS,{disabled:u,required:c.required,checked:w,...g,...o,name:c.name,ref:_,onCheck:()=>c.onValueChange(o.value),onKeyDown:tn(I=>{I.key==="Enter"&&I.preventDefault()}),onFocus:tn(o.onFocus,()=>{var I;x.current&&((I=y.current)==null||I.click())})})})});_S.displayName=vS;var Wj="RadioGroupIndicator",bS=T.forwardRef((r,e)=>{const{__scopeRadioGroup:t,...i}=r,o=pS(t);return p.jsx(hS,{...o,...i,ref:e})});bS.displayName=Wj;var Zj=yS,Jj=_S,e4=bS;function t4({className:r,...e}){return p.jsx(Zj,{"data-slot":"radio-group",className:rn("grid gap-3",r),...e})}function SE({className:r,...e}){return p.jsx(Jj,{"data-slot":"radio-group-item",className:rn("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:p.jsx(e4,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:p.jsx(sP,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var n4="Label",ES=T.forwardRef((r,e)=>p.jsx(fn.label,{...r,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=r.onMouseDown)==null||o.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));ES.displayName=n4;var r4=ES;function ra({className:r,...e}){return p.jsx(r4,{"data-slot":"label",className:rn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function s4(){const[r,e]=T.useState(null),[t,i]=T.useState(!0),[o,c]=T.useState(""),[u,f]=T.useState(""),[g,y]=T.useState(!1),[_,w]=T.useState([]),[x,I]=T.useState([]),[V,C]=T.useState({wallet_balance:0,total_earned:0,day1_earning:0,day10_earning:0,day20_earning:0,day30_earning:0,referral_codes:{},referred_by:"",purchased_package:""}),[k,L]=T.useState([]),[K,z]=T.useState(!1),[X,Y]=T.useState("UPI"),[se,D]=T.useState(""),[A,N]=T.useState(""),[M,U]=T.useState(""),[F,P]=T.useState(!1),Je=Ur();T.useEffect(()=>{(async()=>{const te=wn.currentUser;if(!te){Je("/login");return}const ve=Tn(ut,"students",te.uid),j=await Po(ve);if(j.exists()){const ee=j.data();e(ee),c(ee.mobile_number||""),f(ee.state||""),C({wallet_balance:ee.wallet_balance||0,total_earned:ee.total_earned||0,day1_earning:ee.day1_earning||0,day10_earning:ee.day10_earning||0,day20_earning:ee.day20_earning||0,day30_earning:ee.day30_earning||0,referral_codes:ee.referral_codes||{},referred_by:ee.referred_by||"",purchased_package:ee.purchased_package||""}),ee.mobile_number&&ee.state&&y(!0)}i(!1)})()},[Je]),T.useEffect(()=>{g&&(async()=>{const te=wn.currentUser;if(te)try{const ve=await sy(te.uid);w(ve);const j=ve.map(re=>re.package_id?(console.log("Fetching package details for purchase:",re.id,"package_id:",re.package_id),ry(re.package_id)):(console.warn("Missing package_id in purchase:",re),Promise.resolve(null))),ee=await Promise.all(j),ue={};ee.forEach((re,he)=>{if(re){const xe=ve[he].package_id;xe?(console.log("Mapping package details for package:",xe),ue[xe]=re):console.warn("Missing package_id for purchase at index:",he)}}),I(ue),console.log("Final package map:",ue)}catch(ve){console.error("Error fetching purchases:",ve)}})()},[g]),T.useEffect(()=>{g&&(async()=>{const te=wn.currentUser;if(te)try{const ve=ma(Sn(ut,"purchases"),Mr("referred_by","==",te.uid)),j=await Lr(ve),ee=[];let ue=0;j.forEach(re=>{var De;const he=re.data(),xe=he.commission||0,Ee=((De=he.purchase_date)==null?void 0:De.toDate())||new Date;ue+=xe,ee.push({id:re.id,...he,commission:xe,purchaseDate:Ee})}),ee.sort((re,he)=>he.purchaseDate-re.purchaseDate),L(ee),C(re=>({...re,total_earned:ue})),console.log("Fetched referral earnings:",ee)}catch(ve){console.error("Error fetching referral earnings:",ve)}})()},[g]),T.useEffect(()=>{const ie=wn.currentUser;if(!ie)return;const te=$g(Tn(ut,"students",ie.uid),ve=>{if(ve.exists()){const j=ve.data();C(ee=>({...ee,wallet_balance:j.wallet_balance||0,total_earned:j.total_earned||0}))}});return()=>te()},[]);const Ge=async()=>{const ie=wn.currentUser;if(!ie)return;const te=Tn(ut,"students",ie.uid);await uh(te,{mobile_number:o,state:u});const ve={...r,mobile_number:o,state:u};e(ve),o&&u&&y(!0),alert("Profile updated successfully!")},Z=async()=>{const ie=wn.currentUser;if(!ie)return;const te=document.getElementById("amount"),ve=te?parseFloat(te.value):V.wallet_balance;if(ve<200){alert("Minimum withdrawal amount is 200.");return}if(X==="UPI"&&!se.trim()){alert("Please provide valid UPI ID or bank account details.");return}if(X==="BANK"&&(!A.trim()||!M.trim())){alert("Please provide valid UPI ID or bank account details.");return}P(!0);try{const j={user_id:ie.uid,withdrawal_amount:ve,status:"pending",withdrawal_time:_o()};X==="UPI"?j.UPI=se.trim():(j.account_number=A.trim(),j.IFSC_code=M.trim().toUpperCase()),await Gg(Sn(ut,"withdrawal"),j);const ee=Tn(ut,"students",ie.uid);await uh(ee,{wallet_balance:0}),C(ue=>({...ue,wallet_balance:0})),D(""),N(""),U(""),z(!1),alert("Your withdrawal request has been submitted successfully and is pending approval.")}catch(j){console.error("Error submitting withdrawal request:",j),alert("Error submitting withdrawal request. Please try again.")}finally{P(!1)}};return t?p.jsx("p",{children:"Loading dashboard..."}):p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 py-12 px-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-blue-600",children:["Welcome, ",(r==null?void 0:r.name)||"Student"," "]}),p.jsx("div",{className:"flex gap-2",children:p.jsx(Me,{onClick:()=>Je("/referral-dashboard"),variant:"outline",className:"bg-blue-100 hover:bg-blue-200 text-blue-700",children:"Referral Dashboard"})})]}),g?_.length===0?p.jsxs("div",{className:"space-y-8",children:[p.jsxs(Ie,{className:"bg-white shadow-2xl border rounded-2xl",children:[p.jsxs(Ye,{className:"text-center",children:[p.jsx(We,{className:"text-2xl font-black text-blue-600",children:"Your Profile"}),p.jsx(gt,{className:"text-gray-600",children:"Your account information"})]}),p.jsxs($e,{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[p.jsx("span",{className:"font-medium text-gray-600",children:"Name:"}),p.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.name)||"N/A"})]}),p.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[p.jsx("span",{className:"font-medium text-gray-600",children:"Email:"}),p.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.email)||"N/A"})]}),p.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[p.jsx("span",{className:"font-medium text-gray-600",children:"Mobile:"}),p.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.mobile_number)||"N/A"})]}),p.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[p.jsx("span",{className:"font-medium text-gray-600",children:"State:"}),p.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.state)||"N/A"})]}),p.jsx("div",{className:"pt-4 text-center text-sm text-gray-500",children:p.jsx("p",{children:"You'll earn commission based on your current package level, regardless of which package the referred person buys."})})]})]}),p.jsxs(Ie,{className:"bg-white shadow-2xl border rounded-2xl",children:[p.jsxs(Ye,{className:"text-center",children:[p.jsx(We,{className:"text-2xl font-black text-blue-600",children:"Your Courses"}),p.jsx(gt,{className:"text-gray-600",children:"Courses you've purchased"})]}),p.jsx($e,{children:p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't joined YouthPargati yet. Please buy a package to get started."}),p.jsx(Me,{onClick:()=>Je("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Browse Courses"})]})})]})]}):p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsx(Ie,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:p.jsx($e,{className:"p-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Day 1 Earnings"}),p.jsxs("p",{className:"text-2xl font-bold",children:["",V.day1_earning]})]}),p.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})}),p.jsx(Ie,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:p.jsx($e,{className:"p-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Day 10 Earnings"}),p.jsxs("p",{className:"text-2xl font-bold",children:["",V.day10_earning]})]}),p.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"})})})]})})}),p.jsx(Ie,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:p.jsx($e,{className:"p-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Day 20 Earnings"}),p.jsxs("p",{className:"text-2xl font-bold",children:["",V.day20_earning]})]}),p.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})}),p.jsx(Ie,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:p.jsx($e,{className:"p-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Day 30 Earnings"}),p.jsxs("p",{className:"text-2xl font-bold",children:["",V.day30_earning]})]}),p.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})}),p.jsx(Ie,{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white md:col-span-2 lg:col-span-1",children:p.jsx($e,{className:"p-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Wallet Balance"}),p.jsxs("p",{className:"text-2xl font-bold",children:["",V.wallet_balance]})]}),p.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})})]})})}),p.jsx(Ie,{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white md:col-span-2 lg:col-span-3",children:p.jsx($e,{className:"p-4",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Total Earned"}),p.jsxs("p",{className:"text-2xl font-bold",children:["",V.total_earned]})]}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:p.jsxs(vj,{open:K,onOpenChange:z,children:[p.jsx(_j,{asChild:!0,children:p.jsx(Me,{className:"bg-white text-indigo-600 hover:bg-white/90 font-bold",disabled:V.wallet_balance<200,children:"Withdraw Earnings"})}),p.jsxs(wj,{className:"sm:max-w-[425px]",children:[p.jsxs(xj,{children:[p.jsx(Sj,{children:"Withdraw Earnings"}),p.jsx(Aj,{children:"Request withdrawal from your wallet balance. Minimum withdrawal amount is 200."})]}),p.jsxs("div",{className:"grid gap-4 py-4",children:[p.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[p.jsx(ra,{htmlFor:"amount",className:"text-right",children:"Amount"}),p.jsx(ri,{id:"amount",type:"number",min:"200",max:V.wallet_balance,defaultValue:V.wallet_balance,className:"col-span-3",placeholder:"Withdrawal amount"})]}),p.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[p.jsx(ra,{htmlFor:"method",className:"text-right",children:"Method"}),p.jsxs(t4,{value:X,onValueChange:Y,className:"col-span-3",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(SE,{value:"UPI",id:"UPI"}),p.jsx(ra,{htmlFor:"UPI",children:"UPI"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(SE,{value:"BANK",id:"BANK"}),p.jsx(ra,{htmlFor:"BANK",children:"Bank Account"})]})]})]}),X==="UPI"?p.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[p.jsx(ra,{htmlFor:"upi",className:"text-right",children:"UPI ID"}),p.jsx(ri,{id:"upi",value:se,onChange:ie=>D(ie.target.value),className:"col-span-3",placeholder:"yourname@upi"})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[p.jsx(ra,{htmlFor:"account",className:"text-right",children:"Account No."}),p.jsx(ri,{id:"account",value:A,onChange:ie=>N(ie.target.value),className:"col-span-3",placeholder:"Bank account number"})]}),p.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[p.jsx(ra,{htmlFor:"ifsc",className:"text-right",children:"IFSC Code"}),p.jsx(ri,{id:"ifsc",value:M,onChange:ie=>U(ie.target.value),className:"col-span-3",placeholder:"Bank IFSC code"})]})]})]}),p.jsx(Tj,{children:p.jsx(Me,{onClick:Z,disabled:F,className:"bg-indigo-600 hover:bg-indigo-700",children:F?"Processing...":"Submit Request"})})]})]})})]})})})]}),p.jsxs(Ie,{className:"bg-white shadow-2xl border rounded-2xl",children:[p.jsxs(Ye,{className:"text-center",children:[p.jsx(We,{className:"text-2xl font-black text-blue-600",children:"Your Profile"}),p.jsx(gt,{className:"text-gray-600",children:"Your account information"})]}),p.jsxs($e,{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[p.jsx("span",{className:"font-medium text-gray-600",children:"Name:"}),p.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.name)||"N/A"})]}),p.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[p.jsx("span",{className:"font-medium text-gray-600",children:"Email:"}),p.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.email)||"N/A"})]}),p.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[p.jsx("span",{className:"font-medium text-gray-600",children:"Mobile:"}),p.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.mobile_number)||"N/A"})]}),p.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[p.jsx("span",{className:"font-medium text-gray-600",children:"State:"}),p.jsx("span",{className:"font-semibold",children:(r==null?void 0:r.state)||"N/A"})]}),p.jsx("div",{className:"pt-4 text-center text-sm text-gray-500",children:p.jsx("p",{children:"You'll earn commission based on your current package level, regardless of which package the referred person buys."})})]})]}),p.jsxs(Ie,{className:"bg-white shadow-2xl border rounded-2xl",children:[p.jsxs(Ye,{className:"text-center",children:[p.jsx(We,{className:"text-2xl font-black text-blue-600",children:"Your Courses"}),p.jsx(gt,{className:"text-gray-600",children:"Courses you've purchased"})]}),p.jsx($e,{children:_.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't purchased any courses yet."}),p.jsx(Me,{onClick:()=>Je("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Browse Courses"})]}):p.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:_.map(ie=>{var ve;if(!ie.package_id)return console.warn("Missing package_id in purchase for rendering:",ie),null;const te=x[ie.package_id];return console.log("Rendering purchase:",ie.id,"package_id:",ie.package_id,"package exists:",!!te),te?p.jsxs(Ie,{className:"border-2 border-blue-200",children:[p.jsxs(Ye,{children:[p.jsx(We,{className:"text-lg font-bold text-blue-600",children:te.title}),p.jsx(gt,{children:te.description})]}),p.jsxs($e,{children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("span",{className:"font-semibold text-green-600",children:"Purchased"}),p.jsx("span",{className:"text-sm text-gray-500",children:(ve=ie.purchase_date)!=null&&ve.toDate?ie.purchase_date.toDate().toLocaleDateString():"Date unknown"})]}),p.jsx(Me,{onClick:()=>{console.log("Navigating to package courses for package:",ie.package_id),Je(`/packages/${ie.package_id}/courses`)},className:"w-full bg-green-600 hover:bg-green-700",children:"View Course"})]})]},ie.id):null})})})]})]}):p.jsxs(Ie,{className:"bg-white shadow-2xl border rounded-2xl mx-auto",children:[p.jsxs(Ye,{className:"text-center",children:[p.jsx(We,{className:"text-2xl font-black text-blue-600",children:"Complete Your Profile"}),p.jsx(gt,{className:"text-gray-600",children:"Please fill in your details to continue"})]}),p.jsxs($e,{className:"space-y-6",children:[p.jsx("div",{className:"space-y-2",children:p.jsx(ri,{type:"text",placeholder:"Mobile Number",value:o,onChange:ie=>c(ie.target.value),className:"w-full"})}),p.jsx("div",{className:"space-y-2",children:p.jsx(ri,{type:"text",placeholder:"State",value:u,onChange:ie=>f(ie.target.value),className:"w-full"})}),p.jsx(Me,{onClick:Ge,className:"w-full bg-blue-600 text-white hover:bg-blue-700 font-bold text-lg py-6",size:"lg",children:"Save Profile"})]})]})]})})}function i4(){const{id:r}=jE();console.log("PackageCourses component loaded with package ID:",r);const e=Ur(),{user:t,isLoadingAuth:i}=Ko(),[o,c]=T.useState([]),[u,f]=T.useState(null),[g,y]=T.useState(!0),[_,w]=T.useState(null),[x,I]=T.useState(!1),[V,C]=T.useState(!1),[k,L]=T.useState(!0),K=async()=>{var z,X;if(console.log("PackageCourses: handleBuyNow called"),console.log("PackageCourses: Current user state",t),console.log("PackageCourses: Current auth context",{user:t,isLoadingAuth:i,loading:g}),i||g){console.warn("Purchase attempt blocked: Auth state still loading"),alert("Please wait, still loading user session...");return}if(!t){console.warn("Purchase attempt blocked: No user object"),console.log("PackageCourses: User check failed. User:",t),alert("Please log in to purchase courses.");return}if(!t.uid){console.warn("Purchase attempt blocked: User ID not available"),console.log("PackageCourses: User ID check failed. User:",t),alert("Please log in to purchase courses.");return}console.log("PackageCourses: User authenticated",t.uid),await new Promise(Y=>setTimeout(Y,100)),I(!0);try{console.log("PackageCourses: Processing payment for user",t.uid);const Y={name:((z=t.user_metadata)==null?void 0:z.name)||"Student",phone:((X=t.user_metadata)==null?void 0:X.phone)||""};sessionStorage.setItem("checkoutPackage",JSON.stringify(u)),await TT(u,{uid:t.uid,name:Y.name,phone:Y.phone})}catch(Y){console.error("Payment error:",Y),alert("Failed to process payment. Please try again.")}finally{I(!1)}};return T.useEffect(()=>{(async()=>{if(console.log("Checking purchase status for package:",r,"user:",t==null?void 0:t.uid),t&&t.uid&&r)try{const Y=await Kg(r,t.uid);console.log("Purchase check result for package",r,":",Y),C(Y),localStorage.setItem(`purchase_${r}_${t.uid}`,Y.toString())}catch(Y){console.error("Error checking purchase status for package",r,":",Y)}finally{L(!1)}else console.log("Skipping purchase check - missing user or package ID",{user:!!t,userId:t==null?void 0:t.uid,packageId:r}),L(!1)})();const X=Y=>{if(console.log("Storage change event for key:",Y.key,"package:",r),Y.key==="lastPurchase"&&r){if(!t||!t.uid){console.warn("User not loaded yet, waiting...");return}console.log("Re-checking purchase status after storage change for package:",r,"user:",t.uid),Kg(r,t.uid).then(se=>{console.log("Updated purchase status for package",r,":",se),C(se),localStorage.setItem(`purchase_${r}_${t.uid}`,se.toString())})}};return window.addEventListener("storage",X),()=>{window.removeEventListener("storage",X)}},[t,r]),T.useEffect(()=>{r&&(async()=>{try{y(!0),w(null);const X=await ry(r);if(console.log("Fetched package data:",X),!X)throw new Error("Package not found");f(X);const Y=await HO(X);console.log("Fetched courses with videos data:",Y),c(Y)}catch(X){console.error("Error:",X),w(`Error: ${X.message}`)}finally{y(!1)}})()},[r]),g||k?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),p.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"Loading courses..."})]})}):_?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:p.jsxs(Ie,{className:"w-full max-w-md border-2 border-red-300",children:[p.jsx(Ye,{children:p.jsx(We,{className:"text-red-600",children:"Error Loading Courses"})}),p.jsxs($e,{children:[p.jsx("p",{className:"text-gray-600 mb-4",children:_}),p.jsx(Me,{asChild:!0,className:"w-full",children:p.jsxs(fi,{to:"/",children:[p.jsx(hh,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})]})}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50",children:[p.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-orange-500 text-white py-12 px-4",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx(Me,{variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",asChild:!0,children:p.jsxs(fi,{to:"/",children:[p.jsx(hh,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),t&&p.jsx(Me,{onClick:()=>e("/referral-dashboard"),variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:"My Referrals"})]}),p.jsxs("div",{className:"text-center",children:[(u==null?void 0:u.name)&&p.jsx("div",{className:"text-lg font-semibold text-blue-200 mb-2",children:u.name}),p.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:(u==null?void 0:u.title)||"Package Courses"}),p.jsx("p",{className:"text-xl text-blue-100 mb-2",children:(u==null?void 0:u.description)||"Explore the courses in this package"}),p.jsx("div",{className:"mt-6",children:V?p.jsx(Me,{className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6",onClick:()=>{o.length>0?e(`/courses/${o[0].id}/videos`):e("/dashboard")},children:"View Course"}):p.jsx(Me,{className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6",onClick:K,disabled:i||!t||x,children:x?"Processing...":"Buy This Package Now"})})]})]})}),p.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-black text-blue-600 mb-4",children:"Available Courses"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Choose a course to start learning"})]}),o.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(_s,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Courses Available"}),p.jsx("p",{className:"text-gray-500",children:"This package doesn't have any courses yet."})]}):p.jsx("div",{className:"space-y-12",children:o.map(z=>p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Ie,{className:"bg-white shadow-xl border-2 border-blue-200 hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[p.jsxs(Ye,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(dh,{className:"bg-blue-100 text-blue-600 font-bold",children:"COURSE"}),p.jsx(li,{className:"h-6 w-6 text-blue-600"})]}),z.thumbnail?p.jsx("img",{src:z.thumbnail,alt:z.title,className:"w-full h-48 object-cover rounded-xl mb-3"}):z.thumbnail_url?p.jsx("img",{src:z.thumbnail_url,alt:z.title,className:"w-full h-40 object-cover rounded-lg mb-4",onError:X=>{X.target.style.display="none"}}):p.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-blue-100 to-orange-100 rounded-lg mb-4 flex items-center justify-center",children:p.jsx(_s,{className:"h-12 w-12 text-blue-400"})}),p.jsx(We,{className:"text-xl font-black text-gray-800",children:z.title}),p.jsx(gt,{className:"text-gray-600 line-clamp-3",children:z.description||"Learn new skills with this comprehensive course."})]}),p.jsxs($e,{children:[z.duration&&p.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[p.jsx(li,{className:"h-4 w-4 mr-1"}),"Duration: ",z.duration]}),V?p.jsxs(Me,{className:"w-full bg-green-600 text-white hover:bg-green-700 font-bold py-3",onClick:()=>e(`/courses/${z.id}/videos`),children:[p.jsx(li,{className:"h-4 w-4 mr-2"}),"Start Learning"]}):p.jsxs(Me,{className:"w-full bg-blue-600 text-white hover:bg-blue-700 font-bold py-3",disabled:!0,children:[p.jsx(li,{className:"h-4 w-4 mr-2"}),"Buy Package to Access"]})]})]}),z.videos&&z.videos.length>0&&p.jsxs("div",{className:"ml-4 pl-4 border-l-2 border-blue-200",children:[p.jsxs("h3",{className:"text-2xl font-bold text-blue-600 mb-4 flex items-center",children:[p.jsx(IP,{className:"h-6 w-6 mr-2"}),"Videos in this Course (",z.videos.length,")"]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.videos.map(X=>p.jsx(Ie,{className:"bg-white border border-gray-200",children:p.jsxs($e,{className:"p-4",children:[p.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:X.title}),p.jsx("p",{className:"text-sm text-gray-600 mb-3",children:X.description||"No description available"}),V?p.jsx(Me,{size:"sm",className:"w-full bg-blue-100 text-blue-700 hover:bg-blue-200",onClick:()=>e(`/courses/${z.id}/videos`),children:"Watch Video"}):p.jsx(Me,{size:"sm",className:"w-full bg-gray-100 text-gray-500",disabled:!0,children:"Locked"})]})},X.id))})]})]},z.id))})]})]})}function a4(){const{id:r}=jE(),e=Ur(),{user:t,isLoadingAuth:i}=Ko(),[o,c]=T.useState([]),[u,f]=T.useState(null),[g,y]=T.useState(null),[_,w]=T.useState(!0),[x,I]=T.useState(null),[V,C]=T.useState(null),[k,L]=T.useState(!1),[K,z]=T.useState(!0);T.useEffect(()=>{const Y=async()=>{if(console.log("Checking course access for course:",r,"user:",t==null?void 0:t.uid),!t||!t.uid||!r){console.log("Skipping access check - missing user or course ID",{user:!!t,userId:t==null?void 0:t.uid,courseId:r}),z(!1);return}try{console.log("Fetching user purchases for access check");const se=await sy(t.uid);console.log("User purchases:",se);const D=se.map(M=>M.package_id).filter(Boolean);if(console.log("Purchased package IDs:",D),D.length===0){console.log("User has no purchased packages"),L(!1),z(!1);return}let A=!1,N=null;for(const M of D)try{console.log("Checking purchased package:",M,"for course:",r);const U=await ry(M);if(!U){console.warn("Package details not found for package ID:",M);continue}console.log("Package details:",U);const F=U.courses||[];if(console.log("Course IDs in package:",F),F.includes(r)){console.log("Found course",r,"in purchased package",M),N=U,A=!0,console.log("User has access to course",r,"through purchased package",M);break}}catch(U){console.warn(`Error checking purchased package ${M}:`,U)}L(A),console.log("Final access status for course",r,":",A),!A&&N&&(console.log("Storing noAccess data for course:",r,"package:",N.id),localStorage.setItem(`noAccess_${r}`,JSON.stringify({courseId:r,packageId:N.id,timestamp:Date.now()})))}catch(se){console.error("Error checking course access:",se)}finally{z(!1)}};i||(console.log("Initiating course access check"),Y())},[t,r,i]),T.useEffect(()=>{const Y=async()=>{try{console.log("Fetching course and videos for course:",r,"access status:",k),w(!0),I(null),f({id:r,title:"Course Videos",description:"Learn with our comprehensive video lessons"}),console.log(`Fetching chapters for course: ${r}`);const D=Sn(ut,"courses",r,"chapters");console.log("Fetching path:",`courses/${r}/chapters`);const A=await Lr(D);if(A.empty)console.log(`No chapters found for course: ${r}`),c([]);else{const N=A.docs.map(M=>({id:M.id,...M.data()}));console.log("Fetched chapters for",r,N),c(N),N&&N.length>0&&y(N[0])}}catch(se){console.error("Error:",se),console.error("Error fetching videos for course:",r,se),I(`Error loading videos: ${se.message}`)}finally{w(!1)}};!K&&(k||!t)&&(console.log("Initiating course and videos fetch",{checkingAccess:K,hasAccess:k,user:!!t}),r&&Y())},[r,K,k,t]);const X=Y=>{y(Y),C(null)};if(!K&&!k&&t){const Y=localStorage.getItem(`noAccess_${r}`);let se="";if(Y)try{const D=JSON.parse(Y);console.log("Retrieved noAccess data:",D),se=D.packageId||"",se||console.warn("packageId not found in noAccess data for course:",r)}catch(D){console.error("Error parsing noAccess data for course:",r,D)}else console.warn("No noAccess data found for course:",r);return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:p.jsxs(Ie,{className:"w-full max-w-md border-2 border-red-300",children:[p.jsxs(Ye,{children:[p.jsx("div",{className:"mx-auto bg-red-100 rounded-full p-3 mb-4",children:p.jsx(pP,{className:"h-12 w-12 text-red-600"})}),p.jsx(We,{className:"text-red-600 text-center",children:"Access Denied"})]}),p.jsxs($e,{children:[p.jsx("p",{className:"text-gray-600 mb-4 text-center",children:"You need to purchase a package to access this course content."}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx(Me,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>{console.log("Navigating to package:",se),e(`/packages/${se}/courses`)},disabled:!se,children:"Go to Package"}),p.jsx(Me,{variant:"outline",className:"w-full",onClick:()=>e("/dashboard"),children:"Go to Dashboard"})]})]})]})})}return K||i?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),p.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"Checking access..."})]})}):_?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),p.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"Loading course videos..."})]})}):x?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:p.jsxs(Ie,{className:"w-full max-w-md border-2 border-red-300",children:[p.jsx(Ye,{children:p.jsx(We,{className:"text-red-600",children:"Error Loading Course"})}),p.jsxs($e,{children:[p.jsx("p",{className:"text-gray-600 mb-4",children:x}),p.jsx(Me,{asChild:!0,className:"w-full",children:p.jsxs(fi,{to:"/",children:[p.jsx(hh,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})]})}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50",children:[p.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-orange-500 text-white py-8 px-4",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx(Me,{variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 mb-4",asChild:!0,children:p.jsxs(fi,{to:"/",children:[p.jsx(hh,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-black mb-2",children:(u==null?void 0:u.title)||"Course Videos"}),p.jsx("p",{className:"text-lg text-blue-100",children:(u==null?void 0:u.description)||"Learn with our comprehensive video lessons"}),(u==null?void 0:u.duration)&&p.jsxs("div",{className:"flex items-center justify-center mt-2 text-yellow-300",children:[p.jsx(aP,{className:"h-4 w-4 mr-1"}),"Total Duration: ",u.duration]})]})]})}),p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:p.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2",children:g?p.jsxs(Ie,{className:"bg-white shadow-xl border-2 border-blue-200",children:[p.jsx(Ye,{children:p.jsx("div",{className:"flex items-center justify-between",children:p.jsx(dh,{className:"bg-blue-100 text-blue-600 font-bold",children:"NOW PLAYING"})})}),p.jsxs($e,{className:"space-y-4",children:[p.jsx("div",{className:"w-full aspect-video bg-black rounded-lg overflow-hidden relative",children:p.jsx("div",{dangerouslySetInnerHTML:{__html:g.video_embed},className:"w-full h-full"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-black text-blue-600 mb-2",children:g.title}),p.jsx("p",{className:"text-gray-600 leading-relaxed",children:g.description||"No description available for this video."})]})]})]}):p.jsx(Ie,{className:"bg-white shadow-xl border-2 border-gray-200",children:p.jsx($e,{className:"py-12",children:p.jsxs("div",{className:"text-center",children:[p.jsx(_s,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Videos Available"}),p.jsx("p",{className:"text-gray-500",children:"This course doesn't have any videos yet."})]})})})}),p.jsx("div",{className:"lg:col-span-1",children:p.jsxs(Ie,{className:"bg-white shadow-xl border-2 border-orange-200",children:[p.jsxs(Ye,{children:[p.jsxs(We,{className:"text-xl font-black text-orange-600",children:["Course Videos (",o.length,")"]}),p.jsx(gt,{children:"Click on any video to play"})]}),p.jsx($e,{children:o.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(_s,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-500",children:"No lessons found for this course yet."})]}):p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:o.map(Y=>p.jsx("div",{className:`p-4 rounded-lg cursor-pointer transition-all duration-200 ${(g==null?void 0:g.id)===Y.id?"bg-orange-100 border-2 border-orange-300":"bg-gray-50 hover:bg-gray-100 border border-gray-200"}`,onClick:()=>X(Y),children:p.jsxs("div",{className:"flex items-start space-x-3",children:[Y.thumbnail?p.jsx("img",{src:Y.thumbnail,alt:Y.title,className:"w-16 h-16 object-cover rounded-lg flex-shrink-0"}):Y.thumbnail_url?p.jsx("img",{src:Y.thumbnail_url,alt:Y.title,className:"w-16 h-16 object-cover rounded-lg flex-shrink-0",onError:se=>{se.target.style.display="none"}}):p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:p.jsx(li,{className:"h-6 w-6 text-blue-500"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"font-semibold text-gray-800 line-clamp-2",children:Y.title}),p.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:Y.description})]})]})},Y.id))})})]})})]})})]})}function o4(){const r=Ur(),[e,t]=T.useState(!0),[i,o]=T.useState(null),[c,u]=T.useState(null),[f,g]=T.useState(0),y=()=>new Promise((C,k)=>{let L=0;const K=10,z=500,X=()=>{L++,console.log(`Checking auth state, attempt ${L}`),wn.currentUser?(console.log("User found:",wn.currentUser.uid),C(wn.currentUser)):L>=K?(console.log("Max attempts reached, user not found"),k(new Error("User not found after waiting"))):(console.log("User not available, retrying..."),setTimeout(X,z))},Y=Lw(wn,se=>{se&&(console.log("User found via onAuthStateChanged:",se.uid),Y(),C(se))});X()}),_=async(C,k,L)=>{try{const K={student_uid:(k==null?void 0:k.uid)||null,student_email:(k==null?void 0:k.email)||null,package_id:(C==null?void 0:C.id)||null,package_name:(C==null?void 0:C.name)||(C==null?void 0:C.title)||"",amount:(C==null?void 0:C.price)||0,error_message:(L==null?void 0:L.message)||"Unknown error",timestamp:_o(),status:"failed"};console.log("Logging payment to fallback collection:",K);const z=await Gg(Sn(ut,"payment_logs"),K);console.log("Payment log created with ID:",z.id)}catch(K){console.error("Failed to log payment to fallback collection:",K)}},w=async(C,k)=>{try{const L=k.courses||[];if(L.length===0){console.warn("No courses found in package");return}console.log("Granting access to courses:",L);const K=await wT(L);console.log("Fetched courses:",K);const z=K.map(async X=>{const Y={course_id:X.id,package_id:k.id,granted_at:_o(),course_name:X.name||X.title||""};try{await vT(Tn(ut,"students",C,"access",X.id),Y),console.log(`Access granted for course ${X.id}`)}catch(se){throw console.error(`Failed to grant access for course ${X.id}:`,se),se}});await Promise.all(z),console.log("All course access granted successfully")}catch(L){throw console.error("Error granting course access:",L),new Error("Failed to grant course access")}},x=async(C,k)=>{if(!k||!k.uid)throw new Error("User not authenticated");if(!C||!C.id)throw new Error("Invalid package data");const L=sessionStorage.getItem("referralCode")||"";console.log("Retrieved referral code from sessionStorage:",L);let K=0,z=null,X="";if(L)try{const se=ma(Sn(ut,"students"),Mr("referral_code","==",L)),D=await Lr(se);if(D.empty)console.log("No referrer found for referral code:",L);else{const A=D.docs[0],N=A.data(),M=A.ref;z=A.id,console.log("Found referrer with UID:",z);const U=await Kg(C.id,z);let F=0;if(U?(X="owned",F=await GO(C.id)):(X="unowned",F=await $O(C.id)),F>0)try{await uh(Tn(ut,"students",z),{wallet_balance:rE(F),total_earned:rE(F),last_updated:_o()}),K=F,console.log(`Referrer ${N.name} earned commission: ${F}`),console.log(`Updated referrer ${z} wallet balance and total earned`)}catch(P){console.error("Error updating referrer wallet:",P)}}}catch(se){console.error("Error processing referral commission:",se)}else console.log("No referral code provided");const Y={student_uid:k.uid,package_id:C.id,package_name:C.name||C.title||"",amount:C.price||0,payment_status:"success",purchase_date:_o(),referral_code:L||"",referred_by:z||"",commission_type:X,commission:K};console.log("Creating purchase record for package:",C.id,"user:",k.uid,"data:",Y);try{const se=await Gg(Sn(ut,"purchases"),Y);return console.log("Purchase record created successfully with ID:",se.id),await w(k.uid,C),localStorage.setItem("lastPurchase",JSON.stringify({packageId:C.id,userId:k.uid,timestamp:Date.now(),referrerCommission:K})),se.id}catch(se){throw console.error("Error creating purchase record:",se),await _(C,k,se),new Error("Failed to create purchase record")}};T.useEffect(()=>{const C=async()=>{try{if(sessionStorage.getItem("paymentProcessed")){console.log("Payment already processed, showing success UI"),t(!1);return}console.log("Waiting for auth state initialization...");const L=await y();console.log("Auth state initialized with user:",L.uid);const K=sessionStorage.getItem("checkoutPackage");if(console.log("Stored package for purchase record:",K),K){const z=JSON.parse(K);console.log("Parsed package data:",z),u(z),await x(z,L),console.log("Purchase record created successfully for package:",z.id),sessionStorage.setItem("paymentProcessed","true")}else console.warn("No package data found in session storage for purchase record");sessionStorage.removeItem("checkoutPackage"),sessionStorage.removeItem("referralCode"),t(!1)}catch(k){console.error("Error in payment success processing:",k),o(k.message||"An error occurred while processing your payment"),t(!1)}};console.log("PaymentSuccess component loaded"),C()},[]);const I=()=>{c&&c.id?r(`/packages/${c.id}/courses`):r("/dashboard")},V=()=>{r("/")};return e?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center px-4 py-12",children:p.jsx("div",{className:"text-center",children:p.jsxs(Ie,{className:"w-full max-w-md border-2 border-blue-300 shadow-2xl",children:[p.jsxs(Ye,{children:[p.jsx("div",{className:"mx-auto bg-blue-100 rounded-full p-3 mb-4",children:p.jsx(qd,{className:"h-12 w-12 text-blue-600 animate-spin"})}),p.jsx(We,{className:"text-3xl font-black text-blue-600 text-center",children:"Processing..."}),p.jsx(gt,{className:"text-center text-gray-600",children:"Please wait while we finalize your purchase and unlock your course access."})]}),p.jsx($e,{children:p.jsx("div",{className:"space-y-4",children:p.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:p.jsx("p",{className:"text-blue-800 text-center",children:"Setting up your course access..."})})})})]})})}):i?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center px-4 py-12",children:p.jsx("div",{className:"text-center",children:p.jsxs(Ie,{className:"w-full max-w-md border-2 border-red-300 shadow-2xl",children:[p.jsxs(Ye,{children:[p.jsx("div",{className:"mx-auto bg-red-100 rounded-full p-3 mb-4",children:p.jsx(qd,{className:"h-12 w-12 text-red-600"})}),p.jsx(We,{className:"text-3xl font-black text-red-600 text-center",children:"Processing Error"}),p.jsx(gt,{className:"text-center text-gray-600",children:"There was an issue processing your payment."})]}),p.jsx($e,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:p.jsx("p",{className:"text-red-800",children:i})}),p.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[p.jsxs(Me,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:I,children:[p.jsx(uE,{className:"h-4 w-4 mr-2"}),"Go to Dashboard"]}),p.jsxs(Me,{variant:"outline",className:"w-full",onClick:V,children:[p.jsx(_s,{className:"h-4 w-4 mr-2"}),"Back to Home"]})]})]})})]})})}):p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center px-4 py-12",children:p.jsx("div",{className:"text-center",children:p.jsxs(Ie,{className:"w-full max-w-md border-2 border-green-300 shadow-2xl",children:[p.jsxs(Ye,{children:[p.jsx("div",{className:"mx-auto bg-green-100 rounded-full p-3 mb-4",children:p.jsx(qd,{className:"h-12 w-12 text-green-600"})}),p.jsx(We,{className:"text-3xl font-black text-green-600 text-center",children:"Payment Successful!"}),p.jsx(gt,{className:"text-center text-gray-600",children:"Thank you for your purchase. Your payment has been processed successfully."})]}),p.jsx($e,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[p.jsxs("p",{className:"text-green-800",children:[p.jsx("span",{className:"font-semibold",children:"Order ID:"})," #","ORDER"+Date.now()]}),p.jsx("p",{className:"text-green-800 mt-2",children:"Your course access has been unlocked! You can now view your courses."}),f>0&&p.jsxs("p",{className:"text-green-800 mt-2",children:["Your referrer has received ",f," as commission."]})]}),p.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[p.jsxs(Me,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:I,children:[p.jsx(uE,{className:"h-4 w-4 mr-2"}),"View My Courses"]}),p.jsxs(Me,{variant:"outline",className:"w-full",onClick:V,children:[p.jsx(_s,{className:"h-4 w-4 mr-2"}),"Back to Home"]})]})]})})]})})})}function l4(){const{user:r,loading:e}=Ko();Ur();const[t,i]=T.useState(null),[o,c]=T.useState(""),[u,f]=T.useState(!1),[g,y]=T.useState("");T.useEffect(()=>{console.log("Checkout page loaded");const x=sessionStorage.getItem("checkoutPackage"),I=sessionStorage.getItem("referralCode");console.log("Stored package:",x),console.log("Stored referral code:",I),x&&i(JSON.parse(x)),I&&c(I)},[]);const _=async()=>{var x,I;if(console.log("Checkout: handleProcessPayment called"),console.log("Checkout: Current user state",r),console.log("Checkout: Current auth context",{user:r,loading:e}),console.log("Checkout: Package data:",t),console.log("Checkout: Referral code:",o),e){console.warn("Purchase attempt blocked: Auth state still loading"),y("Please wait, still loading user session...");return}if(!r){console.warn("Purchase attempt blocked: No user object"),console.log("Checkout: User check failed. User:",r),y("Please log in to purchase courses.");return}if(!r.uid){console.warn("Purchase attempt blocked: User ID not available"),console.log("Checkout: User ID check failed. User:",r),y("Please log in to purchase courses.");return}if(console.log("Checkout: User authenticated",r.uid),!t){y("Package data not found");return}f(!0),y("");try{console.log("Checkout: Processing payment for user",r.uid);const V={name:((x=r.user_metadata)==null?void 0:x.name)||"Student",phone:((I=r.user_metadata)==null?void 0:I.phone)||""};console.log("User data retrieved:",V);const C=await TT(t,{uid:r.uid,name:V.name,phone:V.phone},o);console.log("Payment result:",C),C&&!C.status&&y(C.message)}catch(V){console.error("Payment error:",V),y("Failed to process payment. Please try again.")}finally{f(!1)}},w=()=>{c("")};return t?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 py-12 px-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-4xl font-black text-blue-600 mb-2",children:"Checkout"}),p.jsx("p",{className:"text-gray-600",children:"Complete your purchase"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs(Ie,{className:"border-2 border-blue-200",children:[p.jsx(Ye,{children:p.jsx(We,{className:"text-2xl font-black text-blue-600",children:"Order Summary"})}),p.jsx($e,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg",children:t.title}),p.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]}),p.jsx("div",{className:"text-right",children:p.jsxs("p",{className:"font-bold text-lg",children:["",t.price]})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Package Price:"}),p.jsxs("span",{children:["",t.price]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"GST (18%):"}),p.jsxs("span",{children:["",Math.round(t.price*.18)]})]}),p.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-lg",children:[p.jsx("span",{children:"Total:"}),p.jsxs("span",{children:["",t.price]})]})]})]})})]}),p.jsxs(Ie,{className:"border-2 border-orange-200",children:[p.jsxs(Ye,{children:[p.jsx(We,{className:"text-2xl font-black text-orange-600",children:"Complete Purchase"}),p.jsx(gt,{children:"Enter referral code and proceed with payment"})]}),p.jsxs($e,{className:"space-y-6",children:[p.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[p.jsx("h2",{className:"text-lg font-bold mb-2",children:"Have a referral code?"}),p.jsxs("div",{className:"flex",children:[p.jsx(ri,{type:"text",placeholder:"Enter referral code",value:o,onChange:x=>c(x.target.value),className:"rounded-r-none"}),p.jsx(Me,{variant:"outline",onClick:w,className:"rounded-l-none border-l-0",children:"Clear"})]}),p.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Enter a referral code to earn commissions for the referrer"})]}),g&&p.jsx("div",{className:"p-3 bg-red-100 text-red-800 rounded-lg",children:g}),p.jsx(Me,{className:"w-full bg-blue-600 text-white hover:bg-blue-700 font-bold text-lg py-3",onClick:_,disabled:u,children:u?"Processing...":p.jsxs(p.Fragment,{children:[p.jsx(cP,{className:"h-5 w-5 mr-2"}),"Pay ",t.price]})}),p.jsx("div",{className:"flex flex-col gap-3",children:p.jsx(Me,{asChild:!0,variant:"outline",className:"w-full",children:p.jsxs("a",{href:"/",children:[p.jsx(oE,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})})]})]})]})]})}):p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center px-4 py-12",children:p.jsxs(Ie,{className:"w-full max-w-md",children:[p.jsxs(Ye,{children:[p.jsx(We,{className:"text-2xl font-black text-center text-blue-600",children:"Checkout"}),p.jsx(gt,{className:"text-center",children:"No package selected. Please go back and select a package."})]}),p.jsx($e,{children:p.jsx("div",{className:"flex flex-col gap-3",children:p.jsx(Me,{asChild:!0,className:"w-full bg-blue-600 hover:bg-blue-700",children:p.jsxs("a",{href:"/",children:[p.jsx(oE,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})})})]})})}function c4(){const[r,e]=T.useState(null),[t,i]=T.useState(!0),[o,c]=T.useState([]),[u,f]=T.useState([]),[g,y]=T.useState([]),[_,w]=T.useState({}),x=Ur(),I=(L,K)=>{const z=L.split(" ")[0].toUpperCase().slice(0,3),X=K.replace(/\s+/g,"_").toUpperCase().slice(0,6),Y=Math.floor(1e3+Math.random()*9e3);return`${z}-${X}-${Y}`},V=async(L,K)=>{const z=Tn(ut,"students",L.uid),X=await Po(z);let Y={},se={};X.exists()&&(Y=X.data(),se=Y.referral_codes||{});let D=!1;return K.forEach(A=>{const N=`${A.id}_code`;se[N]||(se[N]=I(L.displayName||Y.name||"USER",A.name||A.title||A.id),D=!0)}),D&&await uh(z,{referral_codes:se}),se},C=L=>{navigator.clipboard.writeText(L),alert(`Referral code ${L} copied to clipboard!`)},k=(L,K)=>{const z=`Join me in learning ${K}! Use my referral code: ${L}`,X=`https://wa.me/?text=${encodeURIComponent(z)}`;window.open(X,"_blank")};return T.useEffect(()=>{const L=wn.currentUser;if(!L){x("/login");return}const K=async()=>{try{const Y=await Po(Tn(ut,"students",L.uid));Y.exists()&&e(Y.data());const se=await ET();c(se);const A=(await sy(L.uid)).map(M=>M.package_id);f(se.filter(M=>A.includes(M.id))),y(se.filter(M=>!A.includes(M.id)));const N=await V(L,se);w(N)}catch(Y){console.error("Error fetching dashboard data:",Y)}finally{i(!1)}};K();const z=$g(ma(Sn(ut,"purchases"),Mr("student_uid","==",L.uid)),()=>{K()}),X=$g(Tn(ut,"students",L.uid),Y=>{Y.exists()&&e(Y.data())});return()=>{z(),X()}},[x]),t?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(mP,{className:"h-8 w-8 animate-spin text-blue-600"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Loading referral dashboard..."})]})}):p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 py-12 px-4",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-blue-600",children:"Referral Dashboard"}),p.jsxs("section",{className:"mb-12",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 pb-2 border-b-2 border-blue-500",children:"Your Purchased Packages"}),u.length===0?p.jsx(Ie,{className:"bg-white shadow-lg",children:p.jsxs($e,{className:"p-6 text-center",children:[p.jsx("p",{className:"text-gray-600",children:"You haven't purchased any packages yet."}),p.jsx(Me,{onClick:()=>x("/"),className:"mt-4 bg-blue-600 hover:bg-blue-700",children:"Browse Packages"})]})}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(L=>p.jsxs(Ie,{className:"bg-white shadow-lg hover:shadow-xl transition-shadow",children:[p.jsxs(Ye,{children:[p.jsx(We,{className:"text-lg font-bold text-blue-600",children:L.title||L.name}),p.jsx(gt,{children:L.description})]}),p.jsxs($e,{children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Referral Code:"}),p.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:_[`${L.id}_code`]||"Generating..."})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Me,{onClick:()=>C(_[`${L.id}_code`]),variant:"outline",size:"sm",className:"flex-1",children:[p.jsx(iE,{className:"h-4 w-4 mr-1"}),"Copy"]}),p.jsxs(Me,{onClick:()=>k(_[`${L.id}_code`],L.title||L.name),variant:"outline",size:"sm",className:"flex-1",children:[p.jsx(lE,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})]},L.id))})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 pb-2 border-b-2 border-orange-500",children:"Other Packages"}),p.jsx("p",{className:"text-gray-600 mb-6 italic",children:"These are referral codes for packages you haven't purchased yet."}),g.length===0?p.jsx(Ie,{className:"bg-white shadow-lg",children:p.jsx($e,{className:"p-6 text-center",children:p.jsx("p",{className:"text-gray-600",children:"You've purchased all available packages!"})})}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(L=>p.jsxs(Ie,{className:"bg-white shadow-lg hover:shadow-xl transition-shadow",children:[p.jsxs(Ye,{children:[p.jsx(We,{className:"text-lg font-bold text-orange-600",children:L.title||L.name}),p.jsx(gt,{children:L.description})]}),p.jsxs($e,{children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Referral Code:"}),p.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:_[`${L.id}_code`]||"Generating..."})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Me,{onClick:()=>C(_[`${L.id}_code`]),variant:"outline",size:"sm",className:"flex-1",children:[p.jsx(iE,{className:"h-4 w-4 mr-1"}),"Copy"]}),p.jsxs(Me,{onClick:()=>k(_[`${L.id}_code`],L.title||L.name),variant:"outline",size:"sm",className:"flex-1",children:[p.jsx(lE,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})]},L.id))})]})]})})}const u4=new kr,d4=()=>{const[r,e]=T.useState(""),[t,i]=T.useState(!1),o=Ur(),{user:c}=Ko(),u=(y,_,w)=>{const x=y.split(" ")[0].toUpperCase().slice(0,3),I=_.replace(/\s+/g,"_").toUpperCase().slice(0,6),V=Math.floor(1e3+Math.random()*9e3);return`${x}-${I}-${V}`},f=async(y,_)=>{const w={};return _.forEach(x=>{const I=`${x.id}_code`;w[I]=u(y,x.name||x.title||x.id,x.id)}),w},g=async()=>{if(!r.trim()){alert("Please enter your name");return}i(!0);try{console.log("User logging in with Google...");const _=(await J2(wn,u4)).user,x=(await Lr(Sn(ut,"packages"))).docs.map(C=>({id:C.id,...C.data()})),I=await f(r,x);console.log("Google login successful, creating student record..."),await vT(Tn(ut,"students",_.uid),{uid:_.uid,name:r,email:_.email,createdAt:_o(),referral_codes:I}),console.log("Student document created successfully."),sessionStorage.getItem("checkoutPackage")?(console.log("User had a package in cart, redirecting to checkout"),o("/checkout")):o("/dashboard")}catch(y){console.error("Google login error:",y),alert(`Failed to sign in with Google: ${y.message}`)}finally{i(!1)}};return hs.useEffect(()=>{c&&(sessionStorage.getItem("checkoutPackage")?(console.log("User is already logged in and had a package in cart, redirecting to checkout"),o("/checkout")):o("/dashboard"))},[c,o]),p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 flex items-center justify-center p-4",children:p.jsxs(Ie,{className:"w-full max-w-md bg-white shadow-2xl border rounded-2xl",children:[p.jsxs(Ye,{className:"text-center",children:[p.jsx(We,{className:"text-3xl font-black text-blue-600",children:"Welcome"}),p.jsx(gt,{className:"text-gray-600",children:"Sign in to continue your learning journey"})]}),p.jsxs($e,{className:"space-y-6",children:[p.jsx("div",{className:"space-y-2",children:p.jsx(ri,{type:"text",placeholder:"Your Name",value:r,onChange:y=>e(y.target.value),className:"w-full",disabled:t})}),p.jsx(Me,{onClick:g,className:"w-full bg-red-600 text-white hover:bg-red-700 font-bold text-lg py-6",size:"lg",disabled:t,children:t?"Signing in...":"Login with Google"})]})]})})};function h4(){return p.jsx(LP,{children:p.jsx(gR,{children:p.jsxs($1,{children:[p.jsx(Cr,{path:"/",element:p.jsx(zP,{})}),p.jsx(Cr,{path:"/packages/:id/courses",element:p.jsx(i4,{})}),p.jsx(Cr,{path:"/courses/:id/videos",element:p.jsx(a4,{})}),p.jsx(Cr,{path:"/payment-success",element:p.jsx(o4,{})}),p.jsx(Cr,{path:"/checkout",element:p.jsx(l4,{})}),p.jsx(Cr,{path:"/dashboard",element:p.jsx(s4,{})}),p.jsx(Cr,{path:"/referral-dashboard",element:p.jsx(c4,{})}),p.jsx(Cr,{path:"/login",element:p.jsx(d4,{})}),p.jsx(Cr,{path:"*",element:p.jsx(H1,{to:"/",replace:!0})})]})})})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(r=>{r.forEach(e=>{e.unregister()})});t1.createRoot(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsx(h4,{})}));
